(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();function Hy(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var uf={exports:{}},Vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function WE(){if(Ap)return Vl;Ap=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var y in u)y!=="key"&&(h[y]=u[y])}else h=u;return u=h.ref,{$$typeof:s,type:a,key:d,ref:u!==void 0?u:null,props:h}}return Vl.Fragment=e,Vl.jsx=i,Vl.jsxs=i,Vl}var Sp;function t0(){return Sp||(Sp=1,uf.exports=WE()),uf.exports}var pr=t0(),of={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp;function e0(){if(bp)return Et;bp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),M=Symbol.iterator;function k(C){return C===null||typeof C!="object"?null:(C=M&&C[M]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,nt={};function Z(C,K,at){this.props=C,this.context=K,this.refs=nt,this.updater=at||j}Z.prototype.isReactComponent={},Z.prototype.setState=function(C,K){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,K,"setState")},Z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function yt(){}yt.prototype=Z.prototype;function dt(C,K,at){this.props=C,this.context=K,this.refs=nt,this.updater=at||j}var Tt=dt.prototype=new yt;Tt.constructor=dt,$(Tt,Z.prototype),Tt.isPureReactComponent=!0;var Qt=Array.isArray,_t={H:null,A:null,T:null,S:null},Ut=Object.prototype.hasOwnProperty;function N(C,K,at,W,tt,At){return at=At.ref,{$$typeof:s,type:C,key:K,ref:at!==void 0?at:null,props:At}}function b(C,K){return N(C.type,K,void 0,void 0,void 0,C.props)}function A(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function D(C){var K={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(at){return K[at]})}var I=/\/+/g;function z(C,K){return typeof C=="object"&&C!==null&&C.key!=null?D(""+C.key):K.toString(36)}function w(){}function me(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(K){C.status==="pending"&&(C.status="fulfilled",C.value=K)},function(K){C.status==="pending"&&(C.status="rejected",C.reason=K)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ue(C,K,at,W,tt){var At=typeof C;(At==="undefined"||At==="boolean")&&(C=null);var vt=!1;if(C===null)vt=!0;else switch(At){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(C.$$typeof){case s:case e:vt=!0;break;case R:return vt=C._init,ue(vt(C._payload),K,at,W,tt)}}if(vt)return tt=tt(C),vt=W===""?"."+z(C,0):W,Qt(tt)?(at="",vt!=null&&(at=vt.replace(I,"$&/")+"/"),ue(tt,K,at,"",function(te){return te})):tt!=null&&(A(tt)&&(tt=b(tt,at+(tt.key==null||C&&C.key===tt.key?"":(""+tt.key).replace(I,"$&/")+"/")+vt)),K.push(tt)),1;vt=0;var oe=W===""?".":W+":";if(Qt(C))for(var xt=0;xt<C.length;xt++)W=C[xt],At=oe+z(W,xt),vt+=ue(W,K,at,At,tt);else if(xt=k(C),typeof xt=="function")for(C=xt.call(C),xt=0;!(W=C.next()).done;)W=W.value,At=oe+z(W,xt++),vt+=ue(W,K,at,At,tt);else if(At==="object"){if(typeof C.then=="function")return ue(me(C),K,at,W,tt);throw K=String(C),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return vt}function J(C,K,at){if(C==null)return C;var W=[],tt=0;return ue(C,W,"","",function(At){return K.call(at,At,tt++)}),W}function ht(C){if(C._status===-1){var K=C._result;K=K(),K.then(function(at){(C._status===0||C._status===-1)&&(C._status=1,C._result=at)},function(at){(C._status===0||C._status===-1)&&(C._status=2,C._result=at)}),C._status===-1&&(C._status=0,C._result=K)}if(C._status===1)return C._result.default;throw C._result}var lt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Pt(){}return Et.Children={map:J,forEach:function(C,K,at){J(C,function(){K.apply(this,arguments)},at)},count:function(C){var K=0;return J(C,function(){K++}),K},toArray:function(C){return J(C,function(K){return K})||[]},only:function(C){if(!A(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Et.Component=Z,Et.Fragment=i,Et.Profiler=u,Et.PureComponent=dt,Et.StrictMode=a,Et.Suspense=_,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,Et.act=function(){throw Error("act(...) is not supported in production builds of React.")},Et.cache=function(C){return function(){return C.apply(null,arguments)}},Et.cloneElement=function(C,K,at){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=$({},C.props),tt=C.key,At=void 0;if(K!=null)for(vt in K.ref!==void 0&&(At=void 0),K.key!==void 0&&(tt=""+K.key),K)!Ut.call(K,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&K.ref===void 0||(W[vt]=K[vt]);var vt=arguments.length-2;if(vt===1)W.children=at;else if(1<vt){for(var oe=Array(vt),xt=0;xt<vt;xt++)oe[xt]=arguments[xt+2];W.children=oe}return N(C.type,tt,void 0,void 0,At,W)},Et.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},Et.createElement=function(C,K,at){var W,tt={},At=null;if(K!=null)for(W in K.key!==void 0&&(At=""+K.key),K)Ut.call(K,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(tt[W]=K[W]);var vt=arguments.length-2;if(vt===1)tt.children=at;else if(1<vt){for(var oe=Array(vt),xt=0;xt<vt;xt++)oe[xt]=arguments[xt+2];tt.children=oe}if(C&&C.defaultProps)for(W in vt=C.defaultProps,vt)tt[W]===void 0&&(tt[W]=vt[W]);return N(C,At,void 0,void 0,null,tt)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(C){return{$$typeof:y,render:C}},Et.isValidElement=A,Et.lazy=function(C){return{$$typeof:R,_payload:{_status:-1,_result:C},_init:ht}},Et.memo=function(C,K){return{$$typeof:v,type:C,compare:K===void 0?null:K}},Et.startTransition=function(C){var K=_t.T,at={};_t.T=at;try{var W=C(),tt=_t.S;tt!==null&&tt(at,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Pt,lt)}catch(At){lt(At)}finally{_t.T=K}},Et.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},Et.use=function(C){return _t.H.use(C)},Et.useActionState=function(C,K,at){return _t.H.useActionState(C,K,at)},Et.useCallback=function(C,K){return _t.H.useCallback(C,K)},Et.useContext=function(C){return _t.H.useContext(C)},Et.useDebugValue=function(){},Et.useDeferredValue=function(C,K){return _t.H.useDeferredValue(C,K)},Et.useEffect=function(C,K){return _t.H.useEffect(C,K)},Et.useId=function(){return _t.H.useId()},Et.useImperativeHandle=function(C,K,at){return _t.H.useImperativeHandle(C,K,at)},Et.useInsertionEffect=function(C,K){return _t.H.useInsertionEffect(C,K)},Et.useLayoutEffect=function(C,K){return _t.H.useLayoutEffect(C,K)},Et.useMemo=function(C,K){return _t.H.useMemo(C,K)},Et.useOptimistic=function(C,K){return _t.H.useOptimistic(C,K)},Et.useReducer=function(C,K,at){return _t.H.useReducer(C,K,at)},Et.useRef=function(C){return _t.H.useRef(C)},Et.useState=function(C){return _t.H.useState(C)},Et.useSyncExternalStore=function(C,K,at){return _t.H.useSyncExternalStore(C,K,at)},Et.useTransition=function(){return _t.H.useTransition()},Et.version="19.0.0",Et}var Rp;function jf(){return Rp||(Rp=1,of.exports=e0()),of.exports}var Ro=jf();const n0=Hy(Ro);var cf={exports:{}},Ol={},hf={exports:{}},ff={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp;function i0(){return wp||(wp=1,function(s){function e(J,ht){var lt=J.length;J.push(ht);t:for(;0<lt;){var Pt=lt-1>>>1,C=J[Pt];if(0<u(C,ht))J[Pt]=ht,J[lt]=C,lt=Pt;else break t}}function i(J){return J.length===0?null:J[0]}function a(J){if(J.length===0)return null;var ht=J[0],lt=J.pop();if(lt!==ht){J[0]=lt;t:for(var Pt=0,C=J.length,K=C>>>1;Pt<K;){var at=2*(Pt+1)-1,W=J[at],tt=at+1,At=J[tt];if(0>u(W,lt))tt<C&&0>u(At,W)?(J[Pt]=At,J[tt]=lt,Pt=tt):(J[Pt]=W,J[at]=lt,Pt=at);else if(tt<C&&0>u(At,lt))J[Pt]=At,J[tt]=lt,Pt=tt;else break t}}return ht}function u(J,ht){var lt=J.sortIndex-ht.sortIndex;return lt!==0?lt:J.id-ht.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var _=[],v=[],R=1,M=null,k=3,j=!1,$=!1,nt=!1,Z=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Tt(J){for(var ht=i(v);ht!==null;){if(ht.callback===null)a(v);else if(ht.startTime<=J)a(v),ht.sortIndex=ht.expirationTime,e(_,ht);else break;ht=i(v)}}function Qt(J){if(nt=!1,Tt(J),!$)if(i(_)!==null)$=!0,me();else{var ht=i(v);ht!==null&&ue(Qt,ht.startTime-J)}}var _t=!1,Ut=-1,N=5,b=-1;function A(){return!(s.unstable_now()-b<N)}function D(){if(_t){var J=s.unstable_now();b=J;var ht=!0;try{t:{$=!1,nt&&(nt=!1,yt(Ut),Ut=-1),j=!0;var lt=k;try{e:{for(Tt(J),M=i(_);M!==null&&!(M.expirationTime>J&&A());){var Pt=M.callback;if(typeof Pt=="function"){M.callback=null,k=M.priorityLevel;var C=Pt(M.expirationTime<=J);if(J=s.unstable_now(),typeof C=="function"){M.callback=C,Tt(J),ht=!0;break e}M===i(_)&&a(_),Tt(J)}else a(_);M=i(_)}if(M!==null)ht=!0;else{var K=i(v);K!==null&&ue(Qt,K.startTime-J),ht=!1}}break t}finally{M=null,k=lt,j=!1}ht=void 0}}finally{ht?I():_t=!1}}}var I;if(typeof dt=="function")I=function(){dt(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,w=z.port2;z.port1.onmessage=D,I=function(){w.postMessage(null)}}else I=function(){Z(D,0)};function me(){_t||(_t=!0,I())}function ue(J,ht){Ut=Z(function(){J(s.unstable_now())},ht)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(J){J.callback=null},s.unstable_continueExecution=function(){$||j||($=!0,me())},s.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<J?Math.floor(1e3/J):5},s.unstable_getCurrentPriorityLevel=function(){return k},s.unstable_getFirstCallbackNode=function(){return i(_)},s.unstable_next=function(J){switch(k){case 1:case 2:case 3:var ht=3;break;default:ht=k}var lt=k;k=ht;try{return J()}finally{k=lt}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(J,ht){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var lt=k;k=J;try{return ht()}finally{k=lt}},s.unstable_scheduleCallback=function(J,ht,lt){var Pt=s.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Pt+lt:Pt):lt=Pt,J){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=lt+C,J={id:R++,callback:ht,priorityLevel:J,startTime:lt,expirationTime:C,sortIndex:-1},lt>Pt?(J.sortIndex=lt,e(v,J),i(_)===null&&J===i(v)&&(nt?(yt(Ut),Ut=-1):nt=!0,ue(Qt,lt-Pt))):(J.sortIndex=C,e(_,J),$||j||($=!0,me())),J},s.unstable_shouldYield=A,s.unstable_wrapCallback=function(J){var ht=k;return function(){var lt=k;k=ht;try{return J.apply(this,arguments)}finally{k=lt}}}}(ff)),ff}var Dp;function r0(){return Dp||(Dp=1,hf.exports=i0()),hf.exports}var df={exports:{}},qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function a0(){if(Cp)return qe;Cp=1;var s=jf();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)v+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,v,R){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:M==null?null:""+M,children:_,containerInfo:v,implementation:R}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,qe.createPortal=function(_,v){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,R)},qe.flushSync=function(_){var v=d.T,R=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=R,a.d.f()}},qe.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},qe.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},qe.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var R=v.as,M=y(R,v.crossOrigin),k=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;R==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:M,integrity:k,fetchPriority:j}):R==="script"&&a.d.X(_,{crossOrigin:M,integrity:k,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},qe.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var R=y(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:R,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},qe.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var R=v.as,M=y(R,v.crossOrigin);a.d.L(_,R,{crossOrigin:M,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},qe.preloadModule=function(_,v){if(typeof _=="string")if(v){var R=y(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:R,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},qe.requestFormReset=function(_){a.d.r(_)},qe.unstable_batchedUpdates=function(_,v){return _(v)},qe.useFormState=function(_,v,R){return d.H.useFormState(_,v,R)},qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},qe.version="19.0.0",qe}var Vp;function s0(){if(Vp)return df.exports;Vp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),df.exports=a0(),df.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function l0(){if(Op)return Ol;Op=1;var s=r0(),e=jf(),i=s0();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),j=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),Tt=Symbol.for("react.offscreen"),Qt=Symbol.for("react.memo_cache_sentinel"),_t=Symbol.iterator;function Ut(t){return t===null||typeof t!="object"?null:(t=_t&&t[_t]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function b(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case y:return"Portal";case R:return"Profiler";case v:return"StrictMode";case nt:return"Suspense";case Z:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case j:return(t.displayName||"Context")+".Provider";case k:return(t._context.displayName||"Context")+".Consumer";case $:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yt:return n=t.displayName||null,n!==null?n:b(t.type)||"Memo";case dt:n=t._payload,t=t._init;try{return b(t(n))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,I,z;function w(t){if(I===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);I=n&&n[1]||"",z=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+I+t+z}var me=!1;function ue(t,n){if(!t||me)return"";me=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var B=q}Reflect.construct(t,[],F)}else{try{F.call()}catch(q){B=q}t.call(F.prototype)}}else{try{throw Error()}catch(q){B=q}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var S=p.split(`
`),O=E.split(`
`);for(c=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;if(l===S.length||c===O.length)for(l=S.length-1,c=O.length-1;1<=l&&0<=c&&S[l]!==O[c];)c--;for(;1<=l&&0<=c;l--,c--)if(S[l]!==O[c]){if(l!==1||c!==1)do if(l--,c--,0>c||S[l]!==O[c]){var H=`
`+S[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{me=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?w(r):""}function J(t){switch(t.tag){case 26:case 27:case 5:return w(t.type);case 16:return w("Lazy");case 13:return w("Suspense");case 19:return w("SuspenseList");case 0:case 15:return t=ue(t.type,!1),t;case 11:return t=ue(t.type.render,!1),t;case 1:return t=ue(t.type,!0),t;default:return""}}function ht(t){try{var n="";do n+=J(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function lt(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function Pt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function C(t){if(lt(t)!==t)throw Error(a(188))}function K(t){var n=t.alternate;if(!n){if(n=lt(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return C(c),t;if(f===l)return C(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var p=!1,E=c.child;E;){if(E===r){p=!0,r=c,l=f;break}if(E===l){p=!0,l=c,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,l=c;break}if(E===l){p=!0,l=f,r=c;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function at(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=at(t),n!==null)return n;t=t.sibling}return null}var W=Array.isArray,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,At={pending:!1,data:null,method:null,action:null},vt=[],oe=-1;function xt(t){return{current:t}}function te(t){0>oe||(t.current=vt[oe],vt[oe]=null,oe--)}function Ht(t,n){oe++,vt[oe]=t.current,t.current=n}var Qe=xt(null),ni=xt(null),on=xt(null),Ni=xt(null);function Ui(t,n){switch(Ht(on,n),Ht(ni,t),Ht(Qe,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?$g(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=$g(t),n=Jg(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}te(Qe),Ht(Qe,n)}function ii(){te(Qe),te(ni),te(on)}function bs(t){t.memoizedState!==null&&Ht(Ni,t);var n=Qe.current,r=Jg(n,t.type);n!==r&&(Ht(ni,t),Ht(Qe,r))}function ga(t){ni.current===t&&(te(Qe),te(ni)),Ni.current===t&&(te(Ni),bl._currentValue=At)}var pa=Object.prototype.hasOwnProperty,Cr=s.unstable_scheduleCallback,ya=s.unstable_cancelCallback,oc=s.unstable_shouldYield,Rs=s.unstable_requestPaint,$e=s.unstable_now,Jl=s.unstable_getCurrentPriorityLevel,ge=s.unstable_ImmediatePriority,be=s.unstable_UserBlockingPriority,ri=s.unstable_NormalPriority,Wl=s.unstable_LowPriority,ws=s.unstable_IdlePriority,cc=s.log,Vr=s.unstable_setDisableYieldValue,xi=null,Pe=null;function Ds(t){if(Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(xi,t,void 0,(t.current.flags&128)===128)}catch{}}function xn(t){if(typeof cc=="function"&&Vr(t),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(xi,t)}catch{}}var Fe=Math.clz32?Math.clz32:eu,Cs=Math.log,tu=Math.LN2;function eu(t){return t>>>=0,t===0?32:31-(Cs(t)/tu|0)|0}var zn=128,zi=4194304;function Cn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function cn(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,c=t.suspendedLanes,f=t.pingedLanes,p=t.warmLanes;t=t.finishedLanes!==0;var E=r&134217727;return E!==0?(r=E&~c,r!==0?l=Cn(r):(f&=E,f!==0?l=Cn(f):t||(p=E&~p,p!==0&&(l=Cn(p))))):(E=r&~c,E!==0?l=Cn(E):f!==0?l=Cn(f):t||(p=r&~p,p!==0&&(l=Cn(p)))),l===0?0:n!==0&&n!==l&&(n&c)===0&&(c=l&-l,p=n&-n,c>=p||c===32&&(p&4194176)!==0)?n:l}function Li(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function _a(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vs(){var t=zn;return zn<<=1,(zn&4194176)===0&&(zn=128),t}function Bi(){var t=zi;return zi<<=1,(zi&62914560)===0&&(zi=4194304),t}function va(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ae(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function nu(t,n,r,l,c,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,S=t.expirationTimes,O=t.hiddenUpdates;for(r=p&~r;0<r;){var H=31-Fe(r),F=1<<H;E[H]=0,S[H]=-1;var B=O[H];if(B!==null)for(O[H]=null,H=0;H<B.length;H++){var q=B[H];q!==null&&(q.lane&=-536870913)}r&=~F}l!==0&&Pi(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Pi(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Fe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function ki(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Fe(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function iu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ru(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:pp(t.type))}function qi(t,n){var r=tt.p;try{return tt.p=t,n()}finally{tt.p=r}}var Ln=Math.random().toString(36).slice(2),Re="__reactFiber$"+Ln,pe="__reactProps$"+Ln,ai="__reactContainer$"+Ln,Or="__reactEvents$"+Ln,Ea="__reactListeners$"+Ln,Bn="__reactHandles$"+Ln,Os="__reactResources$"+Ln,Hi="__reactMarker$"+Ln;function Ir(t){delete t[Re],delete t[pe],delete t[Or],delete t[Ea],delete t[Bn]}function Vn(t){var n=t[Re];if(n)return n;for(var r=t.parentNode;r;){if(n=r[ai]||r[Re]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=ep(t);t!==null;){if(r=t[Re])return r;t=ep(t)}return n}t=r,r=t.parentNode}return null}function si(t){if(t=t[Re]||t[ai]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function ji(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Gi(t){var n=t[Os];return n||(n=t[Os]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Zt(t){t[Hi]=!0}var Is=new Set,Ta={};function en(t,n){Je(t,n),Je(t+"Capture",n)}function Je(t,n){for(Ta[t]=n,t=0;t<n.length;t++)Is.add(n[t])}var nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ms={},Ns={};function au(t){return pa.call(Ns,t)?!0:pa.call(Ms,t)?!1:hc.test(t)?Ns[t]=!0:(Ms[t]=!0,!1)}function Qi(t,n,r){if(au(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Fi(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function hn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ye(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function su(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function fc(t){var n=su(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){l=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(p){l=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Mr(t){t._valueTracker||(t._valueTracker=fc(t))}function Us(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=su(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Aa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var li=/[\n"\\]/g;function ee(t){return t.replace(li,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Yi(t,n,r,l,c,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ye(n)):t.value!==""+Ye(n)&&(t.value=""+Ye(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Sa(t,p,Ye(n)):r!=null?Sa(t,p,Ye(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ye(E):t.removeAttribute("name")}function Nr(t,n,r,l,c,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ye(r):"",n=n!=null?""+Ye(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p)}function Sa(t,n,r){n==="number"&&Aa(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function zt(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ye(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ur(t,n,r){if(n!=null&&(n=""+Ye(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ye(r):""}function Ki(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(W(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ye(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function fn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var dc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xs(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||dc.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function lu(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&xs(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&xs(t,f,n[f])}function zs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pn(t){return gc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var dn=null;function ba(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ui=null,oi=null;function ci(t){var n=si(t);if(n&&(t=n.stateNode)){var r=t[pe]||null;t:switch(t=n.stateNode,n.type){case"input":if(Yi(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ee(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[pe]||null;if(!c)throw Error(a(90));Yi(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Us(l)}break t;case"textarea":Ur(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&zt(t,!!r.multiple,n,!1)}}}var Ls=!1;function uu(t,n,r){if(Ls)return t(n,r);Ls=!0;try{var l=t(n);return l}finally{if(Ls=!1,(ui!==null||oi!==null)&&(Wu(),ui&&(n=ui,t=oi,oi=ui=null,ci(n),t)))for(n=0;n<t.length;n++)ci(t[n])}}function xr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[pe]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var mn=!1;if(nn)try{var zr={};Object.defineProperty(zr,"passive",{get:function(){mn=!0}}),window.addEventListener("test",zr,zr),window.removeEventListener("test",zr,zr)}catch{mn=!1}var kn=null,Xi=null,hi=null;function Bs(){if(hi)return hi;var t,n=Xi,r=n.length,l,c="value"in kn?kn.value:kn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var p=r-t;for(l=1;l<=p&&n[r-l]===c[f-l];l++);return hi=c.slice(t,1<l?1-l:void 0)}function qn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Hn(){return!0}function Ps(){return!1}function we(t){function n(r,l,c,f,p){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hn:Ps,this.isPropagationStopped=Ps,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){},isPersistent:Hn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ra=we(kt),Lr=D({},kt,{view:0,detail:0}),ou=we(Lr),wa,Da,jn,Br=D({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jn&&(jn&&t.type==="mousemove"?(wa=t.screenX-jn.screenX,Da=t.screenY-jn.screenY):Da=wa=0,jn=t),wa)},movementY:function(t){return"movementY"in t?t.movementY:Da}}),gn=we(Br),cu=D({},Br,{dataTransfer:0}),pc=we(cu),Pr=D({},Lr,{relatedTarget:0}),Ca=we(Pr),ks=D({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),Va=we(ks),hu=D({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Oa=we(hu),yc=D({},kt,{data:0}),qs=we(yc),kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=du[t])?!!n[t]:!1}function qr(){return Hs}var mu=D({},Lr,{key:function(t){if(t.key){var n=kr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=qn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qr,charCode:function(t){return t.type==="keypress"?qn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ia=we(mu),gu=D({},Br,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),js=we(gu),fi=D({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qr}),pu=we(fi),yu=D({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),_u=we(yu),vu=D({},Br,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ma=we(vu),Ke=D({},kt,{newState:0,oldState:0}),Eu=we(Ke),Tu=[9,13,27,32],Gn=nn&&"CompositionEvent"in window,o=null;nn&&"documentMode"in document&&(o=document.documentMode);var m=nn&&"TextEvent"in window&&!o,g=nn&&(!Gn||o&&8<o&&11>=o),T=" ",x=!1;function P(t,n){switch(t){case"keyup":return Tu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vt=!1;function ye(t,n){switch(t){case"compositionend":return X(n);case"keypress":return n.which!==32?null:(x=!0,T);case"textInput":return t=n.data,t===T&&x?null:t;default:return null}}function Ot(t,n){if(Vt)return t==="compositionend"||!Gn&&P(t,n)?(t=Bs(),hi=Xi=kn=null,Vt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _e(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!De[t.type]:n==="textarea"}function di(t,n,r,l){ui?oi?oi.push(l):oi=[l]:ui=l,n=ro(n,"onChange"),0<n.length&&(r=new Ra("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Me=null,Qn=null;function Gs(t){Fg(t,0)}function Au(t){var n=ji(t);if(Us(n))return t}function Td(t,n){if(t==="change")return n}var Ad=!1;if(nn){var _c;if(nn){var vc="oninput"in document;if(!vc){var Sd=document.createElement("div");Sd.setAttribute("oninput","return;"),vc=typeof Sd.oninput=="function"}_c=vc}else _c=!1;Ad=_c&&(!document.documentMode||9<document.documentMode)}function bd(){Me&&(Me.detachEvent("onpropertychange",Rd),Qn=Me=null)}function Rd(t){if(t.propertyName==="value"&&Au(Qn)){var n=[];di(n,Qn,t,ba(t)),uu(Gs,n)}}function Vv(t,n,r){t==="focusin"?(bd(),Me=n,Qn=r,Me.attachEvent("onpropertychange",Rd)):t==="focusout"&&bd()}function Ov(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Au(Qn)}function Iv(t,n){if(t==="click")return Au(n)}function Mv(t,n){if(t==="input"||t==="change")return Au(n)}function Nv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var rn=typeof Object.is=="function"?Object.is:Nv;function Qs(t,n){if(rn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!pa.call(n,c)||!rn(t[c],n[c]))return!1}return!0}function wd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dd(t,n){var r=wd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=wd(r)}}function Cd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Cd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Vd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Aa(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Aa(t.document)}return n}function Ec(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Uv(t,n){var r=Vd(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&Cd(n.ownerDocument.documentElement,n)){if(l!==null&&Ec(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!r.extend&&f>l&&(c=l,l=f,f=c),c=Dd(n,f);var p=Dd(n,l);c&&p&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==p.node||r.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),r.removeAllRanges(),f>l?(r.addRange(t),r.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var xv=nn&&"documentMode"in document&&11>=document.documentMode,Na=null,Tc=null,Fs=null,Ac=!1;function Od(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ac||Na==null||Na!==Aa(l)||(l=Na,"selectionStart"in l&&Ec(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Fs&&Qs(Fs,l)||(Fs=l,l=ro(Tc,"onSelect"),0<l.length&&(n=new Ra("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Na)))}function Hr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ua={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},Sc={},Id={};nn&&(Id=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function jr(t){if(Sc[t])return Sc[t];if(!Ua[t])return t;var n=Ua[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Id)return Sc[t]=n[r];return t}var Md=jr("animationend"),Nd=jr("animationiteration"),Ud=jr("animationstart"),zv=jr("transitionrun"),Lv=jr("transitionstart"),Bv=jr("transitioncancel"),xd=jr("transitionend"),zd=new Map,Ld="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function On(t,n){zd.set(t,n),en(n,[t])}var pn=[],xa=0,bc=0;function Su(){for(var t=xa,n=bc=xa=0;n<t;){var r=pn[n];pn[n++]=null;var l=pn[n];pn[n++]=null;var c=pn[n];pn[n++]=null;var f=pn[n];if(pn[n++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}f!==0&&Bd(r,c,f)}}function bu(t,n,r,l){pn[xa++]=t,pn[xa++]=n,pn[xa++]=r,pn[xa++]=l,bc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Rc(t,n,r,l){return bu(t,n,r,l),Ru(t)}function Zi(t,n){return bu(t,null,null,n),Ru(t)}function Bd(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;c&&n!==null&&t.tag===3&&(f=t.stateNode,c=31-Fe(r),f=f.hiddenUpdates,t=f[c],t===null?f[c]=[n]:t.push(n),n.lane=r|536870912)}function Ru(t){if(50<yl)throw yl=0,Ih=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var za={},Pd=new WeakMap;function yn(t,n){if(typeof t=="object"&&t!==null){var r=Pd.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ht(n)},Pd.set(t,n),n)}return{value:t,source:n,stack:ht(n)}}var La=[],Ba=0,wu=null,Du=0,_n=[],vn=0,Gr=null,mi=1,gi="";function Qr(t,n){La[Ba++]=Du,La[Ba++]=wu,wu=t,Du=n}function kd(t,n,r){_n[vn++]=mi,_n[vn++]=gi,_n[vn++]=Gr,Gr=t;var l=mi;t=gi;var c=32-Fe(l)-1;l&=~(1<<c),r+=1;var f=32-Fe(n)+c;if(30<f){var p=c-c%5;f=(l&(1<<p)-1).toString(32),l>>=p,c-=p,mi=1<<32-Fe(n)+c|r<<c|l,gi=f+t}else mi=1<<f|r<<c|l,gi=t}function wc(t){t.return!==null&&(Qr(t,1),kd(t,1,0))}function Dc(t){for(;t===wu;)wu=La[--Ba],La[Ba]=null,Du=La[--Ba],La[Ba]=null;for(;t===Gr;)Gr=_n[--vn],_n[vn]=null,gi=_n[--vn],_n[vn]=null,mi=_n[--vn],_n[vn]=null}var Xe=null,Ne=null,Lt=!1,In=null,Fn=!1,Cc=Error(a(519));function Fr(t){var n=Error(a(418,""));throw Xs(yn(n,t)),Cc}function qd(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Re]=t,n[pe]=l,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(r=0;r<vl.length;r++)Ct(vl[r],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Nr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Mr(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),Ki(n,l.value,l.defaultValue,l.children),Mr(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Zg(n.textContent,r)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=ao),n=!0):n=!1,n||Fr(t)}function Hd(t){for(Xe=t.return;Xe;)switch(Xe.tag){case 3:case 27:Fn=!0;return;case 5:case 13:Fn=!1;return;default:Xe=Xe.return}}function Ys(t){if(t!==Xe)return!1;if(!Lt)return Hd(t),Lt=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Kh(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&Ne&&Fr(t),Hd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Ne=Nn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Ne=null}}else Ne=Xe?Nn(t.stateNode.nextSibling):null;return!0}function Ks(){Ne=Xe=null,Lt=!1}function Xs(t){In===null?In=[t]:In.push(t)}var Zs=Error(a(460)),jd=Error(a(474)),Vc={then:function(){}};function Gd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Cu(){}function Qd(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Cu,Cu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Zs?Error(a(483)):t;default:if(typeof n.status=="string")n.then(Cu,Cu);else{if(t=Yt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Zs?Error(a(483)):t}throw $s=n,Zs}}var $s=null;function Fd(){if($s===null)throw Error(a(459));var t=$s;return $s=null,t}var Pa=null,Js=0;function Vu(t){var n=Js;return Js+=1,Pa===null&&(Pa=[]),Qd(Pa,t,n)}function Ws(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ou(t,n){throw n.$$typeof===h?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Yd(t){var n=t._init;return n(t._payload)}function Kd(t){function n(U,V){if(t){var L=U.deletions;L===null?(U.deletions=[V],U.flags|=16):L.push(V)}}function r(U,V){if(!t)return null;for(;V!==null;)n(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function c(U,V){return U=ur(U,V),U.index=0,U.sibling=null,U}function f(U,V,L){return U.index=L,t?(L=U.alternate,L!==null?(L=L.index,L<V?(U.flags|=33554434,V):L):(U.flags|=33554434,V)):(U.flags|=1048576,V)}function p(U){return t&&U.alternate===null&&(U.flags|=33554434),U}function E(U,V,L,G){return V===null||V.tag!==6?(V=Sh(L,U.mode,G),V.return=U,V):(V=c(V,L),V.return=U,V)}function S(U,V,L,G){var it=L.type;return it===_?H(U,V,L.props.children,G,L.key):V!==null&&(V.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===dt&&Yd(it)===V.type)?(V=c(V,L.props),Ws(V,L),V.return=U,V):(V=Ku(L.type,L.key,L.props,null,U.mode,G),Ws(V,L),V.return=U,V)}function O(U,V,L,G){return V===null||V.tag!==4||V.stateNode.containerInfo!==L.containerInfo||V.stateNode.implementation!==L.implementation?(V=bh(L,U.mode,G),V.return=U,V):(V=c(V,L.children||[]),V.return=U,V)}function H(U,V,L,G,it){return V===null||V.tag!==7?(V=na(L,U.mode,G,it),V.return=U,V):(V=c(V,L),V.return=U,V)}function F(U,V,L){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Sh(""+V,U.mode,L),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case d:return L=Ku(V.type,V.key,V.props,null,U.mode,L),Ws(L,V),L.return=U,L;case y:return V=bh(V,U.mode,L),V.return=U,V;case dt:var G=V._init;return V=G(V._payload),F(U,V,L)}if(W(V)||Ut(V))return V=na(V,U.mode,L,null),V.return=U,V;if(typeof V.then=="function")return F(U,Vu(V),L);if(V.$$typeof===j)return F(U,Qu(U,V),L);Ou(U,V)}return null}function B(U,V,L,G){var it=V!==null?V.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return it!==null?null:E(U,V,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case d:return L.key===it?S(U,V,L,G):null;case y:return L.key===it?O(U,V,L,G):null;case dt:return it=L._init,L=it(L._payload),B(U,V,L,G)}if(W(L)||Ut(L))return it!==null?null:H(U,V,L,G,null);if(typeof L.then=="function")return B(U,V,Vu(L),G);if(L.$$typeof===j)return B(U,V,Qu(U,L),G);Ou(U,L)}return null}function q(U,V,L,G,it){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return U=U.get(L)||null,E(V,U,""+G,it);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case d:return U=U.get(G.key===null?L:G.key)||null,S(V,U,G,it);case y:return U=U.get(G.key===null?L:G.key)||null,O(V,U,G,it);case dt:var Rt=G._init;return G=Rt(G._payload),q(U,V,L,G,it)}if(W(G)||Ut(G))return U=U.get(L)||null,H(V,U,G,it,null);if(typeof G.then=="function")return q(U,V,L,Vu(G),it);if(G.$$typeof===j)return q(U,V,L,Qu(V,G),it);Ou(V,G)}return null}function rt(U,V,L,G){for(var it=null,Rt=null,st=V,ct=V=0,Oe=null;st!==null&&ct<L.length;ct++){st.index>ct?(Oe=st,st=null):Oe=st.sibling;var Bt=B(U,st,L[ct],G);if(Bt===null){st===null&&(st=Oe);break}t&&st&&Bt.alternate===null&&n(U,st),V=f(Bt,V,ct),Rt===null?it=Bt:Rt.sibling=Bt,Rt=Bt,st=Oe}if(ct===L.length)return r(U,st),Lt&&Qr(U,ct),it;if(st===null){for(;ct<L.length;ct++)st=F(U,L[ct],G),st!==null&&(V=f(st,V,ct),Rt===null?it=st:Rt.sibling=st,Rt=st);return Lt&&Qr(U,ct),it}for(st=l(st);ct<L.length;ct++)Oe=q(st,U,ct,L[ct],G),Oe!==null&&(t&&Oe.alternate!==null&&st.delete(Oe.key===null?ct:Oe.key),V=f(Oe,V,ct),Rt===null?it=Oe:Rt.sibling=Oe,Rt=Oe);return t&&st.forEach(function(gr){return n(U,gr)}),Lt&&Qr(U,ct),it}function gt(U,V,L,G){if(L==null)throw Error(a(151));for(var it=null,Rt=null,st=V,ct=V=0,Oe=null,Bt=L.next();st!==null&&!Bt.done;ct++,Bt=L.next()){st.index>ct?(Oe=st,st=null):Oe=st.sibling;var gr=B(U,st,Bt.value,G);if(gr===null){st===null&&(st=Oe);break}t&&st&&gr.alternate===null&&n(U,st),V=f(gr,V,ct),Rt===null?it=gr:Rt.sibling=gr,Rt=gr,st=Oe}if(Bt.done)return r(U,st),Lt&&Qr(U,ct),it;if(st===null){for(;!Bt.done;ct++,Bt=L.next())Bt=F(U,Bt.value,G),Bt!==null&&(V=f(Bt,V,ct),Rt===null?it=Bt:Rt.sibling=Bt,Rt=Bt);return Lt&&Qr(U,ct),it}for(st=l(st);!Bt.done;ct++,Bt=L.next())Bt=q(st,U,ct,Bt.value,G),Bt!==null&&(t&&Bt.alternate!==null&&st.delete(Bt.key===null?ct:Bt.key),V=f(Bt,V,ct),Rt===null?it=Bt:Rt.sibling=Bt,Rt=Bt);return t&&st.forEach(function(JE){return n(U,JE)}),Lt&&Qr(U,ct),it}function re(U,V,L,G){if(typeof L=="object"&&L!==null&&L.type===_&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case d:t:{for(var it=L.key;V!==null;){if(V.key===it){if(it=L.type,it===_){if(V.tag===7){r(U,V.sibling),G=c(V,L.props.children),G.return=U,U=G;break t}}else if(V.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===dt&&Yd(it)===V.type){r(U,V.sibling),G=c(V,L.props),Ws(G,L),G.return=U,U=G;break t}r(U,V);break}else n(U,V);V=V.sibling}L.type===_?(G=na(L.props.children,U.mode,G,L.key),G.return=U,U=G):(G=Ku(L.type,L.key,L.props,null,U.mode,G),Ws(G,L),G.return=U,U=G)}return p(U);case y:t:{for(it=L.key;V!==null;){if(V.key===it)if(V.tag===4&&V.stateNode.containerInfo===L.containerInfo&&V.stateNode.implementation===L.implementation){r(U,V.sibling),G=c(V,L.children||[]),G.return=U,U=G;break t}else{r(U,V);break}else n(U,V);V=V.sibling}G=bh(L,U.mode,G),G.return=U,U=G}return p(U);case dt:return it=L._init,L=it(L._payload),re(U,V,L,G)}if(W(L))return rt(U,V,L,G);if(Ut(L)){if(it=Ut(L),typeof it!="function")throw Error(a(150));return L=it.call(L),gt(U,V,L,G)}if(typeof L.then=="function")return re(U,V,Vu(L),G);if(L.$$typeof===j)return re(U,V,Qu(U,L),G);Ou(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,V!==null&&V.tag===6?(r(U,V.sibling),G=c(V,L),G.return=U,U=G):(r(U,V),G=Sh(L,U.mode,G),G.return=U,U=G),p(U)):r(U,V)}return function(U,V,L,G){try{Js=0;var it=re(U,V,L,G);return Pa=null,it}catch(st){if(st===Zs)throw st;var Rt=Sn(29,st,null,U.mode);return Rt.lanes=G,Rt.return=U,Rt}finally{}}}var Yr=Kd(!0),Xd=Kd(!1),ka=xt(null),Iu=xt(0);function Zd(t,n){t=wi,Ht(Iu,t),Ht(ka,n),wi=t|n.baseLanes}function Oc(){Ht(Iu,wi),Ht(ka,ka.current)}function Ic(){wi=Iu.current,te(ka),te(Iu)}var En=xt(null),Yn=null;function $i(t){var n=t.alternate;Ht(ve,ve.current&1),Ht(En,t),Yn===null&&(n===null||ka.current!==null||n.memoizedState!==null)&&(Yn=t)}function $d(t){if(t.tag===22){if(Ht(ve,ve.current),Ht(En,t),Yn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Yn=t)}}else Ji()}function Ji(){Ht(ve,ve.current),Ht(En,En.current)}function pi(t){te(En),Yn===t&&(Yn=null),te(ve)}var ve=xt(0);function Mu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},kv=s.unstable_scheduleCallback,qv=s.unstable_NormalPriority,Ee={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mc(){return{controller:new Pv,data:new Map,refCount:0}}function tl(t){t.refCount--,t.refCount===0&&kv(qv,function(){t.controller.abort()})}var el=null,Nc=0,qa=0,Ha=null;function Hv(t,n){if(el===null){var r=el=[];Nc=0,qa=Ph(),Ha={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Nc++,n.then(Jd,Jd),n}function Jd(){if(--Nc===0&&el!==null){Ha!==null&&(Ha.status="fulfilled");var t=el;el=null,qa=0,Ha=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function jv(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Wd=A.S;A.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Hv(t,n),Wd!==null&&Wd(t,n)};var Kr=xt(null);function Uc(){var t=Kr.current;return t!==null?t:Yt.pooledCache}function Nu(t,n){n===null?Ht(Kr,Kr.current):Ht(Kr,n.pool)}function tm(){var t=Uc();return t===null?null:{parent:Ee._currentValue,pool:t}}var Wi=0,St=null,jt=null,ce=null,Uu=!1,ja=!1,Xr=!1,xu=0,nl=0,Ga=null,Gv=0;function se(){throw Error(a(321))}function xc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!rn(t[r],n[r]))return!1;return!0}function zc(t,n,r,l,c,f){return Wi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=t===null||t.memoizedState===null?Zr:tr,Xr=!1,f=r(l,c),Xr=!1,ja&&(f=nm(n,r,l,c)),em(t),f}function em(t){A.H=Kn;var n=jt!==null&&jt.next!==null;if(Wi=0,ce=jt=St=null,Uu=!1,nl=0,Ga=null,n)throw Error(a(300));t===null||Ce||(t=t.dependencies,t!==null&&Gu(t)&&(Ce=!0))}function nm(t,n,r,l){St=t;var c=0;do{if(ja&&(Ga=null),nl=0,ja=!1,25<=c)throw Error(a(301));if(c+=1,ce=jt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}A.H=$r,f=n(r,l)}while(ja);return f}function Qv(){var t=A.H,n=t.useState()[0];return n=typeof n.then=="function"?il(n):n,t=t.useState()[0],(jt!==null?jt.memoizedState:null)!==t&&(St.flags|=1024),n}function Lc(){var t=xu!==0;return xu=0,t}function Bc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Pc(t){if(Uu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Uu=!1}Wi=0,ce=jt=St=null,ja=!1,nl=xu=0,Ga=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?St.memoizedState=ce=t:ce=ce.next=t,ce}function he(){if(jt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=jt.next;var n=ce===null?St.memoizedState:ce.next;if(n!==null)ce=n,jt=t;else{if(t===null)throw St.alternate===null?Error(a(467)):Error(a(310));jt=t,t={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},ce===null?St.memoizedState=ce=t:ce=ce.next=t}return ce}var zu;zu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function il(t){var n=nl;return nl+=1,Ga===null&&(Ga=[]),t=Qd(Ga,t,n),n=St,(ce===null?n.memoizedState:ce.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?Zr:tr),t}function Lu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return il(t);if(t.$$typeof===j)return ke(t)}throw Error(a(438,String(t)))}function kc(t){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=zu(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=Qt;return n.index++,r}function yi(t,n){return typeof n=="function"?n(t):n}function Bu(t){var n=he();return qc(n,jt,t)}function qc(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=p=null,S=null,O=n,H=!1;do{var F=O.lane&-536870913;if(F!==O.lane?(It&F)===F:(Wi&F)===F){var B=O.revertLane;if(B===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),F===qa&&(H=!0);else if((Wi&B)===B){O=O.next,B===qa&&(H=!0);continue}else F={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},S===null?(E=S=F,p=f):S=S.next=F,St.lanes|=B,or|=B;F=O.action,Xr&&r(f,F),f=O.hasEagerState?O.eagerState:r(f,F)}else B={lane:F,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},S===null?(E=S=B,p=f):S=S.next=B,St.lanes|=F,or|=F;O=O.next}while(O!==null&&O!==n);if(S===null?p=f:S.next=E,!rn(f,t.memoizedState)&&(Ce=!0,H&&(r=Ha,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=S,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Hc(t){var n=he(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var p=c=c.next;do f=t(f,p.action),p=p.next;while(p!==c);rn(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function im(t,n,r){var l=St,c=he(),f=Lt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!rn((jt||c).memoizedState,r);if(p&&(c.memoizedState=r,Ce=!0),c=c.queue,Qc(sm.bind(null,l,c,t),[t]),c.getSnapshot!==n||p||ce!==null&&ce.memoizedState.tag&1){if(l.flags|=2048,Qa(9,am.bind(null,l,c,r,n),{destroy:void 0},null),Yt===null)throw Error(a(349));f||(Wi&60)!==0||rm(l,n,r)}return r}function rm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=zu(),St.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function am(t,n,r,l){n.value=r,n.getSnapshot=l,lm(n)&&um(t)}function sm(t,n,r){return r(function(){lm(n)&&um(t)})}function lm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!rn(t,r)}catch{return!0}}function um(t){var n=Zi(t,2);n!==null&&Ze(n,t,2)}function jc(t){var n=We();if(typeof t=="function"){var r=t;if(t=r(),Xr){xn(!0);try{r()}finally{xn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:t},n}function om(t,n,r,l){return t.baseState=r,qc(t,jt,typeof l=="function"?l:yi)}function Fv(t,n,r,l,c){if(qu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};A.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,cm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function cm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=A.T,p={};A.T=p;try{var E=r(c,l),S=A.S;S!==null&&S(p,E),hm(t,n,E)}catch(O){Gc(t,n,O)}finally{A.T=f}}else try{f=r(c,l),hm(t,n,f)}catch(O){Gc(t,n,O)}}function hm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){fm(t,n,l)},function(l){return Gc(t,n,l)}):fm(t,n,r)}function fm(t,n,r){n.status="fulfilled",n.value=r,dm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,cm(t,r)))}function Gc(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,dm(n),n=n.next;while(n!==l)}t.action=null}function dm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function mm(t,n){return n}function gm(t,n){if(Lt){var r=Yt.formState;if(r!==null){t:{var l=St;if(Lt){if(Ne){e:{for(var c=Ne,f=Fn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Nn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Ne=Nn(c.nextSibling),l=c.data==="F!";break t}}Fr(l)}l=!1}l&&(n=r[0])}}return r=We(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mm,lastRenderedState:n},r.queue=l,r=Nm.bind(null,St,l),l.dispatch=r,l=jc(!1),f=Zc.bind(null,St,!1,l.queue),l=We(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=Fv.bind(null,St,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function pm(t){var n=he();return ym(n,jt,t)}function ym(t,n,r){n=qc(t,n,mm)[0],t=Bu(yi)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?il(n):n;var l=he(),c=l.queue,f=c.dispatch;return r!==l.memoizedState&&(St.flags|=2048,Qa(9,Yv.bind(null,c,r),{destroy:void 0},null)),[n,f,t]}function Yv(t,n){t.action=n}function _m(t){var n=he(),r=jt;if(r!==null)return ym(n,r,t);he(),n=n.memoizedState,r=he();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Qa(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=St.updateQueue,n===null&&(n=zu(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function vm(){return he().memoizedState}function Pu(t,n,r,l){var c=We();St.flags|=t,c.memoizedState=Qa(1|n,r,{destroy:void 0},l===void 0?null:l)}function ku(t,n,r,l){var c=he();l=l===void 0?null:l;var f=c.memoizedState.inst;jt!==null&&l!==null&&xc(l,jt.memoizedState.deps)?c.memoizedState=Qa(n,r,f,l):(St.flags|=t,c.memoizedState=Qa(1|n,r,f,l))}function Em(t,n){Pu(8390656,8,t,n)}function Qc(t,n){ku(2048,8,t,n)}function Tm(t,n){return ku(4,2,t,n)}function Am(t,n){return ku(4,4,t,n)}function Sm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function bm(t,n,r){r=r!=null?r.concat([t]):null,ku(4,4,Sm.bind(null,n,t),r)}function Fc(){}function Rm(t,n){var r=he();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&xc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function wm(t,n){var r=he();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&xc(n,l[1]))return l[0];if(l=t(),Xr){xn(!0);try{t()}finally{xn(!1)}}return r.memoizedState=[l,n],l}function Yc(t,n,r){return r===void 0||(Wi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Cg(),St.lanes|=t,or|=t,r)}function Dm(t,n,r,l){return rn(r,n)?r:ka.current!==null?(t=Yc(t,r,l),rn(t,n)||(Ce=!0),t):(Wi&42)===0?(Ce=!0,t.memoizedState=r):(t=Cg(),St.lanes|=t,or|=t,n)}function Cm(t,n,r,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var p=A.T,E={};A.T=E,Zc(t,!1,n,r);try{var S=c(),O=A.S;if(O!==null&&O(E,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var H=jv(S,l);rl(t,n,H,un(t))}else rl(t,n,l,un(t))}catch(F){rl(t,n,{then:function(){},status:"rejected",reason:F},un())}finally{tt.p=f,A.T=p}}function Kv(){}function Kc(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Vm(t).queue;Cm(t,c,n,At,r===null?Kv:function(){return Om(t),r(l)})}function Vm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:At,baseState:At,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:At},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Om(t){var n=Vm(t).next.queue;rl(t,n,{},un())}function Xc(){return ke(bl)}function Im(){return he().memoizedState}function Mm(){return he().memoizedState}function Xv(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=un();t=ir(r);var l=rr(n,t,r);l!==null&&(Ze(l,n,r),ll(l,n,r)),n={cache:Mc()},t.payload=n;return}n=n.return}}function Zv(t,n,r){var l=un();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},qu(t)?Um(n,r):(r=Rc(t,n,r,l),r!==null&&(Ze(r,t,l),xm(r,n,l)))}function Nm(t,n,r){var l=un();rl(t,n,r,l)}function rl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(qu(t))Um(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(c.hasEagerState=!0,c.eagerState=E,rn(E,p))return bu(t,n,c,0),Yt===null&&Su(),!1}catch{}finally{}if(r=Rc(t,n,c,l),r!==null)return Ze(r,t,l),xm(r,n,l),!0}return!1}function Zc(t,n,r,l){if(l={lane:2,revertLane:Ph(),action:l,hasEagerState:!1,eagerState:null,next:null},qu(t)){if(n)throw Error(a(479))}else n=Rc(t,r,l,2),n!==null&&Ze(n,t,2)}function qu(t){var n=t.alternate;return t===St||n!==null&&n===St}function Um(t,n){ja=Uu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function xm(t,n,r){if((r&4194176)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ki(t,r)}}var Kn={readContext:ke,use:Lu,useCallback:se,useContext:se,useEffect:se,useImperativeHandle:se,useLayoutEffect:se,useInsertionEffect:se,useMemo:se,useReducer:se,useRef:se,useState:se,useDebugValue:se,useDeferredValue:se,useTransition:se,useSyncExternalStore:se,useId:se};Kn.useCacheRefresh=se,Kn.useMemoCache=se,Kn.useHostTransitionStatus=se,Kn.useFormState=se,Kn.useActionState=se,Kn.useOptimistic=se;var Zr={readContext:ke,use:Lu,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:ke,useEffect:Em,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Pu(4194308,4,Sm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Pu(4194308,4,t,n)},useInsertionEffect:function(t,n){Pu(4,2,t,n)},useMemo:function(t,n){var r=We();n=n===void 0?null:n;var l=t();if(Xr){xn(!0);try{t()}finally{xn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=We();if(r!==void 0){var c=r(n);if(Xr){xn(!0);try{r(n)}finally{xn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=Zv.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=jc(t);var n=t.queue,r=Nm.bind(null,St,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Fc,useDeferredValue:function(t,n){var r=We();return Yc(r,t,n)},useTransition:function(){var t=jc(!1);return t=Cm.bind(null,St,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=St,c=We();if(Lt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Yt===null)throw Error(a(349));(It&60)!==0||rm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Em(sm.bind(null,l,f,t),[t]),l.flags|=2048,Qa(9,am.bind(null,l,f,r,n),{destroy:void 0},null),r},useId:function(){var t=We(),n=Yt.identifierPrefix;if(Lt){var r=gi,l=mi;r=(l&~(1<<32-Fe(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=xu++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=Gv++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return We().memoizedState=Xv.bind(null,St)}};Zr.useMemoCache=kc,Zr.useHostTransitionStatus=Xc,Zr.useFormState=gm,Zr.useActionState=gm,Zr.useOptimistic=function(t){var n=We();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Zc.bind(null,St,!0,r),r.dispatch=n,[t,n]};var tr={readContext:ke,use:Lu,useCallback:Rm,useContext:ke,useEffect:Qc,useImperativeHandle:bm,useInsertionEffect:Tm,useLayoutEffect:Am,useMemo:wm,useReducer:Bu,useRef:vm,useState:function(){return Bu(yi)},useDebugValue:Fc,useDeferredValue:function(t,n){var r=he();return Dm(r,jt.memoizedState,t,n)},useTransition:function(){var t=Bu(yi)[0],n=he().memoizedState;return[typeof t=="boolean"?t:il(t),n]},useSyncExternalStore:im,useId:Im};tr.useCacheRefresh=Mm,tr.useMemoCache=kc,tr.useHostTransitionStatus=Xc,tr.useFormState=pm,tr.useActionState=pm,tr.useOptimistic=function(t,n){var r=he();return om(r,jt,t,n)};var $r={readContext:ke,use:Lu,useCallback:Rm,useContext:ke,useEffect:Qc,useImperativeHandle:bm,useInsertionEffect:Tm,useLayoutEffect:Am,useMemo:wm,useReducer:Hc,useRef:vm,useState:function(){return Hc(yi)},useDebugValue:Fc,useDeferredValue:function(t,n){var r=he();return jt===null?Yc(r,t,n):Dm(r,jt.memoizedState,t,n)},useTransition:function(){var t=Hc(yi)[0],n=he().memoizedState;return[typeof t=="boolean"?t:il(t),n]},useSyncExternalStore:im,useId:Im};$r.useCacheRefresh=Mm,$r.useMemoCache=kc,$r.useHostTransitionStatus=Xc,$r.useFormState=_m,$r.useActionState=_m,$r.useOptimistic=function(t,n){var r=he();return jt!==null?om(r,jt,t,n):(r.baseState=t,[t,r.queue.dispatch])};function $c(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:D({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Jc={isMounted:function(t){return(t=t._reactInternals)?lt(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=un(),c=ir(l);c.payload=n,r!=null&&(c.callback=r),n=rr(t,c,l),n!==null&&(Ze(n,t,l),ll(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=un(),c=ir(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=rr(t,c,l),n!==null&&(Ze(n,t,l),ll(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=un(),l=ir(r);l.tag=2,n!=null&&(l.callback=n),n=rr(t,l,r),n!==null&&(Ze(n,t,r),ll(n,t,r))}};function zm(t,n,r,l,c,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Qs(r,l)||!Qs(c,f):!0}function Lm(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Jc.enqueueReplaceState(n,n.state,null)}function Jr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=D({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Hu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Bm(t){Hu(t)}function Pm(t){console.error(t)}function km(t){Hu(t)}function ju(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function qm(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Wc(t,n,r){return r=ir(r),r.tag=3,r.payload={element:null},r.callback=function(){ju(t,n)},r}function Hm(t){return t=ir(t),t.tag=3,t}function jm(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){qm(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){qm(n,r,l),typeof c!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function $v(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&sl(n,r,c,!0),r=En.current,r!==null){switch(r.tag){case 13:return Yn===null?Uh():r.alternate===null&&ie===0&&(ie=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Vc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),zh(t,l,c)),!1;case 22:return r.flags|=65536,l===Vc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),zh(t,l,c)),!1}throw Error(a(435,r.tag))}return zh(t,l,c),Uh(),!1}if(Lt)return n=En.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Cc&&(t=Error(a(422),{cause:l}),Xs(yn(t,r)))):(l!==Cc&&(n=Error(a(423),{cause:l}),Xs(yn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=yn(l,r),c=Wc(t.stateNode,l,c),mh(t,c),ie!==4&&(ie=2)),!1;var f=Error(a(520),{cause:l});if(f=yn(f,r),gl===null?gl=[f]:gl.push(f),ie!==4&&(ie=2),n===null)return!0;l=yn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Wc(r.stateNode,l,t),mh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(cr===null||!cr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Hm(c),jm(c,t,r,l),mh(r,c),!1}r=r.return}while(r!==null);return!1}var Gm=Error(a(461)),Ce=!1;function Ue(t,n,r,l){n.child=t===null?Xd(n,null,r,l):Yr(n,t.child,r,l)}function Qm(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return ta(n),l=zc(t,n,r,p,f,c),E=Lc(),t!==null&&!Ce?(Bc(t,n,c),_i(t,n,c)):(Lt&&E&&wc(n),n.flags|=1,Ue(t,n,l,c),n.child)}function Fm(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Ah(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Ym(t,n,f,l,c)):(t=Ku(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!uh(t,c)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Qs,r(p,l)&&t.ref===n.ref)return _i(t,n,c)}return n.flags|=1,t=ur(f,l),t.ref=n.ref,t.return=n,n.child=t}function Ym(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Qs(f,l)&&t.ref===n.ref)if(Ce=!1,n.pendingProps=l=f,uh(t,c))(t.flags&131072)!==0&&(Ce=!0);else return n.lanes=t.lanes,_i(t,n,c)}return th(t,n,r,l,c)}function Km(t,n,r){var l=n.pendingProps,c=l.children,f=(n.stateNode._pendingVisibility&2)!==0,p=t!==null?t.memoizedState:null;if(al(t,n),l.mode==="hidden"||f){if((n.flags&128)!==0){if(l=p!==null?p.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Xm(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Nu(n,p!==null?p.cachePool:null),p!==null?Zd(n,p):Oc(),$d(n);else return n.lanes=n.childLanes=536870912,Xm(t,n,p!==null?p.baseLanes|r:r,r)}else p!==null?(Nu(n,p.cachePool),Zd(n,p),Ji(),n.memoizedState=null):(t!==null&&Nu(n,null),Oc(),Ji());return Ue(t,n,c,r),n.child}function Xm(t,n,r,l){var c=Uc();return c=c===null?null:{parent:Ee._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Nu(n,null),Oc(),$d(n),t!==null&&sl(t,n,l,!0),null}function al(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function th(t,n,r,l,c){return ta(n),r=zc(t,n,r,l,void 0,c),l=Lc(),t!==null&&!Ce?(Bc(t,n,c),_i(t,n,c)):(Lt&&l&&wc(n),n.flags|=1,Ue(t,n,r,c),n.child)}function Zm(t,n,r,l,c,f){return ta(n),n.updateQueue=null,r=nm(n,l,r,c),em(t),l=Lc(),t!==null&&!Ce?(Bc(t,n,f),_i(t,n,f)):(Lt&&l&&wc(n),n.flags|=1,Ue(t,n,r,f),n.child)}function $m(t,n,r,l,c){if(ta(n),n.stateNode===null){var f=za,p=r.contextType;typeof p=="object"&&p!==null&&(f=ke(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Jc,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},fh(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?ke(p):za,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&($c(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Jc.enqueueReplaceState(f,f.state,null),ol(n,l,f,c),ul(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,S=Jr(r,E);f.props=S;var O=f.context,H=r.contextType;p=za,typeof H=="object"&&H!==null&&(p=ke(H));var F=r.getDerivedStateFromProps;H=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||O!==p)&&Lm(n,f,l,p),nr=!1;var B=n.memoizedState;f.state=B,ol(n,l,f,c),ul(),O=n.memoizedState,E||B!==O||nr?(typeof F=="function"&&($c(n,r,F,l),O=n.memoizedState),(S=nr||zm(n,r,S,l,B,O,p))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=O),f.props=l,f.state=O,f.context=p,l=S):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,dh(t,n),p=n.memoizedProps,H=Jr(r,p),f.props=H,F=n.pendingProps,B=f.context,O=r.contextType,S=za,typeof O=="object"&&O!==null&&(S=ke(O)),E=r.getDerivedStateFromProps,(O=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==F||B!==S)&&Lm(n,f,l,S),nr=!1,B=n.memoizedState,f.state=B,ol(n,l,f,c),ul();var q=n.memoizedState;p!==F||B!==q||nr||t!==null&&t.dependencies!==null&&Gu(t.dependencies)?(typeof E=="function"&&($c(n,r,E,l),q=n.memoizedState),(H=nr||zm(n,r,H,l,B,q,S)||t!==null&&t.dependencies!==null&&Gu(t.dependencies))?(O||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,S)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=S,l=H):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,al(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Yr(n,t.child,null,c),n.child=Yr(n,null,r,c)):Ue(t,n,r,c),n.memoizedState=f.state,t=n.child):t=_i(t,n,c),t}function Jm(t,n,r,l){return Ks(),n.flags|=256,Ue(t,n,r,l),n.child}var eh={dehydrated:null,treeContext:null,retryLane:0};function nh(t){return{baseLanes:t,cachePool:tm()}}function ih(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=bn),t}function Wm(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(ve.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Lt){if(c?$i(n):Ji(),Lt){var E=Ne,S;if(S=E){t:{for(S=E,E=Fn;S.nodeType!==8;){if(!E){E=null;break t}if(S=Nn(S.nextSibling),S===null){E=null;break t}}E=S}E!==null?(n.memoizedState={dehydrated:E,treeContext:Gr!==null?{id:mi,overflow:gi}:null,retryLane:536870912},S=Sn(18,null,null,0),S.stateNode=E,S.return=n,n.child=S,Xe=n,Ne=null,S=!0):S=!1}S||Fr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;pi(n)}return E=l.children,l=l.fallback,c?(Ji(),c=n.mode,E=ah({mode:"hidden",children:E},c),l=na(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=nh(r),c.childLanes=ih(t,p,r),n.memoizedState=eh,l):($i(n),rh(n,E))}if(S=t.memoizedState,S!==null&&(E=S.dehydrated,E!==null)){if(f)n.flags&256?($i(n),n.flags&=-257,n=sh(t,n,r)):n.memoizedState!==null?(Ji(),n.child=t.child,n.flags|=128,n=null):(Ji(),c=l.fallback,E=n.mode,l=ah({mode:"visible",children:l.children},E),c=na(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Yr(n,t.child,null,r),l=n.child,l.memoizedState=nh(r),l.childLanes=ih(t,p,r),n.memoizedState=eh,n=c);else if($i(n),E.data==="$!"){if(p=E.nextSibling&&E.nextSibling.dataset,p)var O=p.dgst;p=O,l=Error(a(419)),l.stack="",l.digest=p,Xs({value:l,source:null,stack:null}),n=sh(t,n,r)}else if(Ce||sl(t,n,r,!1),p=(r&t.childLanes)!==0,Ce||p){if(p=Yt,p!==null){if(l=r&-r,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(p.suspendedLanes|r))!==0?0:l,l!==0&&l!==S.retryLane)throw S.retryLane=l,Zi(t,l),Ze(p,t,l),Gm}E.data==="$?"||Uh(),n=sh(t,n,r)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=fE.bind(null,t),E._reactRetry=n,n=null):(t=S.treeContext,Ne=Nn(E.nextSibling),Xe=n,Lt=!0,In=null,Fn=!1,t!==null&&(_n[vn++]=mi,_n[vn++]=gi,_n[vn++]=Gr,mi=t.id,gi=t.overflow,Gr=n),n=rh(n,l.children),n.flags|=4096);return n}return c?(Ji(),c=l.fallback,E=n.mode,S=t.child,O=S.sibling,l=ur(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&31457280,O!==null?c=ur(O,c):(c=na(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=nh(r):(S=E.cachePool,S!==null?(O=Ee._currentValue,S=S.parent!==O?{parent:O,pool:O}:S):S=tm(),E={baseLanes:E.baseLanes|r,cachePool:S}),c.memoizedState=E,c.childLanes=ih(t,p,r),n.memoizedState=eh,l):($i(n),r=t.child,t=r.sibling,r=ur(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function rh(t,n){return n=ah({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ah(t,n){return Rg(t,n,0,null)}function sh(t,n,r){return Yr(n,t.child,null,r),t=rh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function tg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ch(t.return,n,r)}function lh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function eg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ue(t,n,l.children,r),l=ve.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tg(t,r,n);else if(t.tag===19)tg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ht(ve,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Mu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),lh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Mu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}lh(n,!0,r,null,f);break;case"together":lh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function _i(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),or|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(sl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=ur(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=ur(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function uh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Gu(t)))}function Jv(t,n,r){switch(n.tag){case 3:Ui(n,n.stateNode.containerInfo),er(n,Ee,t.memoizedState.cache),Ks();break;case 27:case 5:bs(n);break;case 4:Ui(n,n.stateNode.containerInfo);break;case 10:er(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?($i(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Wm(t,n,r):($i(n),t=_i(t,n,r),t!==null?t.sibling:null);$i(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(sl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return eg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ht(ve,ve.current),l)break;return null;case 22:case 23:return n.lanes=0,Km(t,n,r);case 24:er(n,Ee,t.memoizedState.cache)}return _i(t,n,r)}function ng(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ce=!0;else{if(!uh(t,r)&&(n.flags&128)===0)return Ce=!1,Jv(t,n,r);Ce=(t.flags&131072)!==0}else Ce=!1,Lt&&(n.flags&1048576)!==0&&kd(n,Du,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Ah(l)?(t=Jr(l,t),n.tag=1,n=$m(null,n,l,t,r)):(n.tag=0,n=th(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===$){n.tag=11,n=Qm(null,n,l,t,r);break t}else if(c===yt){n.tag=14,n=Fm(null,n,l,t,r);break t}}throw n=b(l)||l,Error(a(306,n,""))}}return n;case 0:return th(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=Jr(l,n.pendingProps),$m(t,n,l,c,r);case 3:t:{if(Ui(n,n.stateNode.containerInfo),t===null)throw Error(a(387));var f=n.pendingProps;c=n.memoizedState,l=c.element,dh(t,n),ol(n,f,null,r);var p=n.memoizedState;if(f=p.cache,er(n,Ee,f),f!==c.cache&&hh(n,[Ee],r,!0),ul(),f=p.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=Jm(t,n,f,r);break t}else if(f!==l){l=yn(Error(a(424)),n),Xs(l),n=Jm(t,n,f,r);break t}else for(Ne=Nn(n.stateNode.containerInfo.firstChild),Xe=n,Lt=!0,In=null,Fn=!0,r=Xd(n,null,f,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ks(),f===l){n=_i(t,n,r);break t}Ue(t,n,f,r)}n=n.child}return n;case 26:return al(t,n),t===null?(r=ap(n.type,null,n.pendingProps,null))?n.memoizedState=r:Lt||(r=n.type,t=n.pendingProps,l=so(on.current).createElement(r),l[Re]=n,l[pe]=t,xe(l,r,t),Zt(l),n.stateNode=l):n.memoizedState=ap(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return bs(n),t===null&&Lt&&(l=n.stateNode=np(n.type,n.pendingProps,on.current),Xe=n,Fn=!0,Ne=Nn(l.firstChild)),l=n.pendingProps.children,t!==null||Lt?Ue(t,n,l,r):n.child=Yr(n,null,l,r),al(t,n),n.child;case 5:return t===null&&Lt&&((c=l=Ne)&&(l=CE(l,n.type,n.pendingProps,Fn),l!==null?(n.stateNode=l,Xe=n,Ne=Nn(l.firstChild),Fn=!1,c=!0):c=!1),c||Fr(n)),bs(n),c=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,Kh(c,f)?l=null:p!==null&&Kh(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=zc(t,n,Qv,null,null,r),bl._currentValue=c),al(t,n),Ue(t,n,l,r),n.child;case 6:return t===null&&Lt&&((t=r=Ne)&&(r=VE(r,n.pendingProps,Fn),r!==null?(n.stateNode=r,Xe=n,Ne=null,t=!0):t=!1),t||Fr(n)),null;case 13:return Wm(t,n,r);case 4:return Ui(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Yr(n,null,l,r):Ue(t,n,l,r),n.child;case 11:return Qm(t,n,n.type,n.pendingProps,r);case 7:return Ue(t,n,n.pendingProps,r),n.child;case 8:return Ue(t,n,n.pendingProps.children,r),n.child;case 12:return Ue(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,er(n,n.type,l.value),Ue(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ta(n),c=ke(c),l=l(c),n.flags|=1,Ue(t,n,l,r),n.child;case 14:return Fm(t,n,n.type,n.pendingProps,r);case 15:return Ym(t,n,n.type,n.pendingProps,r);case 19:return eg(t,n,r);case 22:return Km(t,n,r);case 24:return ta(n),l=ke(Ee),t===null?(c=Uc(),c===null&&(c=Yt,f=Mc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},fh(n),er(n,Ee,c)):((t.lanes&r)!==0&&(dh(t,n),ol(n,null,null,r),ul()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),er(n,Ee,l)):(l=f.cache,er(n,Ee,l),l!==c.cache&&hh(n,[Ee],r,!0))),Ue(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}var oh=xt(null),Wr=null,vi=null;function er(t,n,r){Ht(oh,n._currentValue),n._currentValue=r}function Ei(t){t._currentValue=oh.current,te(oh)}function ch(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function hh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var S=0;S<n.length;S++)if(E.context===n[S]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),ch(f.return,r,t),l||(p=null);break t}f=E.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),ch(p,r,t),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function sl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=c.type;rn(c.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ni.current){if(p=c.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(bl):t=[bl])}c=c.return}t!==null&&hh(n,t,r,l),n.flags|=262144}function Gu(t){for(t=t.firstContext;t!==null;){if(!rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ta(t){Wr=t,vi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ke(t){return ig(Wr,t)}function Qu(t,n){return Wr===null&&ta(t),ig(t,n)}function ig(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},vi===null){if(t===null)throw Error(a(308));vi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else vi=vi.next=n;return r}var nr=!1;function fh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ir(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function rr(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Jt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Ru(t),Bd(t,null,r),n}return bu(t,l,n,r),Ru(t)}function ll(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ki(t,r)}}function mh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var gh=!1;function ul(){if(gh){var t=Ha;if(t!==null)throw t}}function ol(t,n,r,l){gh=!1;var c=t.updateQueue;nr=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var S=E,O=S.next;S.next=null,p===null?f=O:p.next=O,p=S;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==p&&(E===null?H.firstBaseUpdate=O:E.next=O,H.lastBaseUpdate=S))}if(f!==null){var F=c.baseState;p=0,H=O=S=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(It&B)===B:(l&B)===B){B!==0&&B===qa&&(gh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=t,gt=E;B=n;var re=r;switch(gt.tag){case 1:if(rt=gt.payload,typeof rt=="function"){F=rt.call(re,F,B);break t}F=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=gt.payload,B=typeof rt=="function"?rt.call(re,F,B):rt,B==null)break t;F=D({},F,B);break t;case 2:nr=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(O=H=q,S=F):H=H.next=q,p|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);H===null&&(S=F),c.baseState=S,c.firstBaseUpdate=O,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),or|=p,t.lanes=p,t.memoizedState=F}}function rg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function ag(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)rg(r[t],n)}function cl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==c)}}catch(E){Ft(n,n.return,E)}}function ar(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,c=n;var S=r;try{E()}catch(O){Ft(c,S,O)}}}l=l.next}while(l!==f)}}catch(O){Ft(n,n.return,O)}}function sg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{ag(n,r)}catch(l){Ft(t,t.return,l)}}}function lg(t,n,r){r.props=Jr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Ft(t,n,l)}}function ea(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(f){Ft(t,n,f)}}function an(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Ft(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Ft(t,n,c)}else r.current=null}function ug(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Ft(t,t.return,c)}}function og(t,n,r){try{var l=t.stateNode;SE(l,t.type,r,n),l[pe]=n}catch(c){Ft(t,t.return,c)}}function cg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function ph(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||cg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ao));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(yh(t,n,r),t=t.sibling;t!==null;)yh(t,n,r),t=t.sibling}function Fu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Fu(t,n,r),t=t.sibling;t!==null;)Fu(t,n,r),t=t.sibling}var Ti=!1,ne=!1,_h=!1,hg=typeof WeakSet=="function"?WeakSet:Set,Ve=null,fg=!1;function Wv(t,n){if(t=t.containerInfo,Fh=fo,t=Vd(t),Ec(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var p=0,E=-1,S=-1,O=0,H=0,F=t,B=null;e:for(;;){for(var q;F!==r||c!==0&&F.nodeType!==3||(E=p+c),F!==f||l!==0&&F.nodeType!==3||(S=p+l),F.nodeType===3&&(p+=F.nodeValue.length),(q=F.firstChild)!==null;)B=F,F=q;for(;;){if(F===t)break e;if(B===r&&++O===c&&(E=p),B===f&&++H===l&&(S=p),(q=F.nextSibling)!==null)break;F=B,B=F.parentNode}F=q}r=E===-1||S===-1?null:{start:E,end:S}}else r=null}r=r||{start:0,end:0}}else r=null;for(Yh={focusedElem:t,selectionRange:r},fo=!1,Ve=n;Ve!==null;)if(n=Ve,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ve=t;else for(;Ve!==null;){switch(n=Ve,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var rt=Jr(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(rt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){Ft(r,r.return,gt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)$h(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":$h(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ve=t;break}Ve=n.return}return rt=fg,fg=!1,rt}function dg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Si(t,r),l&4&&cl(5,r);break;case 1:if(Si(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(E){Ft(r,r.return,E)}else{var c=Jr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Ft(r,r.return,E)}}l&64&&sg(r),l&512&&ea(r,r.return);break;case 3:if(Si(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{ag(l,t)}catch(E){Ft(r,r.return,E)}}break;case 26:Si(t,r),l&512&&ea(r,r.return);break;case 27:case 5:Si(t,r),n===null&&l&4&&ug(r),l&512&&ea(r,r.return);break;case 12:Si(t,r);break;case 13:Si(t,r),l&4&&pg(t,r);break;case 22:if(c=r.memoizedState!==null||Ti,!c){n=n!==null&&n.memoizedState!==null||ne;var f=Ti,p=ne;Ti=c,(ne=n)&&!p?sr(t,r,(r.subtreeFlags&8772)!==0):Si(t,r),Ti=f,ne=p}l&512&&(r.memoizedProps.mode==="manual"?ea(r,r.return):an(r,r.return));break;default:Si(t,r)}}function mg(t){var n=t.alternate;n!==null&&(t.alternate=null,mg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ir(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var fe=null,sn=!1;function Ai(t,n,r){for(r=r.child;r!==null;)gg(t,n,r),r=r.sibling}function gg(t,n,r){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(xi,r)}catch{}switch(r.tag){case 26:ne||an(r,n),Ai(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ne||an(r,n);var l=fe,c=sn;for(fe=r.stateNode,Ai(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);Ir(r),fe=l,sn=c;break;case 5:ne||an(r,n);case 6:c=fe;var f=sn;if(fe=null,Ai(t,n,r),fe=c,sn=f,fe!==null)if(sn)try{t=fe,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(p){Ft(r,n,p)}else try{fe.removeChild(r.stateNode)}catch(p){Ft(r,n,p)}break;case 18:fe!==null&&(sn?(n=fe,r=r.stateNode,n.nodeType===8?Zh(n.parentNode,r):n.nodeType===1&&Zh(n,r),Cl(n)):Zh(fe,r.stateNode));break;case 4:l=fe,c=sn,fe=r.stateNode.containerInfo,sn=!0,Ai(t,n,r),fe=l,sn=c;break;case 0:case 11:case 14:case 15:ne||ar(2,r,n),ne||ar(4,r,n),Ai(t,n,r);break;case 1:ne||(an(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&lg(r,n,l)),Ai(t,n,r);break;case 21:Ai(t,n,r);break;case 22:ne||an(r,n),ne=(l=ne)||r.memoizedState!==null,Ai(t,n,r),ne=l;break;default:Ai(t,n,r)}}function pg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(r){Ft(n,n.return,r)}}function tE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new hg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new hg),n;default:throw Error(a(435,t.tag))}}function vh(t,n){var r=tE(t);n.forEach(function(l){var c=dE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function Tn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:case 5:fe=E.stateNode,sn=!1;break t;case 3:fe=E.stateNode.containerInfo,sn=!0;break t;case 4:fe=E.stateNode.containerInfo,sn=!0;break t}E=E.return}if(fe===null)throw Error(a(160));gg(f,p,c),fe=null,sn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)yg(n,t),n=n.sibling}var Mn=null;function yg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tn(n,t),An(t),l&4&&(ar(3,t,t.return),cl(3,t),ar(5,t,t.return));break;case 1:Tn(n,t),An(t),l&512&&(ne||r===null||an(r,r.return)),l&64&&Ti&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Mn;if(Tn(n,t),An(t),l&512&&(ne||r===null||an(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Hi]||f[Re]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),xe(f,l,r),f[Re]=t,Zt(f),l=f;break t;case"link":var p=up("link","href",c).get(l+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break e}}f=c.createElement(l),xe(f,l,r),c.head.appendChild(f);break;case"meta":if(p=up("meta","content",c).get(l+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break e}}f=c.createElement(l),xe(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[Re]=t,Zt(f),l=f}t.stateNode=l}else op(c,t.type,t.stateNode);else t.stateNode=lp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?op(c,t.type,t.stateNode):lp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&og(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,f=t.memoizedProps;try{for(var S=c.firstChild;S;){var O=S.nextSibling,H=S.nodeName;S[Hi]||H==="HEAD"||H==="BODY"||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=O}for(var F=t.type,B=c.attributes;B.length;)c.removeAttributeNode(B[0]);xe(c,F,f),c[Re]=t,c[pe]=f}catch(rt){Ft(t,t.return,rt)}}case 5:if(Tn(n,t),An(t),l&512&&(ne||r===null||an(r,r.return)),t.flags&32){c=t.stateNode;try{fn(c,"")}catch(rt){Ft(t,t.return,rt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,og(t,c,r!==null?r.memoizedProps:c)),l&1024&&(_h=!0);break;case 6:if(Tn(n,t),An(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(rt){Ft(t,t.return,rt)}}break;case 3:if(oo=null,c=Mn,Mn=lo(n.containerInfo),Tn(n,t),Mn=c,An(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Cl(n.containerInfo)}catch(rt){Ft(t,t.return,rt)}_h&&(_h=!1,_g(t));break;case 4:l=Mn,Mn=lo(t.stateNode.containerInfo),Tn(n,t),An(t),Mn=l;break;case 12:Tn(n,t),An(t);break;case 13:Tn(n,t),An(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ch=$e()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vh(t,l)));break;case 22:if(l&512&&(ne||r===null||an(r,r.return)),S=t.memoizedState!==null,O=r!==null&&r.memoizedState!==null,H=Ti,F=ne,Ti=H||S,ne=F||O,Tn(n,t),ne=F,Ti=H,An(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=S?n._visibility&-2:n._visibility|1,S&&(n=Ti||ne,r===null||O||n||Fa(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){O=r=n;try{if(c=O.stateNode,S)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{p=O.stateNode,E=O.memoizedProps.style;var q=E!=null&&E.hasOwnProperty("display")?E.display:null;p.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(rt){Ft(O,O.return,rt)}}}else if(n.tag===6){if(r===null){O=n;try{O.stateNode.nodeValue=S?"":O.memoizedProps}catch(rt){Ft(O,O.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,vh(t,r))));break;case 19:Tn(n,t),An(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vh(t,l)));break;case 21:break;default:Tn(n,t),An(t)}}function An(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var r=t.return;r!==null;){if(cg(r)){var l=r;break t}r=r.return}throw Error(a(160))}switch(l.tag){case 27:var c=l.stateNode,f=ph(t);Fu(t,f,c);break;case 5:var p=l.stateNode;l.flags&32&&(fn(p,""),l.flags&=-33);var E=ph(t);Fu(t,E,p);break;case 3:case 4:var S=l.stateNode.containerInfo,O=ph(t);yh(t,O,S);break;default:throw Error(a(161))}}}catch(H){Ft(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function _g(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;_g(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Si(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)dg(t,n.alternate,n),n=n.sibling}function Fa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ar(4,n,n.return),Fa(n);break;case 1:an(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&lg(n,n.return,r),Fa(n);break;case 26:case 27:case 5:an(n,n.return),Fa(n);break;case 22:an(n,n.return),n.memoizedState===null&&Fa(n);break;default:Fa(n)}t=t.sibling}}function sr(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:sr(c,f,r),cl(4,f);break;case 1:if(sr(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(O){Ft(l,l.return,O)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)rg(S[c],E)}catch(O){Ft(l,l.return,O)}}r&&p&64&&sg(f),ea(f,f.return);break;case 26:case 27:case 5:sr(c,f,r),r&&l===null&&p&4&&ug(f),ea(f,f.return);break;case 12:sr(c,f,r);break;case 13:sr(c,f,r),r&&p&4&&pg(c,f);break;case 22:f.memoizedState===null&&sr(c,f,r),ea(f,f.return);break;default:sr(c,f,r)}n=n.sibling}}function Eh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&tl(r))}function Th(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&tl(t))}function lr(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vg(t,n,r,l),n=n.sibling}function vg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:lr(t,n,r,l),c&2048&&cl(9,n);break;case 3:lr(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&tl(t)));break;case 12:if(c&2048){lr(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){Ft(n,n.return,S)}}else lr(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?lr(t,n,r,l):hl(t,n):f._visibility&4?lr(t,n,r,l):(f._visibility|=4,Ya(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Eh(n.alternate,n);break;case 24:lr(t,n,r,l),c&2048&&Th(n.alternate,n);break;default:lr(t,n,r,l)}}function Ya(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,p=n,E=r,S=l,O=p.flags;switch(p.tag){case 0:case 11:case 15:Ya(f,p,E,S,c),cl(8,p);break;case 23:break;case 22:var H=p.stateNode;p.memoizedState!==null?H._visibility&4?Ya(f,p,E,S,c):hl(f,p):(H._visibility|=4,Ya(f,p,E,S,c)),c&&O&2048&&Eh(p.alternate,p);break;case 24:Ya(f,p,E,S,c),c&&O&2048&&Th(p.alternate,p);break;default:Ya(f,p,E,S,c)}n=n.sibling}}function hl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:hl(r,l),c&2048&&Eh(l.alternate,l);break;case 24:hl(r,l),c&2048&&Th(l.alternate,l);break;default:hl(r,l)}n=n.sibling}}var fl=8192;function Ka(t){if(t.subtreeFlags&fl)for(t=t.child;t!==null;)Eg(t),t=t.sibling}function Eg(t){switch(t.tag){case 26:Ka(t),t.flags&fl&&t.memoizedState!==null&&HE(Mn,t.memoizedState,t.memoizedProps);break;case 5:Ka(t);break;case 3:case 4:var n=Mn;Mn=lo(t.stateNode.containerInfo),Ka(t),Mn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=fl,fl=16777216,Ka(t),fl=n):Ka(t));break;default:Ka(t)}}function Tg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function dl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,Sg(l,t)}Tg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ag(t),t=t.sibling}function Ag(t){switch(t.tag){case 0:case 11:case 15:dl(t),t.flags&2048&&ar(9,t,t.return);break;case 3:dl(t);break;case 12:dl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Yu(t)):dl(t);break;default:dl(t)}}function Yu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,Sg(l,t)}Tg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ar(8,n,n.return),Yu(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,Yu(n));break;default:Yu(n)}t=t.sibling}}function Sg(t,n){for(;Ve!==null;){var r=Ve;switch(r.tag){case 0:case 11:case 15:ar(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:tl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ve=l;else t:for(r=t;Ve!==null;){l=Ve;var c=l.sibling,f=l.return;if(mg(l),l===r){Ve=null;break t}if(c!==null){c.return=f,Ve=c;break t}Ve=f}}}function eE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,n,r,l){return new eE(t,n,r,l)}function Ah(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ur(t,n){var r=t.alternate;return r===null?(r=Sn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function bg(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ku(t,n,r,l,c,f){var p=0;if(l=t,typeof t=="function")Ah(t)&&(p=1);else if(typeof t=="string")p=kE(t,r,Qe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case _:return na(r.children,c,f,n);case v:p=8,c|=24;break;case R:return t=Sn(12,r,n,c|2),t.elementType=R,t.lanes=f,t;case nt:return t=Sn(13,r,n,c),t.elementType=nt,t.lanes=f,t;case Z:return t=Sn(19,r,n,c),t.elementType=Z,t.lanes=f,t;case Tt:return Rg(r,c,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case M:case j:p=10;break t;case k:p=9;break t;case $:p=11;break t;case yt:p=14;break t;case dt:p=16,l=null;break t}p=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Sn(p,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function na(t,n,r,l){return t=Sn(7,t,l,n),t.lanes=r,t}function Rg(t,n,r,l){t=Sn(22,t,l,n),t.elementType=Tt,t.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(a(456));if((c._pendingVisibility&2)===0){var p=Zi(f,2);p!==null&&(c._pendingVisibility|=2,Ze(p,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(a(456));if((c._pendingVisibility&2)!==0){var p=Zi(f,2);p!==null&&(c._pendingVisibility&=-3,Ze(p,f,2))}}};return t.stateNode=c,t}function Sh(t,n,r){return t=Sn(6,t,null,n),t.lanes=r,t}function bh(t,n,r){return n=Sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function bi(t){t.flags|=4}function wg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!cp(n)){if(n=En.current,n!==null&&((It&4194176)===It?Yn!==null:(It&62914560)!==It&&(It&536870912)===0||n!==Yn))throw $s=Vc,jd;t.flags|=8192}}function Xu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Bi():536870912,t.lanes|=n,Za|=n)}function ml(t,n){if(!Lt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function $t(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function nE(t,n,r){var l=n.pendingProps;switch(Dc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(n),null;case 1:return $t(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ei(Ee),ii(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ys(n)?bi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,In!==null&&(Mh(In),In=null))),$t(n),null;case 26:return r=n.memoizedState,t===null?(bi(n),r!==null?($t(n),wg(n,r)):($t(n),n.flags&=-16777217)):r?r!==t.memoizedState?(bi(n),$t(n),wg(n,r)):($t(n),n.flags&=-16777217):(t.memoizedProps!==l&&bi(n),$t(n),n.flags&=-16777217),null;case 27:ga(n),r=on.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&bi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return $t(n),null}t=Qe.current,Ys(n)?qd(n):(t=np(c,l,r),n.stateNode=t,bi(n))}return $t(n),null;case 5:if(ga(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&bi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return $t(n),null}if(t=Qe.current,Ys(n))qd(n);else{switch(c=so(on.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[Re]=n,t[pe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(xe(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&bi(n)}}return $t(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&bi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=on.current,Ys(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Xe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Re]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Zg(t.nodeValue,r)),t||Fr(n)}else t=so(t).createTextNode(l),t[Re]=n,n.stateNode=t}return $t(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ys(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Re]=n}else Ks(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;$t(n),c=!1}else In!==null&&(Mh(In),In=null),c=!0;if(!c)return n.flags&256?(pi(n),n):(pi(n),null)}if(pi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Xu(n,n.updateQueue),$t(n),null;case 4:return ii(),t===null&&jh(n.stateNode.containerInfo),$t(n),null;case 10:return Ei(n.type),$t(n),null;case 19:if(te(ve),c=n.memoizedState,c===null)return $t(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)ml(c,!1);else{if(ie!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Mu(t),f!==null){for(n.flags|=128,ml(c,!1),t=f.updateQueue,n.updateQueue=t,Xu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)bg(r,t),r=r.sibling;return Ht(ve,ve.current&1|2),n.child}t=t.sibling}c.tail!==null&&$e()>Zu&&(n.flags|=128,l=!0,ml(c,!1),n.lanes=4194304)}else{if(!l)if(t=Mu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Xu(n,t),ml(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Lt)return $t(n),null}else 2*$e()-c.renderingStartTime>Zu&&r!==536870912&&(n.flags|=128,l=!0,ml(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=$e(),n.sibling=null,t=ve.current,Ht(ve,l?t&1|2:t&1),n):($t(n),null);case 22:case 23:return pi(n),Ic(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&($t(n),n.subtreeFlags&6&&(n.flags|=8192)):$t(n),r=n.updateQueue,r!==null&&Xu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&te(Kr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ei(Ee),$t(n),null;case 25:return null}throw Error(a(156,n.tag))}function iE(t,n){switch(Dc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ei(Ee),ii(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ga(n),null;case 13:if(pi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ks()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return te(ve),null;case 4:return ii(),null;case 10:return Ei(n.type),null;case 22:case 23:return pi(n),Ic(),t!==null&&te(Kr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ei(Ee),null;case 25:return null;default:return null}}function Dg(t,n){switch(Dc(n),n.tag){case 3:Ei(Ee),ii();break;case 26:case 27:case 5:ga(n);break;case 4:ii();break;case 13:pi(n);break;case 19:te(ve);break;case 10:Ei(n.type);break;case 22:case 23:pi(n),Ic(),t!==null&&te(Kr);break;case 24:Ei(Ee)}}var rE={getCacheForType:function(t){var n=ke(Ee),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},aE=typeof WeakMap=="function"?WeakMap:Map,Jt=0,Yt=null,wt=null,It=0,Kt=0,ln=null,Ri=!1,Xa=!1,Rh=!1,wi=0,ie=0,or=0,ia=0,wh=0,bn=0,Za=0,gl=null,Xn=null,Dh=!1,Ch=0,Zu=1/0,$u=null,cr=null,Ju=!1,ra=null,pl=0,Vh=0,Oh=null,yl=0,Ih=null;function un(){if((Jt&2)!==0&&It!==0)return It&-It;if(A.T!==null){var t=qa;return t!==0?t:Ph()}return ru()}function Cg(){bn===0&&(bn=(It&536870912)===0||Lt?Vs():536870912);var t=En.current;return t!==null&&(t.flags|=32),bn}function Ze(t,n,r){(t===Yt&&Kt===2||t.cancelPendingCommit!==null)&&($a(t,0),Di(t,It,bn,!1)),ae(t,r),((Jt&2)===0||t!==Yt)&&(t===Yt&&((Jt&2)===0&&(ia|=r),ie===4&&Di(t,It,bn,!1)),Zn(t))}function Vg(t,n,r){if((Jt&6)!==0)throw Error(a(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||Li(t,n),c=l?uE(t,n):xh(t,n,!0),f=l;do{if(c===0){Xa&&!l&&Di(t,n,0,!1);break}else if(c===6)Di(t,n,0,!Ri);else{if(r=t.current.alternate,f&&!sE(r)){c=xh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=t;c=gl;var S=E.current.memoizedState.isDehydrated;if(S&&($a(E,p).flags|=256),p=xh(E,p,!1),p!==2){if(Rh&&!S){E.errorRecoveryDisabledLanes|=f,ia|=f,c=4;break t}f=Xn,Xn=c,f!==null&&Mh(f)}c=p}if(f=!1,c!==2)continue}}if(c===1){$a(t,0),Di(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(a(345));case 4:if((n&4194176)===n){Di(l,n,bn,!Ri);break t}break;case 2:Xn=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(f=Ch+300-$e(),10<f)){if(Di(l,n,bn,!Ri),cn(l,0)!==0)break t;l.timeoutHandle=Wg(Og.bind(null,l,r,Xn,$u,Dh,n,bn,ia,Za,Ri,2,-0,0),f);break t}Og(l,r,Xn,$u,Dh,n,bn,ia,Za,Ri,0,-0,0)}}break}while(!0);Zn(t)}function Mh(t){Xn===null?Xn=t:Xn.push.apply(Xn,t)}function Og(t,n,r,l,c,f,p,E,S,O,H,F,B){var q=n.subtreeFlags;if((q&8192||(q&16785408)===16785408)&&(Sl={stylesheets:null,count:0,unsuspend:qE},Eg(n),n=jE(),n!==null)){t.cancelPendingCommit=n(Lg.bind(null,t,r,l,c,p,E,S,1,F,B)),Di(t,f,p,!O);return}Lg(t,r,l,c,p,E,S,H,F,B)}function sE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!rn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Di(t,n,r,l){n&=~wh,n&=~ia,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Fe(c),p=1<<f;l[f]=-1,c&=~p}r!==0&&Pi(t,r,n)}function Wu(){return(Jt&6)===0?(_l(0),!1):!0}function Nh(){if(wt!==null){if(Kt===0)var t=wt.return;else t=wt,vi=Wr=null,Pc(t),Pa=null,Js=0,t=wt;for(;t!==null;)Dg(t.alternate,t),t=t.return;wt=null}}function $a(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,RE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Nh(),Yt=t,wt=r=ur(t.current,null),It=n,Kt=0,ln=null,Ri=!1,Xa=Li(t,n),Rh=!1,Za=bn=wh=ia=or=ie=0,Xn=gl=null,Dh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Fe(l),f=1<<c;n|=t[c],l&=~f}return wi=n,Su(),r}function Ig(t,n){St=null,A.H=Kn,n===Zs?(n=Fd(),Kt=3):n===jd?(n=Fd(),Kt=4):Kt=n===Gm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ln=n,wt===null&&(ie=1,ju(t,yn(n,t.current)))}function Mg(){var t=A.H;return A.H=Kn,t===null?Kn:t}function Ng(){var t=A.A;return A.A=rE,t}function Uh(){ie=4,Ri||(It&4194176)!==It&&En.current!==null||(Xa=!0),(or&134217727)===0&&(ia&134217727)===0||Yt===null||Di(Yt,It,bn,!1)}function xh(t,n,r){var l=Jt;Jt|=2;var c=Mg(),f=Ng();(Yt!==t||It!==n)&&($u=null,$a(t,n)),n=!1;var p=ie;t:do try{if(Kt!==0&&wt!==null){var E=wt,S=ln;switch(Kt){case 8:Nh(),p=6;break t;case 3:case 2:case 6:En.current===null&&(n=!0);var O=Kt;if(Kt=0,ln=null,Ja(t,E,S,O),r&&Xa){p=0;break t}break;default:O=Kt,Kt=0,ln=null,Ja(t,E,S,O)}}lE(),p=ie;break}catch(H){Ig(t,H)}while(!0);return n&&t.shellSuspendCounter++,vi=Wr=null,Jt=l,A.H=c,A.A=f,wt===null&&(Yt=null,It=0,Su()),p}function lE(){for(;wt!==null;)Ug(wt)}function uE(t,n){var r=Jt;Jt|=2;var l=Mg(),c=Ng();Yt!==t||It!==n?($u=null,Zu=$e()+500,$a(t,n)):Xa=Li(t,n);t:do try{if(Kt!==0&&wt!==null){n=wt;var f=ln;e:switch(Kt){case 1:Kt=0,ln=null,Ja(t,n,f,1);break;case 2:if(Gd(f)){Kt=0,ln=null,xg(n);break}n=function(){Kt===2&&Yt===t&&(Kt=7),Zn(t)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Gd(f)?(Kt=0,ln=null,xg(n)):(Kt=0,ln=null,Ja(t,n,f,7));break;case 5:var p=null;switch(wt.tag){case 26:p=wt.memoizedState;case 5:case 27:var E=wt;if(!p||cp(p)){Kt=0,ln=null;var S=E.sibling;if(S!==null)wt=S;else{var O=E.return;O!==null?(wt=O,to(O)):wt=null}break e}}Kt=0,ln=null,Ja(t,n,f,5);break;case 6:Kt=0,ln=null,Ja(t,n,f,6);break;case 8:Nh(),ie=6;break t;default:throw Error(a(462))}}oE();break}catch(H){Ig(t,H)}while(!0);return vi=Wr=null,A.H=l,A.A=c,Jt=r,wt!==null?0:(Yt=null,It=0,Su(),ie)}function oE(){for(;wt!==null&&!oc();)Ug(wt)}function Ug(t){var n=ng(t.alternate,t,wi);t.memoizedProps=t.pendingProps,n===null?to(t):wt=n}function xg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Zm(r,n,n.pendingProps,n.type,void 0,It);break;case 11:n=Zm(r,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:Pc(n);default:Dg(r,n),n=wt=bg(n,wi),n=ng(r,n,wi)}t.memoizedProps=t.pendingProps,n===null?to(t):wt=n}function Ja(t,n,r,l){vi=Wr=null,Pc(n),Pa=null,Js=0;var c=n.return;try{if($v(t,c,n,r,It)){ie=1,ju(t,yn(r,t.current)),wt=null;return}}catch(f){if(c!==null)throw wt=c,f;ie=1,ju(t,yn(r,t.current)),wt=null;return}n.flags&32768?(Lt||l===1?t=!0:Xa||(It&536870912)!==0?t=!1:(Ri=t=!0,(l===2||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),zg(n,t)):to(n)}function to(t){var n=t;do{if((n.flags&32768)!==0){zg(n,Ri);return}t=n.return;var r=nE(n.alternate,n,wi);if(r!==null){wt=r;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);ie===0&&(ie=5)}function zg(t,n){do{var r=iE(t.alternate,t);if(r!==null){r.flags&=32767,wt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=r}while(t!==null);ie=6,wt=null}function Lg(t,n,r,l,c,f,p,E,S,O){var H=A.T,F=tt.p;try{tt.p=2,A.T=null,cE(t,n,r,l,F,c,f,p,E,S,O)}finally{A.T=H,tt.p=F}}function cE(t,n,r,l,c,f,p,E){do Wa();while(ra!==null);if((Jt&6)!==0)throw Error(a(327));var S=t.finishedWork;if(l=t.finishedLanes,S===null)return null;if(t.finishedWork=null,t.finishedLanes=0,S===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var O=S.lanes|S.childLanes;if(O|=bc,nu(t,l,O,f,p,E),t===Yt&&(wt=Yt=null,It=0),(S.subtreeFlags&10256)===0&&(S.flags&10256)===0||Ju||(Ju=!0,Vh=O,Oh=r,mE(ri,function(){return Wa(),null})),r=(S.flags&15990)!==0,(S.subtreeFlags&15990)!==0||r?(r=A.T,A.T=null,f=tt.p,tt.p=2,p=Jt,Jt|=4,Wv(t,S),yg(S,t),Uv(Yh,t.containerInfo),fo=!!Fh,Yh=Fh=null,t.current=S,dg(t,S.alternate,S),Rs(),Jt=p,tt.p=f,A.T=r):t.current=S,Ju?(Ju=!1,ra=t,pl=l):Bg(t,O),O=t.pendingLanes,O===0&&(cr=null),Ds(S.stateNode),Zn(t),n!==null)for(c=t.onRecoverableError,S=0;S<n.length;S++)O=n[S],c(O.value,{componentStack:O.stack});return(pl&3)!==0&&Wa(),O=t.pendingLanes,(l&4194218)!==0&&(O&42)!==0?t===Ih?yl++:(yl=0,Ih=t):yl=0,_l(0),null}function Bg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,tl(n)))}function Wa(){if(ra!==null){var t=ra,n=Vh;Vh=0;var r=iu(pl),l=A.T,c=tt.p;try{if(tt.p=32>r?32:r,A.T=null,ra===null)var f=!1;else{r=Oh,Oh=null;var p=ra,E=pl;if(ra=null,pl=0,(Jt&6)!==0)throw Error(a(331));var S=Jt;if(Jt|=4,Ag(p.current),vg(p,p.current,E,r),Jt=S,_l(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(xi,p)}catch{}f=!0}return f}finally{tt.p=c,A.T=l,Bg(t,n)}}return!1}function Pg(t,n,r){n=yn(r,n),n=Wc(t.stateNode,n,2),t=rr(t,n,2),t!==null&&(ae(t,2),Zn(t))}function Ft(t,n,r){if(t.tag===3)Pg(t,t,r);else for(;n!==null;){if(n.tag===3){Pg(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(cr===null||!cr.has(l))){t=yn(r,t),r=Hm(2),l=rr(n,r,2),l!==null&&(jm(r,l,n,t),ae(l,2),Zn(l));break}}n=n.return}}function zh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new aE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Rh=!0,c.add(r),t=hE.bind(null,t,n,r),n.then(t,t))}function hE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Yt===t&&(It&r)===r&&(ie===4||ie===3&&(It&62914560)===It&&300>$e()-Ch?(Jt&2)===0&&$a(t,0):wh|=r,Za===It&&(Za=0)),Zn(t)}function kg(t,n){n===0&&(n=Bi()),t=Zi(t,n),t!==null&&(ae(t,n),Zn(t))}function fE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),kg(t,r)}function dE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),kg(t,r)}function mE(t,n){return Cr(t,n)}var eo=null,ts=null,Lh=!1,no=!1,Bh=!1,aa=0;function Zn(t){t!==ts&&t.next===null&&(ts===null?eo=ts=t:ts=ts.next=t),no=!0,Lh||(Lh=!0,pE(gE))}function _l(t,n){if(!Bh&&no){Bh=!0;do for(var r=!1,l=eo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Fe(42|t)+1)-1,f&=c&~(p&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(r=!0,jg(l,f))}else f=It,f=cn(l,l===Yt?f:0),(f&3)===0||Li(l,f)||(r=!0,jg(l,f));l=l.next}while(r);Bh=!1}}function gE(){no=Lh=!1;var t=0;aa!==0&&(bE()&&(t=aa),aa=0);for(var n=$e(),r=null,l=eo;l!==null;){var c=l.next,f=qg(l,n);f===0?(l.next=null,r===null?eo=c:r.next=c,c===null&&(ts=r)):(r=l,(t!==0||(f&3)!==0)&&(no=!0)),l=c}_l(t)}function qg(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Fe(f),E=1<<p,S=c[p];S===-1?((E&r)===0||(E&l)!==0)&&(c[p]=_a(E,n)):S<=n&&(t.expiredLanes|=E),f&=~E}if(n=Yt,r=It,r=cn(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&Kt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ya(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Li(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&ya(l),iu(r)){case 2:case 8:r=be;break;case 32:r=ri;break;case 268435456:r=ws;break;default:r=ri}return l=Hg.bind(null,t),r=Cr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&ya(l),t.callbackPriority=2,t.callbackNode=null,2}function Hg(t,n){var r=t.callbackNode;if(Wa()&&t.callbackNode!==r)return null;var l=It;return l=cn(t,t===Yt?l:0),l===0?null:(Vg(t,l,n),qg(t,$e()),t.callbackNode!=null&&t.callbackNode===r?Hg.bind(null,t):null)}function jg(t,n){if(Wa())return null;Vg(t,n,!0)}function pE(t){wE(function(){(Jt&6)!==0?Cr(ge,t):t()})}function Ph(){return aa===0&&(aa=Vs()),aa}function Gg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Pn(""+t)}function Qg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function yE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Gg((c[pe]||null).action),p=l.submitter;p&&(n=(n=p[pe]||null)?Gg(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Ra("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(aa!==0){var S=p?Qg(c,p):new FormData(c);Kc(r,{pending:!0,data:S,method:c.method,action:f},null,S)}}else typeof f=="function"&&(E.preventDefault(),S=p?Qg(c,p):new FormData(c),Kc(r,{pending:!0,data:S,method:c.method,action:f},f,S))},currentTarget:c}]})}}for(var kh=0;kh<Ld.length;kh++){var qh=Ld[kh],_E=qh.toLowerCase(),vE=qh[0].toUpperCase()+qh.slice(1);On(_E,"on"+vE)}On(Md,"onAnimationEnd"),On(Nd,"onAnimationIteration"),On(Ud,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(zv,"onTransitionRun"),On(Lv,"onTransitionStart"),On(Bv,"onTransitionCancel"),On(xd,"onTransitionEnd"),Je("onMouseEnter",["mouseout","mouseover"]),Je("onMouseLeave",["mouseout","mouseover"]),Je("onPointerEnter",["pointerout","pointerover"]),Je("onPointerLeave",["pointerout","pointerover"]),en("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),en("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),en("onBeforeInput",["compositionend","keypress","textInput","paste"]),en("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function Fg(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],S=E.instance,O=E.currentTarget;if(E=E.listener,S!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=O;try{f(c)}catch(H){Hu(H)}c.currentTarget=null,f=S}else for(p=0;p<l.length;p++){if(E=l[p],S=E.instance,O=E.currentTarget,E=E.listener,S!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=O;try{f(c)}catch(H){Hu(H)}c.currentTarget=null,f=S}}}}function Ct(t,n){var r=n[Or];r===void 0&&(r=n[Or]=new Set);var l=t+"__bubble";r.has(l)||(Yg(n,t,2,!1),r.add(l))}function Hh(t,n,r){var l=0;n&&(l|=4),Yg(r,t,l,n)}var io="_reactListening"+Math.random().toString(36).slice(2);function jh(t){if(!t[io]){t[io]=!0,Is.forEach(function(r){r!=="selectionchange"&&(EE.has(r)||Hh(r,!1,t),Hh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[io]||(n[io]=!0,Hh("selectionchange",!1,n))}}function Yg(t,n,r,l){switch(pp(n)){case 2:var c=FE;break;case 8:c=YE;break;default:c=nf}r=c.bind(null,n,r,t),c=void 0,!mn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Gh(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(p===4)for(p=l.return;p!==null;){var S=p.tag;if((S===3||S===4)&&(S=p.stateNode.containerInfo,S===c||S.nodeType===8&&S.parentNode===c))return;p=p.return}for(;E!==null;){if(p=Vn(E),p===null)return;if(S=p.tag,S===5||S===6||S===26||S===27){l=f=p;continue t}E=E.parentNode}}l=l.return}uu(function(){var O=f,H=ba(r),F=[];t:{var B=zd.get(t);if(B!==void 0){var q=Ra,rt=t;switch(t){case"keypress":if(qn(r)===0)break t;case"keydown":case"keyup":q=Ia;break;case"focusin":rt="focus",q=Ca;break;case"focusout":rt="blur",q=Ca;break;case"beforeblur":case"afterblur":q=Ca;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=pc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=pu;break;case Md:case Nd:case Ud:q=Va;break;case xd:q=_u;break;case"scroll":case"scrollend":q=ou;break;case"wheel":q=Ma;break;case"copy":case"cut":case"paste":q=Oa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=js;break;case"toggle":case"beforetoggle":q=Eu}var gt=(n&4)!==0,re=!gt&&(t==="scroll"||t==="scrollend"),U=gt?B!==null?B+"Capture":null:B;gt=[];for(var V=O,L;V!==null;){var G=V;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||U===null||(G=xr(V,U),G!=null&&gt.push(El(V,G,L))),re)break;V=V.return}0<gt.length&&(B=new q(B,rt,null,r,H),F.push({event:B,listeners:gt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&r!==dn&&(rt=r.relatedTarget||r.fromElement)&&(Vn(rt)||rt[ai]))break t;if((q||B)&&(B=H.window===H?H:(B=H.ownerDocument)?B.defaultView||B.parentWindow:window,q?(rt=r.relatedTarget||r.toElement,q=O,rt=rt?Vn(rt):null,rt!==null&&(re=lt(rt),gt=rt.tag,rt!==re||gt!==5&&gt!==27&&gt!==6)&&(rt=null)):(q=null,rt=O),q!==rt)){if(gt=gn,G="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(gt=js,G="onPointerLeave",U="onPointerEnter",V="pointer"),re=q==null?B:ji(q),L=rt==null?B:ji(rt),B=new gt(G,V+"leave",q,r,H),B.target=re,B.relatedTarget=L,G=null,Vn(H)===O&&(gt=new gt(U,V+"enter",rt,r,H),gt.target=L,gt.relatedTarget=re,G=gt),re=G,q&&rt)e:{for(gt=q,U=rt,V=0,L=gt;L;L=es(L))V++;for(L=0,G=U;G;G=es(G))L++;for(;0<V-L;)gt=es(gt),V--;for(;0<L-V;)U=es(U),L--;for(;V--;){if(gt===U||U!==null&&gt===U.alternate)break e;gt=es(gt),U=es(U)}gt=null}else gt=null;q!==null&&Kg(F,B,q,gt,!1),rt!==null&&re!==null&&Kg(F,re,rt,gt,!0)}}t:{if(B=O?ji(O):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var it=Td;else if(_e(B))if(Ad)it=Mv;else{it=Ov;var Rt=Vv}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?O&&zs(O.elementType)&&(it=Td):it=Iv;if(it&&(it=it(t,O))){di(F,it,r,H);break t}Rt&&Rt(t,B,O),t==="focusout"&&O&&B.type==="number"&&O.memoizedProps.value!=null&&Sa(B,"number",B.value)}switch(Rt=O?ji(O):window,t){case"focusin":(_e(Rt)||Rt.contentEditable==="true")&&(Na=Rt,Tc=O,Fs=null);break;case"focusout":Fs=Tc=Na=null;break;case"mousedown":Ac=!0;break;case"contextmenu":case"mouseup":case"dragend":Ac=!1,Od(F,r,H);break;case"selectionchange":if(xv)break;case"keydown":case"keyup":Od(F,r,H)}var st;if(Gn)t:{switch(t){case"compositionstart":var ct="onCompositionStart";break t;case"compositionend":ct="onCompositionEnd";break t;case"compositionupdate":ct="onCompositionUpdate";break t}ct=void 0}else Vt?P(t,r)&&(ct="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ct="onCompositionStart");ct&&(g&&r.locale!=="ko"&&(Vt||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&Vt&&(st=Bs()):(kn=H,Xi="value"in kn?kn.value:kn.textContent,Vt=!0)),Rt=ro(O,ct),0<Rt.length&&(ct=new qs(ct,t,null,r,H),F.push({event:ct,listeners:Rt}),st?ct.data=st:(st=X(r),st!==null&&(ct.data=st)))),(st=m?ye(t,r):Ot(t,r))&&(ct=ro(O,"onBeforeInput"),0<ct.length&&(Rt=new qs("onBeforeInput","beforeinput",null,r,H),F.push({event:Rt,listeners:ct}),Rt.data=st)),yE(F,t,O,r,H)}Fg(F,n)})}function El(t,n,r){return{instance:t,listener:n,currentTarget:r}}function ro(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=xr(t,r),c!=null&&l.unshift(El(t,c,f)),c=xr(t,n),c!=null&&l.push(El(t,c,f))),t=t.return}return l}function es(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Kg(t,n,r,l,c){for(var f=n._reactName,p=[];r!==null&&r!==l;){var E=r,S=E.alternate,O=E.stateNode;if(E=E.tag,S!==null&&S===l)break;E!==5&&E!==26&&E!==27||O===null||(S=O,c?(O=xr(r,f),O!=null&&p.unshift(El(r,O,S))):c||(O=xr(r,f),O!=null&&p.push(El(r,O,S)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var TE=/\r\n?/g,AE=/\u0000|\uFFFD/g;function Xg(t){return(typeof t=="string"?t:""+t).replace(TE,`
`).replace(AE,"")}function Zg(t,n){return n=Xg(n),Xg(t)===n}function ao(){}function Gt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||fn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&fn(t,""+l);break;case"className":Fi(t,"class",l);break;case"tabIndex":Fi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Fi(t,r,l);break;case"style":lu(t,l,f);break;case"data":if(n!=="object"){Fi(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Pn(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Gt(t,n,"name",c.name,c,null),Gt(t,n,"formEncType",c.formEncType,c,null),Gt(t,n,"formMethod",c.formMethod,c,null),Gt(t,n,"formTarget",c.formTarget,c,null)):(Gt(t,n,"encType",c.encType,c,null),Gt(t,n,"method",c.method,c,null),Gt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Pn(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=ao);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Pn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),Qi(t,"popover",l);break;case"xlinkActuate":hn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":hn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":hn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":hn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":hn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":hn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":hn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":hn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":hn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Qi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=mc.get(r)||r,Qi(t,r,l))}}function Qh(t,n,r,l,c,f){switch(r){case"style":lu(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?fn(t,l):(typeof l=="number"||typeof l=="bigint")&&fn(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ao);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ta.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[pe]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Qi(t,r,l)}}}function xe(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Gt(t,n,f,p,r,null)}}c&&Gt(t,n,"srcSet",r.srcSet,r,null),l&&Gt(t,n,"src",r.src,r,null);return;case"input":Ct("invalid",t);var E=f=p=c=null,S=null,O=null;for(l in r)if(r.hasOwnProperty(l)){var H=r[l];if(H!=null)switch(l){case"name":c=H;break;case"type":p=H;break;case"checked":S=H;break;case"defaultChecked":O=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Gt(t,n,l,H,r,null)}}Nr(t,f,E,S,O,p,c,!1),Mr(t);return;case"select":Ct("invalid",t),l=p=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:Gt(t,n,c,E,r,null)}n=f,r=p,t.multiple=!!l,n!=null?zt(t,!!l,n,!1):r!=null&&zt(t,!!l,r,!0);return;case"textarea":Ct("invalid",t),f=c=l=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Gt(t,n,p,E,r,null)}Ki(t,l,c,f),Mr(t);return;case"option":for(S in r)if(r.hasOwnProperty(S)&&(l=r[S],l!=null))switch(S){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Gt(t,n,S,l,r,null)}return;case"dialog":Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<vl.length;l++)Ct(vl[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in r)if(r.hasOwnProperty(O)&&(l=r[O],l!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Gt(t,n,O,l,r,null)}return;default:if(zs(n)){for(H in r)r.hasOwnProperty(H)&&(l=r[H],l!==void 0&&Qh(t,n,H,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Gt(t,n,E,l,r,null))}function SE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,E=null,S=null,O=null,H=null;for(q in r){var F=r[q];if(r.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":S=F;default:l.hasOwnProperty(q)||Gt(t,n,q,null,l,F)}}for(var B in l){var q=l[B];if(F=r[B],l.hasOwnProperty(B)&&(q!=null||F!=null))switch(B){case"type":f=q;break;case"name":c=q;break;case"checked":O=q;break;case"defaultChecked":H=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==F&&Gt(t,n,B,q,l,F)}}Yi(t,p,E,S,O,H,f,c);return;case"select":q=p=E=B=null;for(f in r)if(S=r[f],r.hasOwnProperty(f)&&S!=null)switch(f){case"value":break;case"multiple":q=S;default:l.hasOwnProperty(f)||Gt(t,n,f,null,l,S)}for(c in l)if(f=l[c],S=r[c],l.hasOwnProperty(c)&&(f!=null||S!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==S&&Gt(t,n,c,f,l,S)}n=E,r=p,l=q,B!=null?zt(t,!!r,B,!1):!!l!=!!r&&(n!=null?zt(t,!!r,n,!0):zt(t,!!r,r?[]:"",!1));return;case"textarea":q=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Gt(t,n,E,null,l,c)}for(p in l)if(c=l[p],f=r[p],l.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Gt(t,n,p,c,l,f)}Ur(t,B,q);return;case"option":for(var rt in r)if(B=r[rt],r.hasOwnProperty(rt)&&B!=null&&!l.hasOwnProperty(rt))switch(rt){case"selected":t.selected=!1;break;default:Gt(t,n,rt,null,l,B)}for(S in l)if(B=l[S],q=r[S],l.hasOwnProperty(S)&&B!==q&&(B!=null||q!=null))switch(S){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Gt(t,n,S,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in r)B=r[gt],r.hasOwnProperty(gt)&&B!=null&&!l.hasOwnProperty(gt)&&Gt(t,n,gt,null,l,B);for(O in l)if(B=l[O],q=r[O],l.hasOwnProperty(O)&&B!==q&&(B!=null||q!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Gt(t,n,O,B,l,q)}return;default:if(zs(n)){for(var re in r)B=r[re],r.hasOwnProperty(re)&&B!==void 0&&!l.hasOwnProperty(re)&&Qh(t,n,re,void 0,l,B);for(H in l)B=l[H],q=r[H],!l.hasOwnProperty(H)||B===q||B===void 0&&q===void 0||Qh(t,n,H,B,l,q);return}}for(var U in r)B=r[U],r.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&Gt(t,n,U,null,l,B);for(F in l)B=l[F],q=r[F],!l.hasOwnProperty(F)||B===q||B==null&&q==null||Gt(t,n,F,B,l,q)}var Fh=null,Yh=null;function so(t){return t.nodeType===9?t:t.ownerDocument}function $g(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jg(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Kh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Xh=null;function bE(){var t=window.event;return t&&t.type==="popstate"?t===Xh?!1:(Xh=t,!0):(Xh=null,!1)}var Wg=typeof setTimeout=="function"?setTimeout:void 0,RE=typeof clearTimeout=="function"?clearTimeout:void 0,tp=typeof Promise=="function"?Promise:void 0,wE=typeof queueMicrotask=="function"?queueMicrotask:typeof tp<"u"?function(t){return tp.resolve(null).then(t).catch(DE)}:Wg;function DE(t){setTimeout(function(){throw t})}function Zh(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){t.removeChild(c),Cl(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);Cl(n)}function $h(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":$h(r),Ir(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function CE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Hi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Nn(t.nextSibling),t===null)break}return null}function VE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Nn(t.nextSibling),t===null))return null;return t}function Nn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function ep(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function np(t,n,r){switch(n=so(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var Rn=new Map,ip=new Set;function lo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Ci=tt.d;tt.d={f:OE,r:IE,D:ME,C:NE,L:UE,m:xE,X:LE,S:zE,M:BE};function OE(){var t=Ci.f(),n=Wu();return t||n}function IE(t){var n=si(t);n!==null&&n.tag===5&&n.type==="form"?Om(n):Ci.r(t)}var ns=typeof document>"u"?null:document;function rp(t,n,r){var l=ns;if(l&&typeof n=="string"&&n){var c=ee(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),ip.has(c)||(ip.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),xe(n,"link",t),Zt(n),l.head.appendChild(n)))}}function ME(t){Ci.D(t),rp("dns-prefetch",t,null)}function NE(t,n){Ci.C(t,n),rp("preconnect",t,n)}function UE(t,n,r){Ci.L(t,n,r);var l=ns;if(l&&t&&n){var c='link[rel="preload"][as="'+ee(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+ee(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+ee(r.imageSizes)+'"]')):c+='[href="'+ee(t)+'"]';var f=c;switch(n){case"style":f=is(t);break;case"script":f=rs(t)}Rn.has(f)||(t=D({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Rn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Tl(f))||n==="script"&&l.querySelector(Al(f))||(n=l.createElement("link"),xe(n,"link",t),Zt(n),l.head.appendChild(n)))}}function xE(t,n){Ci.m(t,n);var r=ns;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ee(l)+'"][href="'+ee(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=rs(t)}if(!Rn.has(f)&&(t=D({rel:"modulepreload",href:t},n),Rn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Al(f)))return}l=r.createElement("link"),xe(l,"link",t),Zt(l),r.head.appendChild(l)}}}function zE(t,n,r){Ci.S(t,n,r);var l=ns;if(l&&t){var c=Gi(l).hoistableStyles,f=is(t);n=n||"default";var p=c.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(Tl(f)))E.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Rn.get(f))&&Jh(t,r);var S=p=l.createElement("link");Zt(S),xe(S,"link",t),S._p=new Promise(function(O,H){S.onload=O,S.onerror=H}),S.addEventListener("load",function(){E.loading|=1}),S.addEventListener("error",function(){E.loading|=2}),E.loading|=4,uo(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},c.set(f,p)}}}function LE(t,n){Ci.X(t,n);var r=ns;if(r&&t){var l=Gi(r).hoistableScripts,c=rs(t),f=l.get(c);f||(f=r.querySelector(Al(c)),f||(t=D({src:t,async:!0},n),(n=Rn.get(c))&&Wh(t,n),f=r.createElement("script"),Zt(f),xe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function BE(t,n){Ci.M(t,n);var r=ns;if(r&&t){var l=Gi(r).hoistableScripts,c=rs(t),f=l.get(c);f||(f=r.querySelector(Al(c)),f||(t=D({src:t,async:!0,type:"module"},n),(n=Rn.get(c))&&Wh(t,n),f=r.createElement("script"),Zt(f),xe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ap(t,n,r,l){var c=(c=on.current)?lo(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=is(r.href),r=Gi(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=is(r.href);var f=Gi(c).hoistableStyles,p=f.get(t);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=c.querySelector(Tl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Rn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Rn.set(t,r),f||PE(c,t,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=rs(r),r=Gi(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function is(t){return'href="'+ee(t)+'"'}function Tl(t){return'link[rel="stylesheet"]['+t+"]"}function sp(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function PE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),xe(n,"link",r),Zt(n),t.head.appendChild(n))}function rs(t){return'[src="'+ee(t)+'"]'}function Al(t){return"script[async]"+t}function lp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ee(r.href)+'"]');if(l)return n.instance=l,Zt(l),l;var c=D({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Zt(l),xe(l,"style",c),uo(l,r.precedence,t),n.instance=l;case"stylesheet":c=is(r.href);var f=t.querySelector(Tl(c));if(f)return n.state.loading|=4,n.instance=f,Zt(f),f;l=sp(r),(c=Rn.get(c))&&Jh(l,c),f=(t.ownerDocument||t).createElement("link"),Zt(f);var p=f;return p._p=new Promise(function(E,S){p.onload=E,p.onerror=S}),xe(f,"link",l),n.state.loading|=4,uo(f,r.precedence,t),n.instance=f;case"script":return f=rs(r.src),(c=t.querySelector(Al(f)))?(n.instance=c,Zt(c),c):(l=r,(c=Rn.get(f))&&(l=D({},r),Wh(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Zt(c),xe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,uo(l,r.precedence,t));return n.instance}function uo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Jh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Wh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var oo=null;function up(t,n,r){if(oo===null){var l=new Map,c=oo=new Map;c.set(r,l)}else c=oo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Hi]||f[Re]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function op(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function kE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function cp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Sl=null;function qE(){}function HE(t,n,r){if(Sl===null)throw Error(a(475));var l=Sl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=is(r.href),f=t.querySelector(Tl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=co.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,Zt(f);return}f=t.ownerDocument||t,r=sp(r),(c=Rn.get(c))&&Jh(r,c),f=f.createElement("link"),Zt(f);var p=f;p._p=new Promise(function(E,S){p.onload=E,p.onerror=S}),xe(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=co.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function jE(){if(Sl===null)throw Error(a(475));var t=Sl;return t.stylesheets&&t.count===0&&tf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&tf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function co(){if(this.count--,this.count===0){if(this.stylesheets)tf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ho=null;function tf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ho=new Map,n.forEach(GE,t),ho=null,co.call(t))}function GE(t,n){if(!(n.state.loading&4)){var r=ho.get(t);if(r)var l=r.get(null);else{r=new Map,ho.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}c=n.instance,p=c.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,c),r.set(p,c),this.count++,l=co.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var bl={$$typeof:j,Provider:null,Consumer:null,_currentValue:At,_currentValue2:At,_threadCount:0};function QE(t,n,r,l,c,f,p,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=va(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=va(0),this.hiddenUpdates=va(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function hp(t,n,r,l,c,f,p,E,S,O,H,F){return t=new QE(t,n,r,p,E,S,O,F),n=1,f===!0&&(n|=24),f=Sn(3,null,null,n),t.current=f,f.stateNode=t,n=Mc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},fh(f),t}function fp(t){return t?(t=za,t):za}function dp(t,n,r,l,c,f){c=fp(c),l.context===null?l.context=c:l.pendingContext=c,l=ir(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=rr(t,l,n),r!==null&&(Ze(r,t,n),ll(r,t,n))}function mp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function ef(t,n){mp(t,n),(t=t.alternate)&&mp(t,n)}function gp(t){if(t.tag===13){var n=Zi(t,67108864);n!==null&&Ze(n,t,67108864),ef(t,67108864)}}var fo=!0;function FE(t,n,r,l){var c=A.T;A.T=null;var f=tt.p;try{tt.p=2,nf(t,n,r,l)}finally{tt.p=f,A.T=c}}function YE(t,n,r,l){var c=A.T;A.T=null;var f=tt.p;try{tt.p=8,nf(t,n,r,l)}finally{tt.p=f,A.T=c}}function nf(t,n,r,l){if(fo){var c=rf(l);if(c===null)Gh(t,n,l,mo,r),yp(t,l);else if(XE(c,t,n,r,l))l.stopPropagation();else if(yp(t,l),n&4&&-1<KE.indexOf(t)){for(;c!==null;){var f=si(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Cn(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var S=1<<31-Fe(p);E.entanglements[1]|=S,p&=~S}Zn(f),(Jt&6)===0&&(Zu=$e()+500,_l(0))}}break;case 13:E=Zi(f,2),E!==null&&Ze(E,f,2),Wu(),ef(f,2)}if(f=rf(l),f===null&&Gh(t,n,l,mo,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Gh(t,n,l,null,r)}}function rf(t){return t=ba(t),af(t)}var mo=null;function af(t){if(mo=null,t=Vn(t),t!==null){var n=lt(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=Pt(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return mo=t,null}function pp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jl()){case ge:return 2;case be:return 8;case ri:case Wl:return 32;case ws:return 268435456;default:return 32}default:return 32}}var sf=!1,hr=null,fr=null,dr=null,Rl=new Map,wl=new Map,mr=[],KE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yp(t,n){switch(t){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":Rl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(n.pointerId)}}function Dl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=si(n),n!==null&&gp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function XE(t,n,r,l,c){switch(n){case"focusin":return hr=Dl(hr,t,n,r,l,c),!0;case"dragenter":return fr=Dl(fr,t,n,r,l,c),!0;case"mouseover":return dr=Dl(dr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Rl.set(f,Dl(Rl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,wl.set(f,Dl(wl.get(f)||null,t,n,r,l,c)),!0}return!1}function _p(t){var n=Vn(t.target);if(n!==null){var r=lt(n);if(r!==null){if(n=r.tag,n===13){if(n=Pt(r),n!==null){t.blockedOn=n,qi(t.priority,function(){if(r.tag===13){var l=un(),c=Zi(r,l);c!==null&&Ze(c,r,l),ef(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function go(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=rf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);dn=l,r.target.dispatchEvent(l),dn=null}else return n=si(r),n!==null&&gp(n),t.blockedOn=r,!1;n.shift()}return!0}function vp(t,n,r){go(t)&&r.delete(n)}function ZE(){sf=!1,hr!==null&&go(hr)&&(hr=null),fr!==null&&go(fr)&&(fr=null),dr!==null&&go(dr)&&(dr=null),Rl.forEach(vp),wl.forEach(vp)}function po(t,n){t.blockedOn===n&&(t.blockedOn=null,sf||(sf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,ZE)))}var yo=null;function Ep(t){yo!==t&&(yo=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){yo===t&&(yo=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(af(l||r)===null)continue;break}var f=si(r);f!==null&&(t.splice(n,3),n-=3,Kc(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Cl(t){function n(S){return po(S,t)}hr!==null&&po(hr,t),fr!==null&&po(fr,t),dr!==null&&po(dr,t),Rl.forEach(n),wl.forEach(n);for(var r=0;r<mr.length;r++){var l=mr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<mr.length&&(r=mr[0],r.blockedOn===null);)_p(r),r.blockedOn===null&&mr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],p=c[pe]||null;if(typeof f=="function")p||Ep(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[pe]||null)E=p.formAction;else if(af(c)!==null)continue}else E=p.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Ep(r)}}}function lf(t){this._internalRoot=t}_o.prototype.render=lf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=un();dp(r,l,t,n,null,null)},_o.prototype.unmount=lf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&Wa(),dp(t.current,2,null,t,null,null),Wu(),n[ai]=null}};function _o(t){this._internalRoot=t}_o.prototype.unstable_scheduleHydration=function(t){if(t){var n=ru();t={blockedOn:null,target:t,priority:n};for(var r=0;r<mr.length&&n!==0&&n<mr[r].priority;r++);mr.splice(r,0,t),r===0&&_p(t)}};var Tp=e.version;if(Tp!=="19.0.0")throw Error(a(527,Tp,"19.0.0"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=K(n),t=t!==null?at(t):null,t=t===null?null:t.stateNode,t};var $E={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Vn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vo.isDisabled&&vo.supportsFiber)try{xi=vo.inject($E),Pe=vo}catch{}}return Ol.createRoot=function(t,n){if(!u(t))throw Error(a(299));var r=!1,l="",c=Bm,f=Pm,p=km,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=hp(t,1,!1,null,null,r,l,c,f,p,E,null),t[ai]=n.current,jh(t.nodeType===8?t.parentNode:t),new lf(n)},Ol.hydrateRoot=function(t,n,r){if(!u(t))throw Error(a(299));var l=!1,c="",f=Bm,p=Pm,E=km,S=null,O=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks),r.formState!==void 0&&(O=r.formState)),n=hp(t,1,!0,n,r??null,l,c,f,p,E,S,O),n.context=fp(null),r=n.current,l=un(),c=ir(l),c.callback=null,rr(r,c,l),n.current.lanes=l,ae(n,l),Zn(n),t[ai]=n.current,jh(t),new _o(n)},Ol.version="19.0.0",Ol}var Ip;function u0(){if(Ip)return cf.exports;Ip=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),cf.exports=l0(),cf.exports}var o0=u0();const c0=Hy(o0),h0=()=>{};var Mp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},f0=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const u=s[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[a++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],y=s[i++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Gy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,y=d?s[u+1]:0,_=u+2<s.length,v=_?s[u+2]:0,R=h>>2,M=(h&3)<<4|y>>4;let k=(y&15)<<2|v>>6,j=v&63;_||(j=64,d||(k=64)),a.push(i[R],i[M],i[k],i[j])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(jy(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):f0(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],y=u<s.length?i[s.charAt(u)]:0;++u;const v=u<s.length?i[s.charAt(u)]:64;++u;const M=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||y==null||v==null||M==null)throw new d0;const k=h<<2|y>>4;if(a.push(k),v!==64){const j=y<<4&240|v>>2;if(a.push(j),M!==64){const $=v<<6&192|M;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class d0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m0=function(s){const e=jy(s);return Gy.encodeByteArray(e,!0)},Mo=function(s){return m0(s).replace(/\./g,"")},g0=function(s){try{return Gy.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=()=>p0().__FIREBASE_DEFAULTS__,_0=()=>{if(typeof process>"u"||typeof Mp>"u")return;const s=Mp.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},v0=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&g0(s[1]);return e&&JSON.parse(e)},Gf=()=>{try{return h0()||y0()||_0()||v0()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},E0=s=>{var e,i;return(i=(e=Gf())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},T0=s=>{const e=E0(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Qy=()=>{var s;return(s=Gf())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Mo(JSON.stringify(i)),Mo(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function R0(){var s;const e=(s=Gf())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function w0(){return!R0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D0(){try{return typeof indexedDB=="object"}catch{return!1}}function C0(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="FirebaseError";class vs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=V0,Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fy.prototype.create)}}class Fy{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?O0(h,a):"Error",y=`${this.serviceName}: ${d} (${u}).`;return new vs(u,y,a)}}function O0(s,e){return s.replace(I0,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const I0=/\{\$([^}]+)}/g;function No(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const h=s[u],d=e[u];if(Np(h)&&Np(d)){if(!No(h,d))return!1}else if(h!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function Np(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(s){return s&&s._delegate?s._delegate:s}class kl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new A0;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U0(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});a.resolve(h)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);a===y&&d.resolve(u)}return u}onInit(e,i){var a;const u=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(u))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:N0(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function N0(s){return s===sa?void 0:s}function U0(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new M0(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Nt||(Nt={}));const z0={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},L0=Nt.INFO,B0={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},P0=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),u=B0[e];if(u)console[u](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yy{constructor(e){this.name=e,this._logLevel=L0,this._logHandler=P0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?z0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...e),this._logHandler(this,Nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...e),this._logHandler(this,Nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...e),this._logHandler(this,Nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...e),this._logHandler(this,Nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...e),this._logHandler(this,Nt.ERROR,...e)}}const k0=(s,e)=>e.some(i=>s instanceof i);let Up,xp;function q0(){return Up||(Up=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H0(){return xp||(xp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ky=new WeakMap,Af=new WeakMap,Xy=new WeakMap,mf=new WeakMap,Qf=new WeakMap;function j0(s){const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(_r(s.result)),u()},d=()=>{a(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Ky.set(i,s)}).catch(()=>{}),Qf.set(e,s),e}function G0(s){if(Af.has(s))return;const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Af.set(s,e)}let Sf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Af.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Xy.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return _r(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Q0(s){Sf=s(Sf)}function F0(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(gf(this),e,...i);return Xy.set(a,e.sort?e.sort():[e]),_r(a)}:H0().includes(s)?function(...e){return s.apply(gf(this),e),_r(Ky.get(this))}:function(...e){return _r(s.apply(gf(this),e))}}function Y0(s){return typeof s=="function"?F0(s):(s instanceof IDBTransaction&&G0(s),k0(s,q0())?new Proxy(s,Sf):s)}function _r(s){if(s instanceof IDBRequest)return j0(s);if(mf.has(s))return mf.get(s);const e=Y0(s);return e!==s&&(mf.set(s,e),Qf.set(e,s)),e}const gf=s=>Qf.get(s);function K0(s,e,{blocked:i,upgrade:a,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),y=_r(d);return a&&d.addEventListener("upgradeneeded",_=>{a(_r(d.result),_.oldVersion,_.newVersion,_r(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),y.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),y}const X0=["get","getKey","getAll","getAllKeys","count"],Z0=["put","add","delete","clear"],pf=new Map;function zp(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(pf.get(e))return pf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=Z0.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||X0.includes(i)))return;const h=async function(d,...y){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(y.shift())),(await Promise.all([v[i](...y),u&&_.done]))[0]};return pf.set(e,h),h}Q0(s=>({...s,get:(e,i,a)=>zp(e,i)||s.get(e,i,a),has:(e,i)=>!!zp(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(J0(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function J0(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bf="@firebase/app",Lp="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new Yy("@firebase/app"),W0="@firebase/app-compat",tT="@firebase/analytics-compat",eT="@firebase/analytics",nT="@firebase/app-check-compat",iT="@firebase/app-check",rT="@firebase/auth",aT="@firebase/auth-compat",sT="@firebase/database",lT="@firebase/data-connect",uT="@firebase/database-compat",oT="@firebase/functions",cT="@firebase/functions-compat",hT="@firebase/installations",fT="@firebase/installations-compat",dT="@firebase/messaging",mT="@firebase/messaging-compat",gT="@firebase/performance",pT="@firebase/performance-compat",yT="@firebase/remote-config",_T="@firebase/remote-config-compat",vT="@firebase/storage",ET="@firebase/storage-compat",TT="@firebase/firestore",AT="@firebase/vertexai",ST="@firebase/firestore-compat",bT="firebase",RT="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf="[DEFAULT]",wT={[bf]:"fire-core",[W0]:"fire-core-compat",[eT]:"fire-analytics",[tT]:"fire-analytics-compat",[iT]:"fire-app-check",[nT]:"fire-app-check-compat",[rT]:"fire-auth",[aT]:"fire-auth-compat",[sT]:"fire-rtdb",[lT]:"fire-data-connect",[uT]:"fire-rtdb-compat",[oT]:"fire-fn",[cT]:"fire-fn-compat",[hT]:"fire-iid",[fT]:"fire-iid-compat",[dT]:"fire-fcm",[mT]:"fire-fcm-compat",[gT]:"fire-perf",[pT]:"fire-perf-compat",[yT]:"fire-rc",[_T]:"fire-rc-compat",[vT]:"fire-gcs",[ET]:"fire-gcs-compat",[TT]:"fire-fst",[ST]:"fire-fst-compat",[AT]:"fire-vertex","fire-js":"fire-js",[bT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new Map,DT=new Map,wf=new Map;function Bp(s,e){try{s.container.addComponent(e)}catch(i){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function xo(s){const e=s.name;if(wf.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;wf.set(e,s);for(const i of Uo.values())Bp(i,s);for(const i of DT.values())Bp(i,s);return!0}function CT(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function VT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new Fy("app","Firebase",OT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new kl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=RT;function Zy(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Rf,automaticDataCollectionEnabled:!1},e),u=a.name;if(typeof u!="string"||!u)throw vr.create("bad-app-name",{appName:String(u)});if(i||(i=Qy()),!i)throw vr.create("no-options");const h=Uo.get(u);if(h){if(No(i,h.options)&&No(a,h.config))return h;throw vr.create("duplicate-app",{appName:u})}const d=new x0(u);for(const _ of wf.values())d.addComponent(_);const y=new IT(i,a,d);return Uo.set(u,y),y}function NT(s=Rf){const e=Uo.get(s);if(!e&&s===Rf&&Qy())return Zy();if(!e)throw vr.create("no-app",{appName:s});return e}function os(s,e,i){var a;let u=(a=wT[s])!==null&&a!==void 0?a:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const y=[`Unable to register library "${u}" with version "${e}":`];h&&y.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&y.push("and"),d&&y.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(y.join(" "));return}xo(new kl(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="firebase-heartbeat-database",xT=1,ql="firebase-heartbeat-store";let yf=null;function $y(){return yf||(yf=K0(UT,xT,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ql)}catch(i){console.warn(i)}}}}).catch(s=>{throw vr.create("idb-open",{originalErrorMessage:s.message})})),yf}async function zT(s){try{const i=(await $y()).transaction(ql),a=await i.objectStore(ql).get(Jy(s));return await i.done,a}catch(e){if(e instanceof vs)Oi.warn(e.message);else{const i=vr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oi.warn(i.message)}}}async function Pp(s,e){try{const a=(await $y()).transaction(ql,"readwrite");await a.objectStore(ql).put(e,Jy(s)),await a.done}catch(i){if(i instanceof vs)Oi.warn(i.message);else{const a=vr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Oi.warn(a.message)}}}function Jy(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=1024,BT=30;class PT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new qT(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=kp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>BT){const d=HT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Oi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=kp(),{heartbeatsToSend:a,unsentEntries:u}=kT(this._heartbeatsCache.heartbeats),h=Mo(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Oi.warn(i),""}}}function kp(){return new Date().toISOString().substring(0,10)}function kT(s,e=LT){const i=[];let a=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),qp(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),qp(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class qT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return D0()?C0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await zT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Pp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Pp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function qp(s){return Mo(JSON.stringify({version:2,heartbeats:s})).length}function HT(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(s){xo(new kl("platform-logger",e=>new $0(e),"PRIVATE")),xo(new kl("heartbeat",e=>new PT(e),"PRIVATE")),os(bf,Lp,s),os(bf,Lp,"esm2017"),os("fire-js","")}jT("");var GT="firebase",QT="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os(GT,QT,"app");var Hp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Er,Wy;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,b){function A(){}A.prototype=b.prototype,N.D=b.prototype,N.prototype=new A,N.prototype.constructor=N,N.C=function(D,I,z){for(var w=Array(arguments.length-2),me=2;me<arguments.length;me++)w[me-2]=arguments[me];return b.prototype[I].apply(D,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(N,b,A){A||(A=0);var D=Array(16);if(typeof b=="string")for(var I=0;16>I;++I)D[I]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(I=0;16>I;++I)D[I]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=N.g[0],A=N.g[1],I=N.g[2];var z=N.g[3],w=b+(z^A&(I^z))+D[0]+3614090360&4294967295;b=A+(w<<7&4294967295|w>>>25),w=z+(I^b&(A^I))+D[1]+3905402710&4294967295,z=b+(w<<12&4294967295|w>>>20),w=I+(A^z&(b^A))+D[2]+606105819&4294967295,I=z+(w<<17&4294967295|w>>>15),w=A+(b^I&(z^b))+D[3]+3250441966&4294967295,A=I+(w<<22&4294967295|w>>>10),w=b+(z^A&(I^z))+D[4]+4118548399&4294967295,b=A+(w<<7&4294967295|w>>>25),w=z+(I^b&(A^I))+D[5]+1200080426&4294967295,z=b+(w<<12&4294967295|w>>>20),w=I+(A^z&(b^A))+D[6]+2821735955&4294967295,I=z+(w<<17&4294967295|w>>>15),w=A+(b^I&(z^b))+D[7]+4249261313&4294967295,A=I+(w<<22&4294967295|w>>>10),w=b+(z^A&(I^z))+D[8]+1770035416&4294967295,b=A+(w<<7&4294967295|w>>>25),w=z+(I^b&(A^I))+D[9]+2336552879&4294967295,z=b+(w<<12&4294967295|w>>>20),w=I+(A^z&(b^A))+D[10]+4294925233&4294967295,I=z+(w<<17&4294967295|w>>>15),w=A+(b^I&(z^b))+D[11]+2304563134&4294967295,A=I+(w<<22&4294967295|w>>>10),w=b+(z^A&(I^z))+D[12]+1804603682&4294967295,b=A+(w<<7&4294967295|w>>>25),w=z+(I^b&(A^I))+D[13]+4254626195&4294967295,z=b+(w<<12&4294967295|w>>>20),w=I+(A^z&(b^A))+D[14]+2792965006&4294967295,I=z+(w<<17&4294967295|w>>>15),w=A+(b^I&(z^b))+D[15]+1236535329&4294967295,A=I+(w<<22&4294967295|w>>>10),w=b+(I^z&(A^I))+D[1]+4129170786&4294967295,b=A+(w<<5&4294967295|w>>>27),w=z+(A^I&(b^A))+D[6]+3225465664&4294967295,z=b+(w<<9&4294967295|w>>>23),w=I+(b^A&(z^b))+D[11]+643717713&4294967295,I=z+(w<<14&4294967295|w>>>18),w=A+(z^b&(I^z))+D[0]+3921069994&4294967295,A=I+(w<<20&4294967295|w>>>12),w=b+(I^z&(A^I))+D[5]+3593408605&4294967295,b=A+(w<<5&4294967295|w>>>27),w=z+(A^I&(b^A))+D[10]+38016083&4294967295,z=b+(w<<9&4294967295|w>>>23),w=I+(b^A&(z^b))+D[15]+3634488961&4294967295,I=z+(w<<14&4294967295|w>>>18),w=A+(z^b&(I^z))+D[4]+3889429448&4294967295,A=I+(w<<20&4294967295|w>>>12),w=b+(I^z&(A^I))+D[9]+568446438&4294967295,b=A+(w<<5&4294967295|w>>>27),w=z+(A^I&(b^A))+D[14]+3275163606&4294967295,z=b+(w<<9&4294967295|w>>>23),w=I+(b^A&(z^b))+D[3]+4107603335&4294967295,I=z+(w<<14&4294967295|w>>>18),w=A+(z^b&(I^z))+D[8]+1163531501&4294967295,A=I+(w<<20&4294967295|w>>>12),w=b+(I^z&(A^I))+D[13]+2850285829&4294967295,b=A+(w<<5&4294967295|w>>>27),w=z+(A^I&(b^A))+D[2]+4243563512&4294967295,z=b+(w<<9&4294967295|w>>>23),w=I+(b^A&(z^b))+D[7]+1735328473&4294967295,I=z+(w<<14&4294967295|w>>>18),w=A+(z^b&(I^z))+D[12]+2368359562&4294967295,A=I+(w<<20&4294967295|w>>>12),w=b+(A^I^z)+D[5]+4294588738&4294967295,b=A+(w<<4&4294967295|w>>>28),w=z+(b^A^I)+D[8]+2272392833&4294967295,z=b+(w<<11&4294967295|w>>>21),w=I+(z^b^A)+D[11]+1839030562&4294967295,I=z+(w<<16&4294967295|w>>>16),w=A+(I^z^b)+D[14]+4259657740&4294967295,A=I+(w<<23&4294967295|w>>>9),w=b+(A^I^z)+D[1]+2763975236&4294967295,b=A+(w<<4&4294967295|w>>>28),w=z+(b^A^I)+D[4]+1272893353&4294967295,z=b+(w<<11&4294967295|w>>>21),w=I+(z^b^A)+D[7]+4139469664&4294967295,I=z+(w<<16&4294967295|w>>>16),w=A+(I^z^b)+D[10]+3200236656&4294967295,A=I+(w<<23&4294967295|w>>>9),w=b+(A^I^z)+D[13]+681279174&4294967295,b=A+(w<<4&4294967295|w>>>28),w=z+(b^A^I)+D[0]+3936430074&4294967295,z=b+(w<<11&4294967295|w>>>21),w=I+(z^b^A)+D[3]+3572445317&4294967295,I=z+(w<<16&4294967295|w>>>16),w=A+(I^z^b)+D[6]+76029189&4294967295,A=I+(w<<23&4294967295|w>>>9),w=b+(A^I^z)+D[9]+3654602809&4294967295,b=A+(w<<4&4294967295|w>>>28),w=z+(b^A^I)+D[12]+3873151461&4294967295,z=b+(w<<11&4294967295|w>>>21),w=I+(z^b^A)+D[15]+530742520&4294967295,I=z+(w<<16&4294967295|w>>>16),w=A+(I^z^b)+D[2]+3299628645&4294967295,A=I+(w<<23&4294967295|w>>>9),w=b+(I^(A|~z))+D[0]+4096336452&4294967295,b=A+(w<<6&4294967295|w>>>26),w=z+(A^(b|~I))+D[7]+1126891415&4294967295,z=b+(w<<10&4294967295|w>>>22),w=I+(b^(z|~A))+D[14]+2878612391&4294967295,I=z+(w<<15&4294967295|w>>>17),w=A+(z^(I|~b))+D[5]+4237533241&4294967295,A=I+(w<<21&4294967295|w>>>11),w=b+(I^(A|~z))+D[12]+1700485571&4294967295,b=A+(w<<6&4294967295|w>>>26),w=z+(A^(b|~I))+D[3]+2399980690&4294967295,z=b+(w<<10&4294967295|w>>>22),w=I+(b^(z|~A))+D[10]+4293915773&4294967295,I=z+(w<<15&4294967295|w>>>17),w=A+(z^(I|~b))+D[1]+2240044497&4294967295,A=I+(w<<21&4294967295|w>>>11),w=b+(I^(A|~z))+D[8]+1873313359&4294967295,b=A+(w<<6&4294967295|w>>>26),w=z+(A^(b|~I))+D[15]+4264355552&4294967295,z=b+(w<<10&4294967295|w>>>22),w=I+(b^(z|~A))+D[6]+2734768916&4294967295,I=z+(w<<15&4294967295|w>>>17),w=A+(z^(I|~b))+D[13]+1309151649&4294967295,A=I+(w<<21&4294967295|w>>>11),w=b+(I^(A|~z))+D[4]+4149444226&4294967295,b=A+(w<<6&4294967295|w>>>26),w=z+(A^(b|~I))+D[11]+3174756917&4294967295,z=b+(w<<10&4294967295|w>>>22),w=I+(b^(z|~A))+D[2]+718787259&4294967295,I=z+(w<<15&4294967295|w>>>17),w=A+(z^(I|~b))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+b&4294967295,N.g[1]=N.g[1]+(I+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+I&4294967295,N.g[3]=N.g[3]+z&4294967295}a.prototype.u=function(N,b){b===void 0&&(b=N.length);for(var A=b-this.blockSize,D=this.B,I=this.h,z=0;z<b;){if(I==0)for(;z<=A;)u(this,N,z),z+=this.blockSize;if(typeof N=="string"){for(;z<b;)if(D[I++]=N.charCodeAt(z++),I==this.blockSize){u(this,D),I=0;break}}else for(;z<b;)if(D[I++]=N[z++],I==this.blockSize){u(this,D),I=0;break}}this.h=I,this.o+=b},a.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var b=1;b<N.length-8;++b)N[b]=0;var A=8*this.o;for(b=N.length-8;b<N.length;++b)N[b]=A&255,A/=256;for(this.u(N),N=Array(16),b=A=0;4>b;++b)for(var D=0;32>D;D+=8)N[A++]=this.g[b]>>>D&255;return N};function h(N,b){var A=y;return Object.prototype.hasOwnProperty.call(A,N)?A[N]:A[N]=b(N)}function d(N,b){this.h=b;for(var A=[],D=!0,I=N.length-1;0<=I;I--){var z=N[I]|0;D&&z==b||(A[I]=z,D=!1)}this.g=A}var y={};function _(N){return-128<=N&&128>N?h(N,function(b){return new d([b|0],0>b?-1:0)}):new d([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return M;if(0>N)return Z(v(-N));for(var b=[],A=1,D=0;N>=A;D++)b[D]=N/A|0,A*=4294967296;return new d(b,0)}function R(N,b){if(N.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(N.charAt(0)=="-")return Z(R(N.substring(1),b));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(b,8)),D=M,I=0;I<N.length;I+=8){var z=Math.min(8,N.length-I),w=parseInt(N.substring(I,I+z),b);8>z?(z=v(Math.pow(b,z)),D=D.j(z).add(v(w))):(D=D.j(A),D=D.add(v(w)))}return D}var M=_(0),k=_(1),j=_(16777216);s=d.prototype,s.m=function(){if(nt(this))return-Z(this).m();for(var N=0,b=1,A=0;A<this.g.length;A++){var D=this.i(A);N+=(0<=D?D:4294967296+D)*b,b*=4294967296}return N},s.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if($(this))return"0";if(nt(this))return"-"+Z(this).toString(N);for(var b=v(Math.pow(N,6)),A=this,D="";;){var I=Qt(A,b).g;A=yt(A,I.j(b));var z=((0<A.g.length?A.g[0]:A.h)>>>0).toString(N);if(A=I,$(A))return z+D;for(;6>z.length;)z="0"+z;D=z+D}},s.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function $(N){if(N.h!=0)return!1;for(var b=0;b<N.g.length;b++)if(N.g[b]!=0)return!1;return!0}function nt(N){return N.h==-1}s.l=function(N){return N=yt(this,N),nt(N)?-1:$(N)?0:1};function Z(N){for(var b=N.g.length,A=[],D=0;D<b;D++)A[D]=~N.g[D];return new d(A,~N.h).add(k)}s.abs=function(){return nt(this)?Z(this):this},s.add=function(N){for(var b=Math.max(this.g.length,N.g.length),A=[],D=0,I=0;I<=b;I++){var z=D+(this.i(I)&65535)+(N.i(I)&65535),w=(z>>>16)+(this.i(I)>>>16)+(N.i(I)>>>16);D=w>>>16,z&=65535,w&=65535,A[I]=w<<16|z}return new d(A,A[A.length-1]&-2147483648?-1:0)};function yt(N,b){return N.add(Z(b))}s.j=function(N){if($(this)||$(N))return M;if(nt(this))return nt(N)?Z(this).j(Z(N)):Z(Z(this).j(N));if(nt(N))return Z(this.j(Z(N)));if(0>this.l(j)&&0>N.l(j))return v(this.m()*N.m());for(var b=this.g.length+N.g.length,A=[],D=0;D<2*b;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var I=0;I<N.g.length;I++){var z=this.i(D)>>>16,w=this.i(D)&65535,me=N.i(I)>>>16,ue=N.i(I)&65535;A[2*D+2*I]+=w*ue,dt(A,2*D+2*I),A[2*D+2*I+1]+=z*ue,dt(A,2*D+2*I+1),A[2*D+2*I+1]+=w*me,dt(A,2*D+2*I+1),A[2*D+2*I+2]+=z*me,dt(A,2*D+2*I+2)}for(D=0;D<b;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=b;D<2*b;D++)A[D]=0;return new d(A,0)};function dt(N,b){for(;(N[b]&65535)!=N[b];)N[b+1]+=N[b]>>>16,N[b]&=65535,b++}function Tt(N,b){this.g=N,this.h=b}function Qt(N,b){if($(b))throw Error("division by zero");if($(N))return new Tt(M,M);if(nt(N))return b=Qt(Z(N),b),new Tt(Z(b.g),Z(b.h));if(nt(b))return b=Qt(N,Z(b)),new Tt(Z(b.g),b.h);if(30<N.g.length){if(nt(N)||nt(b))throw Error("slowDivide_ only works with positive integers.");for(var A=k,D=b;0>=D.l(N);)A=_t(A),D=_t(D);var I=Ut(A,1),z=Ut(D,1);for(D=Ut(D,2),A=Ut(A,2);!$(D);){var w=z.add(D);0>=w.l(N)&&(I=I.add(A),z=w),D=Ut(D,1),A=Ut(A,1)}return b=yt(N,I.j(b)),new Tt(I,b)}for(I=M;0<=N.l(b);){for(A=Math.max(1,Math.floor(N.m()/b.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),z=v(A),w=z.j(b);nt(w)||0<w.l(N);)A-=D,z=v(A),w=z.j(b);$(z)&&(z=k),I=I.add(z),N=yt(N,w)}return new Tt(I,N)}s.A=function(N){return Qt(this,N).h},s.and=function(N){for(var b=Math.max(this.g.length,N.g.length),A=[],D=0;D<b;D++)A[D]=this.i(D)&N.i(D);return new d(A,this.h&N.h)},s.or=function(N){for(var b=Math.max(this.g.length,N.g.length),A=[],D=0;D<b;D++)A[D]=this.i(D)|N.i(D);return new d(A,this.h|N.h)},s.xor=function(N){for(var b=Math.max(this.g.length,N.g.length),A=[],D=0;D<b;D++)A[D]=this.i(D)^N.i(D);return new d(A,this.h^N.h)};function _t(N){for(var b=N.g.length+1,A=[],D=0;D<b;D++)A[D]=N.i(D)<<1|N.i(D-1)>>>31;return new d(A,N.h)}function Ut(N,b){var A=b>>5;b%=32;for(var D=N.g.length-A,I=[],z=0;z<D;z++)I[z]=0<b?N.i(z+A)>>>b|N.i(z+A+1)<<32-b:N.i(z+A);return new d(I,N.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Wy=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=R,Er=d}).apply(typeof Hp<"u"?Hp:typeof self<"u"?self:typeof window<"u"?window:{});var Eo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var t_,Il,e_,wo,Df,n_,i_,r_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,g){return o==Array.prototype||o==Object.prototype||(o[m]=g.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eo=="object"&&Eo];for(var m=0;m<o.length;++m){var g=o[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var g=a;o=o.split(".");for(var T=0;T<o.length-1;T++){var x=o[T];if(!(x in g))break t;g=g[x]}o=o[o.length-1],T=g[o],m=m(T),m!=T&&m!=null&&e(g,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var g=0,T=!1,x={next:function(){if(!T&&g<o.length){var P=g++;return{value:m(P,o[P]),done:!1}}return T=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},y=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function R(o,m,g){return o.call.apply(o.bind,arguments)}function M(o,m,g){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,T),o.apply(m,x)}}return function(){return o.apply(m,arguments)}}function k(o,m,g){return k=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?R:M,k.apply(null,arguments)}function j(o,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function $(o,m){function g(){}g.prototype=m.prototype,o.aa=m.prototype,o.prototype=new g,o.prototype.constructor=o,o.Qb=function(T,x,P){for(var X=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)X[Vt-2]=arguments[Vt];return m.prototype[x].apply(T,X)}}function nt(o){const m=o.length;if(0<m){const g=Array(m);for(let T=0;T<m;T++)g[T]=o[T];return g}return[]}function Z(o,m){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(_(T)){const x=o.length||0,P=T.length||0;o.length=x+P;for(let X=0;X<P;X++)o[x+X]=T[X]}else o.push(T)}}class yt{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function dt(o){return/^[\s\xa0]*$/.test(o)}function Tt(){var o=y.navigator;return o&&(o=o.userAgent)?o:""}function Qt(o){return Qt[" "](o),o}Qt[" "]=function(){};var _t=Tt().indexOf("Gecko")!=-1&&!(Tt().toLowerCase().indexOf("webkit")!=-1&&Tt().indexOf("Edge")==-1)&&!(Tt().indexOf("Trident")!=-1||Tt().indexOf("MSIE")!=-1)&&Tt().indexOf("Edge")==-1;function Ut(o,m,g){for(const T in o)m.call(g,o[T],T,o)}function N(o,m){for(const g in o)m.call(void 0,o[g],g,o)}function b(o){const m={};for(const g in o)m[g]=o[g];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(o,m){let g,T;for(let x=1;x<arguments.length;x++){T=arguments[x];for(g in T)o[g]=T[g];for(let P=0;P<A.length;P++)g=A[P],Object.prototype.hasOwnProperty.call(T,g)&&(o[g]=T[g])}}function I(o){var m=1;o=o.split(":");const g=[];for(;0<m&&o.length;)g.push(o.shift()),m--;return o.length&&g.push(o.join(":")),g}function z(o){y.setTimeout(()=>{throw o},0)}function w(){var o=Pt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class me{constructor(){this.h=this.g=null}add(m,g){const T=ue.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var ue=new yt(()=>new J,o=>o.reset());class J{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,lt=!1,Pt=new me,C=()=>{const o=y.Promise.resolve(void 0);ht=()=>{o.then(K)}};var K=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(g){z(g)}var m=ue;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}lt=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var tt=function(){if(!y.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const g=()=>{};y.addEventListener("test",g,m),y.removeEventListener("test",g,m)}catch{}return o}();function At(o,m){if(W.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var g=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(_t){t:{try{Qt(m.nodeName);var x=!0;break t}catch{}x=!1}x||(m=null)}}else g=="mouseover"?m=o.fromElement:g=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:vt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&At.aa.h.call(this)}}$(At,W);var vt={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),xt=0;function te(o,m,g,T,x){this.listener=o,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=x,this.key=++xt,this.da=this.fa=!1}function Ht(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Qe(o){this.src=o,this.g={},this.h=0}Qe.prototype.add=function(o,m,g,T,x){var P=o.toString();o=this.g[P],o||(o=this.g[P]=[],this.h++);var X=on(o,m,T,x);return-1<X?(m=o[X],g||(m.fa=!1)):(m=new te(m,this.src,P,!!T,x),m.fa=g,o.push(m)),m};function ni(o,m){var g=m.type;if(g in o.g){var T=o.g[g],x=Array.prototype.indexOf.call(T,m,void 0),P;(P=0<=x)&&Array.prototype.splice.call(T,x,1),P&&(Ht(m),o.g[g].length==0&&(delete o.g[g],o.h--))}}function on(o,m,g,T){for(var x=0;x<o.length;++x){var P=o[x];if(!P.da&&P.listener==m&&P.capture==!!g&&P.ha==T)return x}return-1}var Ni="closure_lm_"+(1e6*Math.random()|0),Ui={};function ii(o,m,g,T,x){if(Array.isArray(m)){for(var P=0;P<m.length;P++)ii(o,m[P],g,T,x);return null}return g=Jl(g),o&&o[oe]?o.K(m,g,v(T)?!!T.capture:!1,x):bs(o,m,g,!1,T,x)}function bs(o,m,g,T,x,P){if(!m)throw Error("Invalid event type");var X=v(x)?!!x.capture:!!x,Vt=Rs(o);if(Vt||(o[Ni]=Vt=new Qe(o)),g=Vt.add(m,g,T,X,P),g.proxy)return g;if(T=ga(),g.proxy=T,T.src=o,T.listener=g,o.addEventListener)tt||(x=X),x===void 0&&(x=!1),o.addEventListener(m.toString(),T,x);else if(o.attachEvent)o.attachEvent(ya(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ga(){function o(g){return m.call(o.src,o.listener,g)}const m=oc;return o}function pa(o,m,g,T,x){if(Array.isArray(m))for(var P=0;P<m.length;P++)pa(o,m[P],g,T,x);else T=v(T)?!!T.capture:!!T,g=Jl(g),o&&o[oe]?(o=o.i,m=String(m).toString(),m in o.g&&(P=o.g[m],g=on(P,g,T,x),-1<g&&(Ht(P[g]),Array.prototype.splice.call(P,g,1),P.length==0&&(delete o.g[m],o.h--)))):o&&(o=Rs(o))&&(m=o.g[m.toString()],o=-1,m&&(o=on(m,g,T,x)),(g=-1<o?m[o]:null)&&Cr(g))}function Cr(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[oe])ni(m.i,o);else{var g=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(g,T,o.capture):m.detachEvent?m.detachEvent(ya(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=Rs(m))?(ni(g,o),g.h==0&&(g.src=null,m[Ni]=null)):Ht(o)}}}function ya(o){return o in Ui?Ui[o]:Ui[o]="on"+o}function oc(o,m){if(o.da)o=!0;else{m=new At(m,this);var g=o.listener,T=o.ha||o.src;o.fa&&Cr(o),o=g.call(T,m)}return o}function Rs(o){return o=o[Ni],o instanceof Qe?o:null}var $e="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jl(o){return typeof o=="function"?o:(o[$e]||(o[$e]=function(m){return o.handleEvent(m)}),o[$e])}function ge(){at.call(this),this.i=new Qe(this),this.M=this,this.F=null}$(ge,at),ge.prototype[oe]=!0,ge.prototype.removeEventListener=function(o,m,g,T){pa(this,o,m,g,T)};function be(o,m){var g,T=o.F;if(T)for(g=[];T;T=T.F)g.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new W(m,o);else if(m instanceof W)m.target=m.target||o;else{var x=m;m=new W(T,o),D(m,x)}if(x=!0,g)for(var P=g.length-1;0<=P;P--){var X=m.g=g[P];x=ri(X,T,!0,m)&&x}if(X=m.g=o,x=ri(X,T,!0,m)&&x,x=ri(X,T,!1,m)&&x,g)for(P=0;P<g.length;P++)X=m.g=g[P],x=ri(X,T,!1,m)&&x}ge.prototype.N=function(){if(ge.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var g=o.g[m],T=0;T<g.length;T++)Ht(g[T]);delete o.g[m],o.h--}}this.F=null},ge.prototype.K=function(o,m,g,T){return this.i.add(String(o),m,!1,g,T)},ge.prototype.L=function(o,m,g,T){return this.i.add(String(o),m,!0,g,T)};function ri(o,m,g,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var x=!0,P=0;P<m.length;++P){var X=m[P];if(X&&!X.da&&X.capture==g){var Vt=X.listener,ye=X.ha||X.src;X.fa&&ni(o.i,X),x=Vt.call(ye,T)!==!1&&x}}return x&&!T.defaultPrevented}function Wl(o,m,g){if(typeof o=="function")g&&(o=k(o,g));else if(o&&typeof o.handleEvent=="function")o=k(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:y.setTimeout(o,m||0)}function ws(o){o.g=Wl(()=>{o.g=null,o.i&&(o.i=!1,ws(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class cc extends at{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ws(this)}N(){super.N(),this.g&&(y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(o){at.call(this),this.h=o,this.g={}}$(Vr,at);var xi=[];function Pe(o){Ut(o.g,function(m,g){this.g.hasOwnProperty(g)&&Cr(m)},o),o.g={}}Vr.prototype.N=function(){Vr.aa.N.call(this),Pe(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ds=y.JSON.stringify,xn=y.JSON.parse,Fe=class{stringify(o){return y.JSON.stringify(o,void 0)}parse(o){return y.JSON.parse(o,void 0)}};function Cs(){}Cs.prototype.h=null;function tu(o){return o.h||(o.h=o.i())}function eu(){}var zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zi(){W.call(this,"d")}$(zi,W);function Cn(){W.call(this,"c")}$(Cn,W);var cn={},Li=null;function _a(){return Li=Li||new ge}cn.La="serverreachability";function Vs(o){W.call(this,cn.La,o)}$(Vs,W);function Bi(o){const m=_a();be(m,new Vs(m))}cn.STAT_EVENT="statevent";function va(o,m){W.call(this,cn.STAT_EVENT,o),this.stat=m}$(va,W);function ae(o){const m=_a();be(m,new va(m,o))}cn.Ma="timingevent";function nu(o,m){W.call(this,cn.Ma,o),this.size=m}$(nu,W);function Pi(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return y.setTimeout(function(){o()},m)}function ki(){this.g=!0}ki.prototype.xa=function(){this.g=!1};function iu(o,m,g,T,x,P){o.info(function(){if(o.g)if(P)for(var X="",Vt=P.split("&"),ye=0;ye<Vt.length;ye++){var Ot=Vt[ye].split("=");if(1<Ot.length){var De=Ot[0];Ot=Ot[1];var _e=De.split("_");X=2<=_e.length&&_e[1]=="type"?X+(De+"="+Ot+"&"):X+(De+"=redacted&")}}else X=null;else X=P;return"XMLHTTP REQ ("+T+") [attempt "+x+"]: "+m+`
`+g+`
`+X})}function ru(o,m,g,T,x,P,X){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+x+"]: "+m+`
`+g+`
`+P+" "+X})}function qi(o,m,g,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Re(o,g)+(T?" "+T:"")})}function Ln(o,m){o.info(function(){return"TIMEOUT: "+m})}ki.prototype.info=function(){};function Re(o,m){if(!o.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(o=0;o<g.length;o++)if(Array.isArray(g[o])){var T=g[o];if(!(2>T.length)){var x=T[1];if(Array.isArray(x)&&!(1>x.length)){var P=x[0];if(P!="noop"&&P!="stop"&&P!="close")for(var X=1;X<x.length;X++)x[X]=""}}}}return Ds(g)}catch{return m}}var pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Or;function Ea(){}$(Ea,Cs),Ea.prototype.g=function(){return new XMLHttpRequest},Ea.prototype.i=function(){return{}},Or=new Ea;function Bn(o,m,g,T){this.j=o,this.i=m,this.l=g,this.R=T||1,this.U=new Vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Os}function Os(){this.i=null,this.g="",this.h=!1}var Hi={},Ir={};function Vn(o,m,g){o.L=1,o.v=Ur(ee(m)),o.m=g,o.P=!0,si(o,null)}function si(o,m){o.F=Date.now(),Zt(o),o.A=ee(o.v);var g=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),oi(g.i,"t",T),o.C=0,g=o.j.J,o.h=new Os,o.g=_u(o.j,g?m:null,!o.m),0<o.O&&(o.M=new cc(k(o.Y,o,o.g),o.O)),m=o.U,g=o.g,T=o.ca;var x="readystatechange";Array.isArray(x)||(x&&(xi[0]=x.toString()),x=xi);for(var P=0;P<x.length;P++){var X=ii(g,x[P],T||m.handleEvent,!1,m.h||m);if(!X)break;m.g[X.key]=X}m=o.H?b(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Bi(),iu(o.i,o.u,o.A,o.l,o.R,o.m)}Bn.prototype.ca=function(o){o=o.target;const m=this.M;m&&gn(o)==3?m.j():this.Y(o)},Bn.prototype.Y=function(o){try{if(o==this.g)t:{const _e=gn(this.g);var m=this.g.Ba();const di=this.g.Z();if(!(3>_e)&&(_e!=3||this.g&&(this.h.h||this.g.oa()||cu(this.g)))){this.J||_e!=4||m==7||(m==8||0>=di?Bi(3):Bi(2)),Ta(this);var g=this.g.Z();this.X=g;e:if(ji(this)){var T=cu(this.g);o="";var x=T.length,P=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Je(this),en(this);var X="";break e}this.h.i=new y.TextDecoder}for(m=0;m<x;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(P&&m==x-1)});T.length=0,this.h.g+=o,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=g==200,ru(this.i,this.u,this.A,this.l,this.R,_e,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,ye=this.g;if((Vt=ye.g?ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(Vt)){var Ot=Vt;break e}}Ot=null}if(g=Ot)qi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nn(this,g);else{this.o=!1,this.s=3,ae(12),Je(this),en(this);break t}}if(this.P){g=!0;let Me;for(;!this.J&&this.C<X.length;)if(Me=Gi(this,X),Me==Ir){_e==4&&(this.s=4,ae(14),g=!1),qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==Hi){this.s=4,ae(15),qi(this.i,this.l,X,"[Invalid Chunk]"),g=!1;break}else qi(this.i,this.l,Me,null),nn(this,Me);if(ji(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_e!=4||X.length!=0||this.h.h||(this.s=1,ae(16),g=!1),this.o=this.o&&g,!g)qi(this.i,this.l,X,"[Invalid Chunked Response]"),Je(this),en(this);else if(0<X.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),qr(De),De.M=!0,ae(11))}}else qi(this.i,this.l,X,null),nn(this,X);_e==4&&Je(this),this.o&&!this.J&&(_e==4?gu(this.j,this):(this.o=!1,Zt(this)))}else pc(this.g),g==400&&0<X.indexOf("Unknown SID")?(this.s=3,ae(12)):(this.s=0,ae(13)),Je(this),en(this)}}}catch{}finally{}};function ji(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Gi(o,m){var g=o.C,T=m.indexOf(`
`,g);return T==-1?Ir:(g=Number(m.substring(g,T)),isNaN(g)?Hi:(T+=1,T+g>m.length?Ir:(m=m.slice(T,T+g),o.C=T+g,m)))}Bn.prototype.cancel=function(){this.J=!0,Je(this)};function Zt(o){o.S=Date.now()+o.I,Is(o,o.I)}function Is(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Pi(k(o.ba,o),m)}function Ta(o){o.B&&(y.clearTimeout(o.B),o.B=null)}Bn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Ln(this.i,this.A),this.L!=2&&(Bi(),ae(17)),Je(this),this.s=2,en(this)):Is(this,this.S-o)};function en(o){o.j.G==0||o.J||gu(o.j,o)}function Je(o){Ta(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,Pe(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function nn(o,m){try{var g=o.j;if(g.G!=0&&(g.g==o||Qi(g.h,o))){if(!o.K&&Qi(g.h,o)&&g.G==3){try{var T=g.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var x=T;if(x[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<o.F)Ia(g),Va(g);else break t;Hs(g),ae(18)}}else g.za=x[1],0<g.za-g.T&&37500>x[2]&&g.F&&g.v==0&&!g.C&&(g.C=Pi(k(g.Za,g),6e3));if(1>=au(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else fi(g,11)}else if((o.K||g.g==o)&&Ia(g),!dt(m))for(x=g.Da.g.parse(m),m=0;m<x.length;m++){let Ot=x[m];if(g.T=Ot[0],Ot=Ot[1],g.G==2)if(Ot[0]=="c"){g.K=Ot[1],g.ia=Ot[2];const De=Ot[3];De!=null&&(g.la=De,g.j.info("VER="+g.la));const _e=Ot[4];_e!=null&&(g.Aa=_e,g.j.info("SVER="+g.Aa));const di=Ot[5];di!=null&&typeof di=="number"&&0<di&&(T=1.5*di,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Me=o.g;if(Me){const Qn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var P=T.h;P.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(Fi(P,P.h),P.h=null))}if(T.D){const Gs=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;Gs&&(T.ya=Gs,zt(T.I,T.D,Gs))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-o.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var X=o;if(T.qa=yu(T,T.J?T.ia:null,T.W),X.K){hn(T.h,X);var Vt=X,ye=T.L;ye&&(Vt.I=ye),Vt.B&&(Ta(Vt),Zt(Vt)),T.g=X}else du(T);0<g.i.length&&Oa(g)}else Ot[0]!="stop"&&Ot[0]!="close"||fi(g,7);else g.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?fi(g,7):ks(g):Ot[0]!="noop"&&g.l&&g.l.ta(Ot),g.v=0)}}Bi(4)}catch{}}var hc=class{constructor(o,m){this.g=o,this.map=m}};function Ms(o){this.l=o||10,y.PerformanceNavigationTiming?(o=y.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(y.chrome&&y.chrome.loadTimes&&y.chrome.loadTimes()&&y.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ns(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function au(o){return o.h?1:o.g?o.g.size:0}function Qi(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Fi(o,m){o.g?o.g.add(m):o.h=m}function hn(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Ms.prototype.cancel=function(){if(this.i=Ye(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ye(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const g of o.g.values())m=m.concat(g.D);return m}return nt(o.i)}function su(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],g=o.length,T=0;T<g;T++)m.push(o[T]);return m}m=[],g=0;for(T in o)m[g++]=o[T];return m}function fc(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var g=0;g<o;g++)m.push(g);return m}m=[],g=0;for(const T in o)m[g++]=T;return m}}}function Mr(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var g=fc(o),T=su(o),x=T.length,P=0;P<x;P++)m.call(void 0,T[P],g&&g[P],o)}var Us=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Aa(o,m){if(o){o=o.split("&");for(var g=0;g<o.length;g++){var T=o[g].indexOf("="),x=null;if(0<=T){var P=o[g].substring(0,T);x=o[g].substring(T+1)}else P=o[g];m(P,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function li(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof li){this.h=o.h,Yi(this,o.j),this.o=o.o,this.g=o.g,Nr(this,o.s),this.l=o.l;var m=o.i,g=new Pn;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),Sa(this,g),this.m=o.m}else o&&(m=String(o).match(Us))?(this.h=!1,Yi(this,m[1]||"",!0),this.o=Ki(m[2]||""),this.g=Ki(m[3]||"",!0),Nr(this,m[4]),this.l=Ki(m[5]||"",!0),Sa(this,m[6]||"",!0),this.m=Ki(m[7]||"")):(this.h=!1,this.i=new Pn(null,this.h))}li.prototype.toString=function(){var o=[],m=this.j;m&&o.push(fn(m,xs,!0),":");var g=this.g;return(g||m=="file")&&(o.push("//"),(m=this.o)&&o.push(fn(m,xs,!0),"@"),o.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&o.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&o.push("/"),o.push(fn(g,g.charAt(0)=="/"?zs:lu,!0))),(g=this.i.toString())&&o.push("?",g),(g=this.m)&&o.push("#",fn(g,gc)),o.join("")};function ee(o){return new li(o)}function Yi(o,m,g){o.j=g?Ki(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Nr(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function Sa(o,m,g){m instanceof Pn?(o.i=m,Ls(o.i,o.h)):(g||(m=fn(m,mc)),o.i=new Pn(m,o.h))}function zt(o,m,g){o.i.set(m,g)}function Ur(o){return zt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Ki(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function fn(o,m,g){return typeof o=="string"?(o=encodeURI(o).replace(m,dc),g&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function dc(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var xs=/[#\/\?@]/g,lu=/[#\?:]/g,zs=/[#\?]/g,mc=/[#\?@]/g,gc=/#/g;function Pn(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function dn(o){o.g||(o.g=new Map,o.h=0,o.i&&Aa(o.i,function(m,g){o.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}s=Pn.prototype,s.add=function(o,m){dn(this),this.i=null,o=ci(this,o);var g=this.g.get(o);return g||this.g.set(o,g=[]),g.push(m),this.h+=1,this};function ba(o,m){dn(o),m=ci(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function ui(o,m){return dn(o),m=ci(o,m),o.g.has(m)}s.forEach=function(o,m){dn(this),this.g.forEach(function(g,T){g.forEach(function(x){o.call(m,x,T,this)},this)},this)},s.na=function(){dn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let T=0;T<m.length;T++){const x=o[T];for(let P=0;P<x.length;P++)g.push(m[T])}return g},s.V=function(o){dn(this);let m=[];if(typeof o=="string")ui(this,o)&&(m=m.concat(this.g.get(ci(this,o))));else{o=Array.from(this.g.values());for(let g=0;g<o.length;g++)m=m.concat(o[g])}return m},s.set=function(o,m){return dn(this),this.i=null,o=ci(this,o),ui(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function oi(o,m,g){ba(o,m),0<g.length&&(o.i=null,o.g.set(ci(o,m),nt(g)),o.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var T=m[g];const P=encodeURIComponent(String(T)),X=this.V(T);for(T=0;T<X.length;T++){var x=P;X[T]!==""&&(x+="="+encodeURIComponent(String(X[T]))),o.push(x)}}return this.i=o.join("&")};function ci(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Ls(o,m){m&&!o.j&&(dn(o),o.i=null,o.g.forEach(function(g,T){var x=T.toLowerCase();T!=x&&(ba(this,T),oi(this,x,g))},o)),o.j=m}function uu(o,m){const g=new ki;if(y.Image){const T=new Image;T.onload=j(mn,g,"TestLoadImage: loaded",!0,m,T),T.onerror=j(mn,g,"TestLoadImage: error",!1,m,T),T.onabort=j(mn,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(mn,g,"TestLoadImage: timeout",!1,m,T),y.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function xr(o,m){const g=new ki,T=new AbortController,x=setTimeout(()=>{T.abort(),mn(g,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(P=>{clearTimeout(x),P.ok?mn(g,"TestPingServer: ok",!0,m):mn(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(x),mn(g,"TestPingServer: error",!1,m)})}function mn(o,m,g,T,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),T(g)}catch{}}function zr(){this.g=new Fe}function kn(o,m,g){const T=g||"";try{Mr(o,function(x,P){let X=x;v(x)&&(X=Ds(x)),m.push(T+P+"="+encodeURIComponent(X))})}catch(x){throw m.push(T+"type="+encodeURIComponent("_badmap")),x}}function Xi(o){this.l=o.Ub||null,this.j=o.eb||!1}$(Xi,Cs),Xi.prototype.g=function(){return new hi(this.l,this.j)},Xi.prototype.i=function(o){return function(){return o}}({});function hi(o,m){ge.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(hi,ge),s=hi.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Hn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||y).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof y.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bs(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bs(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?qn(this):Hn(this),this.readyState==3&&Bs(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,qn(this))},s.Qa=function(o){this.g&&(this.response=o,qn(this))},s.ga=function(){this.g&&qn(this)};function qn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Hn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,o.push(g[0]+": "+g[1]),g=m.next();return o.join(`\r
`)};function Hn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Ps(o){let m="";return Ut(o,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function we(o,m,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=Ps(g),typeof o=="string"?g!=null&&encodeURIComponent(String(g)):zt(o,m,g))}function kt(o){ge.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(kt,ge);var Ra=/^https?$/i,Lr=["POST","PUT"];s=kt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Or.g(),this.v=this.o?tu(this.o):tu(Or),this.g.onreadystatechange=k(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(P){ou(this,P);return}if(o=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var x in T)g.set(x,T[x]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const P of T.keys())g.set(P,T.get(P));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(P=>P.toLowerCase()=="content-type"),x=y.FormData&&o instanceof y.FormData,!(0<=Array.prototype.indexOf.call(Lr,m,void 0))||T||x||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,X]of g)this.g.setRequestHeader(P,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Br(this),this.u=!0,this.g.send(o),this.u=!1}catch(P){ou(this,P)}};function ou(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,wa(o),jn(o)}function wa(o){o.A||(o.A=!0,be(o,"complete"),be(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,be(this,"complete"),be(this,"abort"),jn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jn(this,!0)),kt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Da(this):this.bb())},s.bb=function(){Da(this)};function Da(o){if(o.h&&typeof d<"u"&&(!o.v[1]||gn(o)!=4||o.Z()!=2)){if(o.u&&gn(o)==4)Wl(o.Ea,0,o);else if(be(o,"readystatechange"),gn(o)==4){o.h=!1;try{const X=o.Z();t:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var T;if(T=X===0){var x=String(o.D).match(Us)[1]||null;!x&&y.self&&y.self.location&&(x=y.self.location.protocol.slice(0,-1)),T=!Ra.test(x?x.toLowerCase():"")}g=T}if(g)be(o,"complete"),be(o,"success");else{o.m=6;try{var P=2<gn(o)?o.g.statusText:""}catch{P=""}o.l=P+" ["+o.Z()+"]",wa(o)}}finally{jn(o)}}}}function jn(o,m){if(o.g){Br(o);const g=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||be(o,"ready");try{g.onreadystatechange=T}catch{}}}function Br(o){o.I&&(y.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function gn(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),xn(m)}};function cu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function pc(o){const m={};o=(o.g&&2<=gn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(dt(o[T]))continue;var g=I(o[T]);const x=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const P=m[x]||[];m[x]=P,P.push(g)}N(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pr(o,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[o]||m}function Ca(o){this.Aa=0,this.i=[],this.j=new ki,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pr("baseRetryDelayMs",5e3,o),this.cb=Pr("retryDelaySeedMs",1e4,o),this.Wa=Pr("forwardChannelMaxRetries",2,o),this.wa=Pr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Ms(o&&o.concurrentRequestLimit),this.Da=new zr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Ca.prototype,s.la=8,s.G=1,s.connect=function(o,m,g,T){ae(0),this.W=o,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=yu(this,null,this.W),Oa(this)};function ks(o){if(hu(o),o.G==3){var m=o.U++,g=ee(o.I);if(zt(g,"SID",o.K),zt(g,"RID",m),zt(g,"TYPE","terminate"),kr(o,g),m=new Bn(o,o.j,m),m.L=2,m.v=Ur(ee(g)),g=!1,y.navigator&&y.navigator.sendBeacon)try{g=y.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&y.Image&&(new Image().src=m.v,g=!0),g||(m.g=_u(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Zt(m)}pu(o)}function Va(o){o.g&&(qr(o),o.g.cancel(),o.g=null)}function hu(o){Va(o),o.u&&(y.clearTimeout(o.u),o.u=null),Ia(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&y.clearTimeout(o.s),o.s=null)}function Oa(o){if(!Ns(o.h)&&!o.s){o.s=!0;var m=o.Ga;ht||C(),lt||(ht(),lt=!0),Pt.add(m,o),o.B=0}}function yc(o,m){return au(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Pi(k(o.Ga,o,m),js(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const x=new Bn(this,this.j,o);let P=this.o;if(this.S&&(P?(P=b(P),D(P,this.S)):P=this.S),this.m!==null||this.O||(x.H=P,P=null),this.P)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=fu(this,x,m),g=ee(this.I),zt(g,"RID",o),zt(g,"CVER",22),this.D&&zt(g,"X-HTTP-Session-Id",this.D),kr(this,g),P&&(this.O?m="headers="+encodeURIComponent(String(Ps(P)))+"&"+m:this.m&&we(g,this.m,P)),Fi(this.h,x),this.Ua&&zt(g,"TYPE","init"),this.P?(zt(g,"$req",m),zt(g,"SID","null"),x.T=!0,Vn(x,g,null)):Vn(x,g,m),this.G=2}}else this.G==3&&(o?qs(this,o):this.i.length==0||Ns(this.h)||qs(this))};function qs(o,m){var g;m?g=m.l:g=o.U++;const T=ee(o.I);zt(T,"SID",o.K),zt(T,"RID",g),zt(T,"AID",o.T),kr(o,T),o.m&&o.o&&we(T,o.m,o.o),g=new Bn(o,o.j,g,o.B+1),o.m===null&&(g.H=o.o),m&&(o.i=m.D.concat(o.i)),m=fu(o,g,1e3),g.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Fi(o.h,g),Vn(g,T,m)}function kr(o,m){o.H&&Ut(o.H,function(g,T){zt(m,T,g)}),o.l&&Mr({},function(g,T){zt(m,T,g)})}function fu(o,m,g){g=Math.min(o.i.length,g);var T=o.l?k(o.l.Na,o.l,o):null;t:{var x=o.i;let P=-1;for(;;){const X=["count="+g];P==-1?0<g?(P=x[0].g,X.push("ofs="+P)):P=0:X.push("ofs="+P);let Vt=!0;for(let ye=0;ye<g;ye++){let Ot=x[ye].g;const De=x[ye].map;if(Ot-=P,0>Ot)P=Math.max(0,x[ye].g-100),Vt=!1;else try{kn(De,X,"req"+Ot+"_")}catch{T&&T(De)}}if(Vt){T=X.join("&");break t}}}return o=o.i.splice(0,g),m.D=o,T}function du(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;ht||C(),lt||(ht(),lt=!0),Pt.add(m,o),o.v=0}}function Hs(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Pi(k(o.Fa,o),js(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,mu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Pi(k(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ae(10),Va(this),mu(this))};function qr(o){o.A!=null&&(y.clearTimeout(o.A),o.A=null)}function mu(o){o.g=new Bn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=ee(o.qa);zt(m,"RID","rpc"),zt(m,"SID",o.K),zt(m,"AID",o.T),zt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&zt(m,"TO",o.ja),zt(m,"TYPE","xmlhttp"),kr(o,m),o.m&&o.o&&we(m,o.m,o.o),o.L&&(o.g.I=o.L);var g=o.g;o=o.ia,g.L=1,g.v=Ur(ee(m)),g.m=null,g.P=!0,si(g,o)}s.Za=function(){this.C!=null&&(this.C=null,Va(this),Hs(this),ae(19))};function Ia(o){o.C!=null&&(y.clearTimeout(o.C),o.C=null)}function gu(o,m){var g=null;if(o.g==m){Ia(o),qr(o),o.g=null;var T=2}else if(Qi(o.h,m))g=m.D,hn(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var x=o.B;T=_a(),be(T,new nu(T,g)),Oa(o)}else du(o);else if(x=m.s,x==3||x==0&&0<m.X||!(T==1&&yc(o,m)||T==2&&Hs(o)))switch(g&&0<g.length&&(m=o.h,m.i=m.i.concat(g)),x){case 1:fi(o,5);break;case 4:fi(o,10);break;case 3:fi(o,6);break;default:fi(o,2)}}}function js(o,m){let g=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(g*=2),g*m}function fi(o,m){if(o.j.info("Error code "+m),m==2){var g=k(o.fb,o),T=o.Xa;const x=!T;T=new li(T||"//www.google.com/images/cleardot.gif"),y.location&&y.location.protocol=="http"||Yi(T,"https"),Ur(T),x?uu(T.toString(),g):xr(T.toString(),g)}else ae(2);o.G=0,o.l&&o.l.sa(m),pu(o),hu(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))};function pu(o){if(o.G=0,o.ka=[],o.l){const m=Ye(o.h);(m.length!=0||o.i.length!=0)&&(Z(o.ka,m),Z(o.ka,o.i),o.h.i.length=0,nt(o.i),o.i.length=0),o.l.ra()}}function yu(o,m,g){var T=g instanceof li?ee(g):new li(g);if(T.g!="")m&&(T.g=m+"."+T.g),Nr(T,T.s);else{var x=y.location;T=x.protocol,m=m?m+"."+x.hostname:x.hostname,x=+x.port;var P=new li(null);T&&Yi(P,T),m&&(P.g=m),x&&Nr(P,x),g&&(P.l=g),T=P}return g=o.D,m=o.ya,g&&m&&zt(T,g,m),zt(T,"VER",o.la),kr(o,T),T}function _u(o,m,g){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new kt(new Xi({eb:g})):new kt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}s=vu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ma(){}Ma.prototype.g=function(o,m){return new Ke(o,m)};function Ke(o,m){ge.call(this),this.g=new Ca(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!dt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!dt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Gn(this)}$(Ke,ge),Ke.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ke.prototype.close=function(){ks(this.g)},Ke.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var g={};g.__data__=o,o=g}else this.u&&(g={},g.__data__=Ds(o),o=g);m.i.push(new hc(m.Ya++,o)),m.G==3&&Oa(m)},Ke.prototype.N=function(){this.g.l=null,delete this.j,ks(this.g),delete this.g,Ke.aa.N.call(this)};function Eu(o){zi.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const g in m){o=g;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}$(Eu,zi);function Tu(){Cn.call(this),this.status=1}$(Tu,Cn);function Gn(o){this.g=o}$(Gn,vu),Gn.prototype.ua=function(){be(this.g,"a")},Gn.prototype.ta=function(o){be(this.g,new Eu(o))},Gn.prototype.sa=function(o){be(this.g,new Tu)},Gn.prototype.ra=function(){be(this.g,"b")},Ma.prototype.createWebChannel=Ma.prototype.g,Ke.prototype.send=Ke.prototype.o,Ke.prototype.open=Ke.prototype.m,Ke.prototype.close=Ke.prototype.close,r_=function(){return new Ma},i_=function(){return _a()},n_=cn,Df={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pe.NO_ERROR=0,pe.TIMEOUT=8,pe.HTTP_ERROR=6,wo=pe,ai.COMPLETE="complete",e_=ai,eu.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",ge.prototype.listen=ge.prototype.K,Il=eu,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,t_=kt}).apply(typeof Eo<"u"?Eo:typeof self<"u"?self:typeof window<"u"?window:{});const jp="@firebase/firestore",Gp="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}je.UNAUTHENTICATED=new je(null),je.GOOGLE_CREDENTIALS=new je("google-credentials-uid"),je.FIRST_PARTY=new je("first-party-uid"),je.MOCK_USER=new je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Es="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new Yy("@firebase/firestore");function as(){return oa.logLevel}function et(s,...e){if(oa.logLevel<=Nt.DEBUG){const i=e.map(Ff);oa.debug(`Firestore (${Es}): ${s}`,...i)}}function Ii(s,...e){if(oa.logLevel<=Nt.ERROR){const i=e.map(Ff);oa.error(`Firestore (${Es}): ${s}`,...i)}}function fs(s,...e){if(oa.logLevel<=Nt.WARN){const i=e.map(Ff);oa.warn(`Firestore (${Es}): ${s}`,...i)}}function Ff(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(s="Unexpected state"){const e=`FIRESTORE (${Es}) INTERNAL ASSERTION FAILED: `+s;throw Ii(e),new Error(e)}function qt(s,e){s||ft()}function pt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends vs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(je.UNAUTHENTICATED))}shutdown(){}}class YT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class KT{constructor(e){this.t=e,this.currentUser=je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0);let a=this.i;const u=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new ua;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ua,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},y=_=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>y(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?y(_):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ua)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt(typeof a.accessToken=="string"),new a_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string"),new je(e)}}class XT{constructor(e,i,a){this.l=e,this.h=i,this.P=a,this.type="FirstParty",this.user=je.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class ZT{constructor(e,i,a){this.l=e,this.h=i,this.P=a}getToken(){return Promise.resolve(new XT(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $T{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,VT(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0);const a=h=>{h.error!=null&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,et("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const u=h=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?u(h):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Qp(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string"),this.R=i.token,new Qp(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const u=JT(40);for(let h=0;h<u.length;++h)a.length<20&&u[h]<i&&(a+=e.charAt(u[h]%62))}return a}}function bt(s,e){return s<e?-1:s>e?1:0}function Cf(s,e){let i=0;for(;i<s.length&&i<e.length;){const a=s.codePointAt(i),u=e.codePointAt(i);if(a!==u){if(a<128&&u<128)return bt(a,u);{const h=s_(),d=WT(h.encode(Fp(s,i)),h.encode(Fp(e,i)));return d!==0?d:bt(a,u)}}i+=a>65535?2:1}return bt(s.length,e.length)}function Fp(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function WT(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return bt(s[i],e[i]);return bt(s.length,e.length)}function ds(s,e,i){return s.length===e.length&&s.every((a,u)=>i(a,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp=-62135596800,Kp=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(e){return Ae.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Kp);return new Ae(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Yp)throw new ut(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Kp}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Yp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{static fromTimestamp(e){return new mt(e)}static min(){return new mt(new Ae(0,0))}static max(){return new mt(new Ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="__name__";class $n{constructor(e,i,a){i===void 0?i=0:i>e.length&&ft(),a===void 0?a=e.length-i:a>e.length-i&&ft(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return $n.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof $n?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const h=$n.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return bt(e.length,i.length)}static compareSegments(e,i){const a=$n.isNumericId(e),u=$n.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?$n.extractNumericId(e).compare($n.extractNumericId(i)):Cf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Er.fromString(e.substring(4,e.length-2))}}class Xt extends $n{construct(e,i,a){return new Xt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ut(Y.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new Xt(i)}static emptyPath(){return new Xt([])}}const tA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Le extends $n{construct(e,i,a){return new Le(e,i,a)}static isValidIdentifier(e){return tA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Le.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xp}static keyField(){return new Le([Xp])}static fromServerFormat(e){const i=[];let a="",u=0;const h=()=>{if(a.length===0)throw new ut(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const y=e[u];if(y==="\\"){if(u+1===e.length)throw new ut(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ut(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,u+=2}else y==="`"?(d=!d,u++):y!=="."||d?(a+=y,u++):(h(),u++)}if(h(),d)throw new ut(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Le(i)}static emptyPath(){return new Le([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.path=e}static fromPath(e){return new ot(Xt.fromString(e))}static fromName(e){return new ot(Xt.fromString(e).popFirst(5))}static empty(){return new ot(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Xt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new Xt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=-1;function eA(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=mt.fromTimestamp(a===1e9?new Ae(i+1,0):new Ae(i,a));return new Ar(u,ot.empty(),e)}function nA(s){return new Ar(s.readTime,s.key,Hl)}class Ar{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Ar(mt.min(),ot.empty(),Hl)}static max(){return new Ar(mt.max(),ot.empty(),Hl)}}function iA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ot.comparator(s.documentKey,e.documentKey),i!==0?i:bt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ts(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==rA)throw s;et("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Q((a,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Q?i:Q.resolve(i)}catch(i){return Q.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.reject(i)}static resolve(e){return new Q((i,a)=>{i(e)})}static reject(e){return new Q((i,a)=>{a(e)})}static waitFor(e){return new Q((i,a)=>{let u=0,h=0,d=!1;e.forEach(y=>{++u,y.next(()=>{++h,d&&h===u&&i()},_=>a(_))}),d=!0,h===u&&i()})}static or(e){let i=Q.resolve(!1);for(const a of e)i=i.next(u=>u?Q.resolve(u):a());return i}static forEach(e,i){const a=[];return e.forEach((u,h)=>{a.push(i.call(this,u,h))}),this.waitFor(a)}static mapArray(e,i){return new Q((a,u)=>{const h=e.length,d=new Array(h);let y=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(R=>{d[v]=R,++y,y===h&&a(d)},R=>u(R))}})}static doWhile(e,i){return new Q((a,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):a()};h()})}}function sA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function As(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.oe(a),this._e=a=>i.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Xo.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=-1;function Zo(s){return s==null}function zo(s){return s===0&&1/s==-1/0}function lA(s){return typeof s=="number"&&Number.isInteger(s)&&!zo(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="";function uA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Zp(e)),e=oA(s.get(i),e);return Zp(e)}function oA(s,e){let i=e;const a=s.length;for(let u=0;u<a;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case u_:i+="";break;default:i+=h}}return i}function Zp(s){return s+u_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function ha(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function o_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new Wt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new To(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new To(this.root,e,this.comparator,!1)}getReverseIterator(){return new To(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new To(this.root,e,this.comparator,!0)}}class To{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,a,u,h){this.key=e,this.value=i,this.color=a??ze.RED,this.left=u??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,h){return new ze(e??this.key,i??this.value,a??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,a),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return ze.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const e=this.left.check();if(e!==this.right.check())throw ft();return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(e,i,a,u,h){return this}insert(e,i,a){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Jp(this.data.getIterator())}getIteratorFrom(e){return new Jp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof Se)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Se(this.comparator);return i.data=e,i}}class Jp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(Le.comparator)}static empty(){return new Un([])}unionWith(e){let i=new Se(Le.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Un(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ds(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new c_("Invalid base64 string: "+h):h}}(e);return new Be(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const cA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(s){if(qt(!!s),typeof s=="string"){let e=0;const i=cA.exec(s);if(qt(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:le(s.seconds),nanos:le(s.nanos)}}function le(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function br(s){return typeof s=="string"?Be.fromBase64String(s):Be.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="server_timestamp",f_="__type__",d_="__previous_value__",m_="__local_write_time__";function Kf(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[f_])===null||i===void 0?void 0:i.stringValue)===h_}function $o(s){const e=s.mapValue.fields[d_];return Kf(e)?$o(e):e}function jl(s){const e=Sr(s.mapValue.fields[m_].timestampValue);return new Ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,i,a,u,h,d,y,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=_,this.useFetchStreams=v}}const Lo="(default)";class Gl{constructor(e,i){this.projectId=e,this.database=i||Lo}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===Lo}isEqual(e){return e instanceof Gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="__type__",fA="__max__",Ao={mapValue:{}},p_="__vector__",Bo="value";function Rr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Kf(s)?4:mA(s)?9007199254740991:dA(s)?10:11:ft()}function ti(s,e){if(s===e)return!0;const i=Rr(s);if(i!==Rr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return jl(s).isEqual(jl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=Sr(u.timestampValue),y=Sr(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return br(u.bytesValue).isEqual(br(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return le(u.geoPointValue.latitude)===le(h.geoPointValue.latitude)&&le(u.geoPointValue.longitude)===le(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return le(u.integerValue)===le(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=le(u.doubleValue),y=le(h.doubleValue);return d===y?zo(d)===zo(y):isNaN(d)&&isNaN(y)}return!1}(s,e);case 9:return ds(s.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},y=h.mapValue.fields||{};if($p(d)!==$p(y))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(y[_]===void 0||!ti(d[_],y[_])))return!1;return!0}(s,e);default:return ft()}}function Ql(s,e){return(s.values||[]).find(i=>ti(i,e))!==void 0}function ms(s,e){if(s===e)return 0;const i=Rr(s),a=Rr(e);if(i!==a)return bt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return bt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const y=le(h.integerValue||h.doubleValue),_=le(d.integerValue||d.doubleValue);return y<_?-1:y>_?1:y===_?0:isNaN(y)?isNaN(_)?0:-1:1}(s,e);case 3:return Wp(s.timestampValue,e.timestampValue);case 4:return Wp(jl(s),jl(e));case 5:return Cf(s.stringValue,e.stringValue);case 6:return function(h,d){const y=br(h),_=br(d);return y.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const y=h.split("/"),_=d.split("/");for(let v=0;v<y.length&&v<_.length;v++){const R=bt(y[v],_[v]);if(R!==0)return R}return bt(y.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const y=bt(le(h.latitude),le(d.latitude));return y!==0?y:bt(le(h.longitude),le(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return ty(s.arrayValue,e.arrayValue);case 10:return function(h,d){var y,_,v,R;const M=h.fields||{},k=d.fields||{},j=(y=M[Bo])===null||y===void 0?void 0:y.arrayValue,$=(_=k[Bo])===null||_===void 0?void 0:_.arrayValue,nt=bt(((v=j==null?void 0:j.values)===null||v===void 0?void 0:v.length)||0,((R=$==null?void 0:$.values)===null||R===void 0?void 0:R.length)||0);return nt!==0?nt:ty(j,$)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===Ao.mapValue&&d===Ao.mapValue)return 0;if(h===Ao.mapValue)return 1;if(d===Ao.mapValue)return-1;const y=h.fields||{},_=Object.keys(y),v=d.fields||{},R=Object.keys(v);_.sort(),R.sort();for(let M=0;M<_.length&&M<R.length;++M){const k=Cf(_[M],R[M]);if(k!==0)return k;const j=ms(y[_[M]],v[R[M]]);if(j!==0)return j}return bt(_.length,R.length)}(s.mapValue,e.mapValue);default:throw ft()}}function Wp(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return bt(s,e);const i=Sr(s),a=Sr(e),u=bt(i.seconds,a.seconds);return u!==0?u:bt(i.nanos,a.nanos)}function ty(s,e){const i=s.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const h=ms(i[u],a[u]);if(h)return h}return bt(i.length,a.length)}function gs(s){return Vf(s)}function Vf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=Sr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return br(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ot.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",u=!0;for(const h of i.values||[])u?u=!1:a+=",",a+=Vf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of a)h?h=!1:u+=",",u+=`${d}:${Vf(i.fields[d])}`;return u+"}"}(s.mapValue):ft()}function Do(s){switch(Rr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$o(s);return e?16+Do(e):16;case 5:return 2*s.stringValue.length;case 6:return br(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((u,h)=>u+Do(h),0)}(s.arrayValue);case 10:case 11:return function(a){let u=0;return ha(a.fields,(h,d)=>{u+=h.length+Do(d)}),u}(s.mapValue);default:throw ft()}}function Of(s){return!!s&&"integerValue"in s}function Xf(s){return!!s&&"arrayValue"in s}function ey(s){return!!s&&"nullValue"in s}function ny(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Co(s){return!!s&&"mapValue"in s}function dA(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[g_])===null||i===void 0?void 0:i.stringValue)===p_}function xl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return ha(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=xl(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=xl(s.arrayValue.values[i]);return e}return Object.assign({},s)}function mA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===fA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Co(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=xl(i)}setAll(e){let i=Le.emptyPath(),a={},u=[];e.forEach((d,y)=>{if(!i.isImmediateParentOf(y)){const _=this.getFieldsMap(i);this.applyChanges(_,a,u),a={},u=[],i=y.popLast()}d?a[y.lastSegment()]=xl(d):u.push(y.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,u)}delete(e){const i=this.field(e.popLast());Co(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];Co(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){ha(i,(u,h)=>e[u]=h);for(const u of a)delete e[u]}clone(){return new wn(xl(this.value))}}function y_(s){const e=[];return ha(s.fields,(i,a)=>{const u=new Le([i]);if(Co(a)){const h=y_(a.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,i,a,u,h,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Ge(e,0,mt.min(),mt.min(),mt.min(),wn.empty(),0)}static newFoundDocument(e,i,a,u){return new Ge(e,1,i,mt.min(),a,u,0)}static newNoDocument(e,i){return new Ge(e,2,i,mt.min(),mt.min(),wn.empty(),0)}static newUnknownDocument(e,i){return new Ge(e,3,i,mt.min(),mt.min(),wn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ge&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,i){this.position=e,this.inclusive=i}}function iy(s,e,i){let a=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?a=ot.comparator(ot.fromName(d.referenceValue),i.key):a=ms(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function ry(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ti(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,i="asc"){this.field=e,this.dir=i}}function gA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{}class Te extends __{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new yA(e,i,a):i==="array-contains"?new EA(e,a):i==="in"?new TA(e,a):i==="not-in"?new AA(e,a):i==="array-contains-any"?new SA(e,a):new Te(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new _A(e,a):new vA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(ms(i,this.value)):i!==null&&Rr(this.value)===Rr(i)&&this.matchesComparison(ms(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends __{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ei(e,i)}matches(e){return v_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function v_(s){return s.op==="and"}function E_(s){return pA(s)&&v_(s)}function pA(s){for(const e of s.filters)if(e instanceof ei)return!1;return!0}function If(s){if(s instanceof Te)return s.field.canonicalString()+s.op.toString()+gs(s.value);if(E_(s))return s.filters.map(e=>If(e)).join(",");{const e=s.filters.map(i=>If(i)).join(",");return`${s.op}(${e})`}}function T_(s,e){return s instanceof Te?function(a,u){return u instanceof Te&&a.op===u.op&&a.field.isEqual(u.field)&&ti(a.value,u.value)}(s,e):s instanceof ei?function(a,u){return u instanceof ei&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce((h,d,y)=>h&&T_(d,u.filters[y]),!0):!1}(s,e):void ft()}function A_(s){return s instanceof Te?function(i){return`${i.field.canonicalString()} ${i.op} ${gs(i.value)}`}(s):s instanceof ei?function(i){return i.op.toString()+" {"+i.getFilters().map(A_).join(" ,")+"}"}(s):"Filter"}class yA extends Te{constructor(e,i,a){super(e,i,a),this.key=ot.fromName(a.referenceValue)}matches(e){const i=ot.comparator(e.key,this.key);return this.matchesComparison(i)}}class _A extends Te{constructor(e,i){super(e,"in",i),this.keys=S_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class vA extends Te{constructor(e,i){super(e,"not-in",i),this.keys=S_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function S_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ot.fromName(a.referenceValue))}class EA extends Te{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Xf(i)&&Ql(i.arrayValue,this.value)}}class TA extends Te{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ql(this.value.arrayValue,i)}}class AA extends Te{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Ql(this.value.arrayValue,i)}}class SA extends Te{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Xf(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Ql(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,i=null,a=[],u=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=h,this.startAt=d,this.endAt=y,this.le=null}}function ay(s,e=null,i=[],a=[],u=null,h=null,d=null){return new bA(s,e,i,a,u,h,d)}function Zf(s){const e=pt(s);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>If(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),Zo(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>gs(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>gs(a)).join(",")),e.le=i}return e.le}function $f(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!gA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!T_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!ry(s.startAt,e.startAt)&&ry(s.endAt,e.endAt)}function Mf(s){return ot.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,i=null,a=[],u=[],h=null,d="F",y=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=_,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function RA(s,e,i,a,u,h,d,y){return new Jo(s,e,i,a,u,h,d,y)}function Jf(s){return new Jo(s)}function sy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function wA(s){return s.collectionGroup!==null}function zl(s){const e=pt(s);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Se(Le.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(y=y.add(v.field))})}),y})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new ko(h,a))}),i.has(Le.keyField().canonicalString())||e.he.push(new ko(Le.keyField(),a))}return e.he}function Jn(s){const e=pt(s);return e.Pe||(e.Pe=DA(e,zl(s))),e.Pe}function DA(s,e){if(s.limitType==="F")return ay(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new ko(u.field,h)});const i=s.endAt?new Po(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Po(s.startAt.position,s.startAt.inclusive):null;return ay(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Nf(s,e,i){return new Jo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Wo(s,e){return $f(Jn(s),Jn(e))&&s.limitType===e.limitType}function b_(s){return`${Zf(Jn(s))}|lt:${s.limitType}`}function ss(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>A_(u)).join(", ")}]`),Zo(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>gs(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>gs(u)).join(",")),`Target(${a})`}(Jn(s))}; limitType=${s.limitType})`}function tc(s,e){return e.isFoundDocument()&&function(a,u){const h=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ot.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,u){for(const h of zl(a))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,u){for(const h of a.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(a,u){return!(a.startAt&&!function(d,y,_){const v=iy(d,y,_);return d.inclusive?v<=0:v<0}(a.startAt,zl(a),u)||a.endAt&&!function(d,y,_){const v=iy(d,y,_);return d.inclusive?v>=0:v>0}(a.endAt,zl(a),u))}(s,e)}function CA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function R_(s){return(e,i)=>{let a=!1;for(const u of zl(s)){const h=VA(u,e,i);if(h!==0)return h;a=a||u.field.isKeyField()}return 0}}function VA(s,e,i){const a=s.field.isKeyField()?ot.comparator(e.key,i.key):function(h,d,y){const _=d.data.field(h),v=y.data.field(h);return _!==null&&v!==null?ms(_,v):ft()}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ft()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,h]of a)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){ha(this.inner,(i,a)=>{for(const[u,h]of a)e(u,h)})}isEmpty(){return o_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=new Wt(ot.comparator);function Mi(){return OA}const w_=new Wt(ot.comparator);function Ml(...s){let e=w_;for(const i of s)e=e.insert(i.key,i);return e}function D_(s){let e=w_;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function la(){return Ll()}function C_(){return Ll()}function Ll(){return new fa(s=>s.toString(),(s,e)=>s.isEqual(e))}const IA=new Wt(ot.comparator),MA=new Se(ot.comparator);function Dt(...s){let e=MA;for(const i of s)e=e.add(i);return e}const NA=new Se(bt);function UA(){return NA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zo(e)?"-0":e}}function V_(s){return{integerValue:""+s}}function xA(s,e){return lA(e)?V_(e):Wf(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){this._=void 0}}function zA(s,e,i){return s instanceof qo?function(u,h){const d={fields:{[f_]:{stringValue:h_},[m_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&Kf(h)&&(h=$o(h)),h&&(d.fields[d_]=h),{mapValue:d}}(i,e):s instanceof Fl?I_(s,e):s instanceof Yl?M_(s,e):function(u,h){const d=O_(u,h),y=ly(d)+ly(u.Ie);return Of(d)&&Of(u.Ie)?V_(y):Wf(u.serializer,y)}(s,e)}function LA(s,e,i){return s instanceof Fl?I_(s,e):s instanceof Yl?M_(s,e):i}function O_(s,e){return s instanceof Ho?function(a){return Of(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class qo extends ec{}class Fl extends ec{constructor(e){super(),this.elements=e}}function I_(s,e){const i=N_(e);for(const a of s.elements)i.some(u=>ti(u,a))||i.push(a);return{arrayValue:{values:i}}}class Yl extends ec{constructor(e){super(),this.elements=e}}function M_(s,e){let i=N_(e);for(const a of s.elements)i=i.filter(u=>!ti(u,a));return{arrayValue:{values:i}}}class Ho extends ec{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function ly(s){return le(s.integerValue||s.doubleValue)}function N_(s){return Xf(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function BA(s,e){return s.field.isEqual(e.field)&&function(a,u){return a instanceof Fl&&u instanceof Fl||a instanceof Yl&&u instanceof Yl?ds(a.elements,u.elements,ti):a instanceof Ho&&u instanceof Ho?ti(a.Ie,u.Ie):a instanceof qo&&u instanceof qo}(s.transform,e.transform)}class PA{constructor(e,i){this.version=e,this.transformResults=i}}class Vi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Vi}static exists(e){return new Vi(void 0,e)}static updateTime(e){return new Vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class nc{}function U_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new z_(s.key,Vi.none()):new Kl(s.key,s.data,Vi.none());{const i=s.data,a=wn.empty();let u=new Se(Le.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),u=u.add(h)}return new da(s.key,a,new Un(u.toArray()),Vi.none())}}function kA(s,e,i){s instanceof Kl?function(u,h,d){const y=u.value.clone(),_=oy(u.fieldTransforms,h,d.transformResults);y.setAll(_),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(s,e,i):s instanceof da?function(u,h,d){if(!Vo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const y=oy(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(x_(u)),_.setAll(y),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Bl(s,e,i,a){return s instanceof Kl?function(h,d,y,_){if(!Vo(h.precondition,d))return y;const v=h.value.clone(),R=cy(h.fieldTransforms,_,d);return v.setAll(R),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof da?function(h,d,y,_){if(!Vo(h.precondition,d))return y;const v=cy(h.fieldTransforms,_,d),R=d.data;return R.setAll(x_(h)),R.setAll(v),d.convertToFoundDocument(d.version,R).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(M=>M.field))}(s,e,i,a):function(h,d,y){return Vo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y}(s,e,i)}function qA(s,e){let i=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),h=O_(a.transform,u||null);h!=null&&(i===null&&(i=wn.empty()),i.set(a.field,h))}return i||null}function uy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&ds(a,u,(h,d)=>BA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Kl extends nc{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class da extends nc{constructor(e,i,a,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function x_(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function oy(s,e,i){const a=new Map;qt(s.length===i.length);for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,y=e.data.field(h.field);a.set(h.field,LA(d,y,i[u]))}return a}function cy(s,e,i){const a=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);a.set(u.field,zA(h,d,e))}return a}class z_ extends nc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HA extends nc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&kA(h,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Bl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Bl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=C_();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(u.key)?null:y;const _=U_(d,y);_!==null&&a.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(mt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Dt())}isEqual(e){return this.batchId===e.batchId&&ds(this.mutations,e.mutations,(i,a)=>uy(i,a))&&ds(this.baseMutations,e.baseMutations,(i,a)=>uy(i,a))}}class td{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){qt(e.mutations.length===a.length);let u=function(){return IA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,a[d].version);return new td(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de,Mt;function FA(s){switch(s){case Y.OK:return ft();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return ft()}}function L_(s){if(s===void 0)return Ii("GRPC error has no .code"),Y.UNKNOWN;switch(s){case de.OK:return Y.OK;case de.CANCELLED:return Y.CANCELLED;case de.UNKNOWN:return Y.UNKNOWN;case de.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case de.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case de.INTERNAL:return Y.INTERNAL;case de.UNAVAILABLE:return Y.UNAVAILABLE;case de.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case de.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case de.NOT_FOUND:return Y.NOT_FOUND;case de.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case de.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case de.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case de.ABORTED:return Y.ABORTED;case de.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case de.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case de.DATA_LOSS:return Y.DATA_LOSS;default:return ft()}}(Mt=de||(de={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=new Er([4294967295,4294967295],0);function hy(s){const e=s_().encode(s),i=new Wy;return i.update(e),new Uint8Array(i.digest())}function fy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Er([i,a],0),new Er([u,h],0)]}class ed{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Nl(`Invalid padding: ${i}`);if(a<0)throw new Nl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Er.fromNumber(this.Ee)}Ae(e,i,a){let u=e.add(i.multiply(Er.fromNumber(a)));return u.compare(YA)===1&&(u=new Er([u.getBits(0),u.getBits(1)],0)),u.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=hy(e),[a,u]=fy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,u,h);if(!this.Re(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new ed(h,u,i);return a.forEach(y=>d.insert(y)),d}insert(e){if(this.Ee===0)return;const i=hy(e),[a,u]=fy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,u,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i,a,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,Xl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new ic(mt.min(),u,new Wt(bt),Mi(),Dt())}}class Xl{constructor(e,i,a,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Xl(a,i,Dt(),Dt(),Dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,i,a,u){this.me=e,this.removedTargetIds=i,this.key=a,this.fe=u}}class B_{constructor(e,i){this.targetId=e,this.ge=i}}class P_{constructor(e,i,a=Be.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class dy{constructor(){this.pe=0,this.ye=my(),this.we=Be.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Dt(),i=Dt(),a=Dt();return this.ye.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:ft()}}),new Xl(this.we,this.Se,e,i,a)}Me(){this.be=!1,this.ye=my()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,qt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class KA{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Mi(),this.$e=So(),this.Ue=So(),this.Ke=new Wt(bt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const a=this.He(i);switch(e.state){case 0:this.Je(i)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(i);break;case 3:this.Je(i)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),a.Ce(e.resumeToken));break;default:ft()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((a,u)=>{this.Je(u)&&i(u)})}Ze(e){const i=e.targetId,a=e.ge.count,u=this.Xe(i);if(u){const h=u.target;if(Mf(h))if(a===0){const d=new ot(h.path);this.ze(i,d,Ge.newNoDocument(d,mt.min()))}else qt(a===1);else{const d=this.et(i);if(d!==a){const y=this.tt(e),_=y?this.nt(y,e,d):1;if(_!==0){this.Ye(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,v)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=i;let d,y;try{d=br(a).toUint8Array()}catch(_){if(_ instanceof c_)return fs("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{y=new ed(d,u,h)}catch(_){return fs(_ instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return y.Ee===0?null:y}nt(e,i,a){return i.ge.count===a-this.st(e,i.targetId)?0:2}st(e,i){const a=this.ke.getRemoteKeysForTarget(i);let u=0;return a.forEach(h=>{const d=this.ke.it(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.ze(i,h,null),u++)}),u}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const y=this.Xe(d);if(y){if(h.current&&Mf(y.target)){const _=new ot(y.target.path);this._t(_).has(d)||this.ut(d,_)||this.ze(d,_,Ge.newNoDocument(_,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let a=Dt();this.Ue.forEach((h,d)=>{let y=!0;d.forEachWhile(_=>{const v=this.Xe(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)}),y&&(a=a.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const u=new ic(e,i,this.Ke,this.Qe,a);return this.Qe=Mi(),this.$e=So(),this.Ue=So(),this.Ke=new Wt(bt),u}Ge(e,i){if(!this.Je(e))return;const a=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,a),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,a){if(!this.Je(e))return;const u=this.He(e);this.ut(e,i)?u.xe(i,1):u.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),a&&(this.Qe=this.Qe.insert(i,a))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new dy,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new Se(bt),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new Se(bt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||et("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new dy),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function So(){return new Wt(ot.comparator)}function my(){return new Wt(ot.comparator)}const XA={asc:"ASCENDING",desc:"DESCENDING"},ZA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$A={and:"AND",or:"OR"};class JA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Uf(s,e){return s.useProto3Json||Zo(e)?e:{value:e}}function jo(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function k_(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function WA(s,e){return jo(s,e.toTimestamp())}function Wn(s){return qt(!!s),mt.fromTimestamp(function(i){const a=Sr(i);return new Ae(a.seconds,a.nanos)}(s))}function nd(s,e){return xf(s,e).canonicalString()}function xf(s,e){const i=function(u){return new Xt(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function q_(s){const e=Xt.fromString(s);return qt(F_(e)),e}function zf(s,e){return nd(s.databaseId,e.path)}function _f(s,e){const i=q_(e);if(i.get(1)!==s.databaseId.projectId)throw new ut(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ut(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ot(j_(i))}function H_(s,e){return nd(s.databaseId,e)}function tS(s){const e=q_(s);return e.length===4?Xt.emptyPath():j_(e)}function Lf(s){return new Xt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function j_(s){return qt(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function gy(s,e,i){return{name:zf(s,e),fields:i.value.mapValue.fields}}function eS(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ft()}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(v,R){return v.useProto3Json?(qt(R===void 0||typeof R=="string"),Be.fromBase64String(R||"")):(qt(R===void 0||R instanceof Buffer||R instanceof Uint8Array),Be.fromUint8Array(R||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&function(v){const R=v.code===void 0?Y.UNKNOWN:L_(v.code);return new ut(R,v.message||"")}(d);i=new P_(a,u,h,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=_f(s,a.document.name),h=Wn(a.document.updateTime),d=a.document.createTime?Wn(a.document.createTime):mt.min(),y=new wn({mapValue:{fields:a.document.fields}}),_=Ge.newFoundDocument(u,h,d,y),v=a.targetIds||[],R=a.removedTargetIds||[];i=new Oo(v,R,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=_f(s,a.document),h=a.readTime?Wn(a.readTime):mt.min(),d=Ge.newNoDocument(u,h),y=a.removedTargetIds||[];i=new Oo([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=_f(s,a.document),h=a.removedTargetIds||[];i=new Oo([],h,u,null)}else{if(!("filter"in e))return ft();{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:h}=a,d=new QA(u,h),y=a.targetId;i=new B_(y,d)}}return i}function nS(s,e){let i;if(e instanceof Kl)i={update:gy(s,e.key,e.value)};else if(e instanceof z_)i={delete:zf(s,e.key)};else if(e instanceof da)i={update:gy(s,e.key,e.data),updateMask:hS(e.fieldMask)};else{if(!(e instanceof HA))return ft();i={verify:zf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const y=d.transform;if(y instanceof qo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Fl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Yl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Ho)return{fieldPath:d.field.canonicalString(),increment:y.Ie};throw ft()}(0,a))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:WA(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:ft()}(s,e.precondition)),i}function iS(s,e){return s&&s.length>0?(qt(e!==void 0),s.map(i=>function(u,h){let d=u.updateTime?Wn(u.updateTime):Wn(h);return d.isEqual(mt.min())&&(d=Wn(h)),new PA(d,u.transformResults||[])}(i,e))):[]}function rS(s,e){return{documents:[H_(s,e.path)]}}function aS(s,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=H_(s,u);const h=function(v){if(v.length!==0)return Q_(ei.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(R=>function(k){return{field:ls(k.field),direction:uS(k.dir)}}(R))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=Uf(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:i,parent:u}}function sS(s){let e=tS(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){qt(a===1);const R=i.from[0];R.allDescendants?u=R.collectionId:e=e.child(R.collectionId)}let h=[];i.where&&(h=function(M){const k=G_(M);return k instanceof ei&&E_(k)?k.getFilters():[k]}(i.where));let d=[];i.orderBy&&(d=function(M){return M.map(k=>function($){return new ko(us($.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(k))}(i.orderBy));let y=null;i.limit&&(y=function(M){let k;return k=typeof M=="object"?M.value:M,Zo(k)?null:k}(i.limit));let _=null;i.startAt&&(_=function(M){const k=!!M.before,j=M.values||[];return new Po(j,k)}(i.startAt));let v=null;return i.endAt&&(v=function(M){const k=!M.before,j=M.values||[];return new Po(j,k)}(i.endAt)),RA(e,u,d,h,y,"F",_,v)}function lS(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function G_(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=us(i.unaryFilter.field);return Te.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=us(i.unaryFilter.field);return Te.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=us(i.unaryFilter.field);return Te.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=us(i.unaryFilter.field);return Te.create(d,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}(s):s.fieldFilter!==void 0?function(i){return Te.create(us(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return ei.create(i.compositeFilter.filters.map(a=>G_(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return ft()}}(i.compositeFilter.op))}(s):ft()}function uS(s){return XA[s]}function oS(s){return ZA[s]}function cS(s){return $A[s]}function ls(s){return{fieldPath:s.canonicalString()}}function us(s){return Le.fromServerFormat(s.fieldPath)}function Q_(s){return s instanceof Te?function(i){if(i.op==="=="){if(ny(i.value))return{unaryFilter:{field:ls(i.field),op:"IS_NAN"}};if(ey(i.value))return{unaryFilter:{field:ls(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(ny(i.value))return{unaryFilter:{field:ls(i.field),op:"IS_NOT_NAN"}};if(ey(i.value))return{unaryFilter:{field:ls(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ls(i.field),op:oS(i.op),value:i.value}}}(s):s instanceof ei?function(i){const a=i.getFilters().map(u=>Q_(u));return a.length===1?a[0]:{compositeFilter:{op:cS(i.op),filters:a}}}(s):ft()}function hS(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function F_(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,i,a,u,h=mt.min(),d=mt.min(),y=Be.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=_}withSequenceNumber(e){return new yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this.Tt=e}}function dS(s){const e=sS({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Nf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(){this.Tn=new gS}addToCollectionParentIndex(e,i){return this.Tn.add(i),Q.resolve()}getCollectionParents(e,i){return Q.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return Q.resolve()}deleteFieldIndex(e,i){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,i){return Q.resolve()}getDocumentsMatchingTarget(e,i){return Q.resolve(null)}getIndexType(e,i){return Q.resolve(0)}getFieldIndexes(e,i){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,i){return Q.resolve(Ar.min())}getMinOffsetFromCollectionGroup(e,i){return Q.resolve(Ar.min())}updateCollectionGroup(e,i,a){return Q.resolve()}updateIndexEntries(e,i){return Q.resolve()}}class gS{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new Se(Xt.comparator),h=!u.has(a);return this.index[i]=u.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new Se(Xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Y_=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(Y_,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ps(0)}static Kn(){return new ps(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="LruGarbageCollector",pS=1048576;function _y([s,e],[i,a]){const u=bt(s,i);return u===0?bt(e,a):u}class yS{constructor(e){this.Hn=e,this.buffer=new Se(_y),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();_y(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class _S{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){et(yy,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){As(i)?et(yy,"Ignoring IndexedDB error during garbage collection: ",i):await Ts(i)}await this.er(3e5)})}}class vS{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return Q.resolve(Xo.ae);const a=new yS(i);return this.tr.forEachTarget(e,u=>a.Zn(u.sequenceNumber)).next(()=>this.tr.rr(e,u=>a.Zn(u))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.tr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(et("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(py)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),py):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let a,u,h,d,y,_,v;const R=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),u=this.params.maximumSequenceNumbersToCollect):u=M,d=Date.now(),this.nthSequenceNumber(e,u))).next(M=>(a=M,y=Date.now(),this.removeTargets(e,a,i))).next(M=>(h=M,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(M=>(v=Date.now(),as()<=Nt.DEBUG&&et("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-R}ms
	Determined least recently used ${u} in `+(y-d)+`ms
	Removed ${h} targets in `+(_-y)+`ms
	Removed ${M} documents in `+(v-_)+`ms
Total Duration: ${v-R}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:M})))}}function ES(s,e){return new vS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this.changes=new fa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ge.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Q.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(a!==null&&Bl(a.mutation,u,Un.empty(),Ae.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Dt()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Dt()){const u=la();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,a).next(h=>{let d=Ml();return h.forEach((y,_)=>{d=d.insert(y,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=la();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Dt()))}populateOverlays(e,i,a){const u=[];return a.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,y)=>{i.set(d,y)})})}computeViews(e,i,a,u){let h=Mi();const d=Ll(),y=function(){return Ll()}();return i.forEach((_,v)=>{const R=a.get(v.key);u.has(v.key)&&(R===void 0||R.mutation instanceof da)?h=h.insert(v.key,v):R!==void 0?(d.set(v.key,R.mutation.getFieldMask()),Bl(R.mutation,v,R.mutation.getFieldMask(),Ae.now())):d.set(v.key,Un.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,R)=>d.set(v,R)),i.forEach((v,R)=>{var M;return y.set(v,new AS(R,(M=d.get(v))!==null&&M!==void 0?M:null))}),y))}recalculateAndSaveOverlays(e,i){const a=Ll();let u=new Wt((d,y)=>d-y),h=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const y of d)y.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let R=a.get(_)||Un.empty();R=y.applyToLocalView(v,R),a.set(_,R);const M=(u.get(y.batchId)||Dt()).add(_);u=u.insert(y.batchId,M)})}).next(()=>{const d=[],y=u.getReverseIterator();for(;y.hasNext();){const _=y.getNext(),v=_.key,R=_.value,M=C_();R.forEach(k=>{if(!h.has(k)){const j=U_(i.get(k),a.get(k));j!==null&&M.set(k,j),h=h.add(k)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,M))}return Q.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,u){return function(d){return ot.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):wA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-h.size):Q.resolve(la());let y=Hl,_=h;return d.next(v=>Q.forEach(v,(R,M)=>(y<M.largestBatchId&&(y=M.largestBatchId),h.get(R)?Q.resolve():this.remoteDocumentCache.getEntry(e,R).next(k=>{_=_.insert(R,k)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Dt())).next(R=>({batchId:y,changes:D_(R)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ot(i)).next(a=>{let u=Ml();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const h=i.collectionGroup;let d=Ml();return this.indexManager.getCollectionParents(e,h).next(y=>Q.forEach(y,_=>{const v=function(M,k){return new Jo(k,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,u).next(R=>{R.forEach((M,k)=>{d=d.insert(M,k)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,u))).next(d=>{h.forEach((_,v)=>{const R=v.getKey();d.get(R)===null&&(d=d.insert(R,Ge.newInvalidDocument(R)))});let y=Ml();return d.forEach((_,v)=>{const R=h.get(_);R!==void 0&&Bl(R.mutation,v,Un.empty(),Ae.now()),tc(i,v)&&(y=y.insert(_,v))}),y})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return Q.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:Wn(u.createTime)}}(i)),Q.resolve()}getNamedQuery(e,i){return Q.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(u){return{name:u.name,query:dS(u.bundledQuery),readTime:Wn(u.readTime)}}(i)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.overlays=new Wt(ot.comparator),this.Rr=new Map}getOverlay(e,i){return Q.resolve(this.overlays.get(i))}getOverlays(e,i){const a=la();return Q.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&a.set(u,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((u,h)=>{this.Et(e,i,h)}),Q.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.Rr.get(a);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(a)),Q.resolve()}getOverlaysForCollection(e,i,a){const u=la(),h=i.length+1,d=new ot(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const _=y.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&u.set(_.getKey(),_)}return Q.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let h=new Wt((v,R)=>v-R);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let R=h.get(v.largestBatchId);R===null&&(R=la(),h=h.insert(v.largestBatchId,R)),R.set(v.getKey(),v)}}const y=la(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,R)=>y.set(v,R)),!(y.size()>=u)););return Q.resolve(y)}Et(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.Rr.get(u.largestBatchId).delete(a.key);this.Rr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new GA(i,a));let h=this.Rr.get(i);h===void 0&&(h=Dt(),this.Rr.set(i,h)),this.Rr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(){this.Vr=new Se(Ie.mr),this.gr=new Se(Ie.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const a=new Ie(e,i);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.wr(new Ie(e,i))}Sr(e,i){e.forEach(a=>this.removeReference(a,i))}br(e){const i=new ot(new Xt([])),a=new Ie(i,e),u=new Ie(i,e+1),h=[];return this.gr.forEachInRange([a,u],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new ot(new Xt([])),a=new Ie(i,e),u=new Ie(i,e+1);let h=Dt();return this.gr.forEachInRange([a,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ie(e,0),a=this.Vr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ie{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return ot.comparator(e.key,i.key)||bt(e.Cr,i.Cr)}static pr(e,i){return bt(e.Cr,i.Cr)||ot.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Se(Ie.mr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new jA(h,i,a,u);this.mutationQueue.push(d);for(const y of u)this.Mr=this.Mr.add(new Ie(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Q.resolve(d)}lookupMutationBatch(e,i){return Q.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.Nr(a),h=u<0?0:u;return Q.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Yf:this.Fr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ie(i,0),u=new Ie(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([a,u],d=>{const y=this.Or(d.Cr);h.push(y)}),Q.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Se(bt);return i.forEach(u=>{const h=new Ie(u,0),d=new Ie(u,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],y=>{a=a.add(y.Cr)})}),Q.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let h=a;ot.isDocumentKey(h)||(h=h.child(""));const d=new Ie(new ot(h),0);let y=new Se(bt);return this.Mr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===u&&(y=y.add(_.Cr)),!0)},d),Q.resolve(this.Br(y))}Br(e){const i=[];return e.forEach(a=>{const u=this.Or(a);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){qt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return Q.forEach(i.mutations,u=>{const h=new Ie(u.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,i){const a=new Ie(i,0),u=this.Mr.firstAfterOrEqual(a);return Q.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this.kr=e,this.docs=function(){return new Wt(ot.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),h=u?u.size:0,d=this.kr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Q.resolve(a?a.document.mutableCopy():Ge.newInvalidDocument(i))}getEntries(e,i){let a=Mi();return i.forEach(u=>{const h=this.docs.get(u);a=a.insert(u,h?h.document.mutableCopy():Ge.newInvalidDocument(u))}),Q.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let h=Mi();const d=i.path,y=new ot(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(y);for(;_.hasNext();){const{key:v,value:{document:R}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||iA(nA(R),a)<=0||(u.has(R.key)||tc(i,R))&&(h=h.insert(R.key,R.mutableCopy()))}return Q.resolve(h)}getAllFromCollectionGroup(e,i,a,u){ft()}qr(e,i){return Q.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new VS(this)}getSize(e){return Q.resolve(this.size)}}class VS extends TS{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.Ir.addEntry(e,u)):this.Ir.removeEntry(a)}),Q.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e){this.persistence=e,this.Qr=new fa(i=>Zf(i),$f),this.lastRemoteSnapshotVersion=mt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new id,this.targetCount=0,this.Kr=ps.Un()}forEachTarget(e,i){return this.Qr.forEach((a,u)=>i(u)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.$r&&(this.$r=i),Q.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new ps(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,Q.resolve()}updateTargetData(e,i){return this.zn(i),Q.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,i,a){let u=0;const h=[];return this.Qr.forEach((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),u++)}),Q.waitFor(h).next(()=>u)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,i){const a=this.Qr.get(i)||null;return Q.resolve(a)}addMatchingKeys(e,i,a){return this.Ur.yr(i,a),Q.resolve()}removeMatchingKeys(e,i,a){this.Ur.Sr(i,a);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),Q.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),Q.resolve()}getMatchingKeysForTargetId(e,i){const a=this.Ur.vr(i);return Q.resolve(a)}containsKey(e,i){return Q.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new Xo(0),this.zr=!1,this.zr=!0,this.jr=new wS,this.referenceDelegate=e(this),this.Hr=new OS(this),this.indexManager=new mS,this.remoteDocumentCache=function(u){return new CS(u)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new fS(i),this.Yr=new bS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new RS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.Wr[e.toKey()];return a||(a=new DS(i,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,a){et("MemoryPersistence","Starting transaction:",e);const u=new IS(this.Gr.next());return this.referenceDelegate.Zr(),a(u).next(h=>this.referenceDelegate.Xr(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}ei(e,i){return Q.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,i)))}}class IS extends aA{constructor(e){super(),this.currentSequenceNumber=e}}class rd{constructor(e){this.persistence=e,this.ti=new id,this.ni=null}static ri(e){return new rd(e)}get ii(){if(this.ni)return this.ni;throw ft()}addReference(e,i,a){return this.ti.addReference(a,i),this.ii.delete(a.toString()),Q.resolve()}removeReference(e,i,a){return this.ti.removeReference(a,i),this.ii.add(a.toString()),Q.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),Q.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(u=>this.ii.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.ii.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,a=>{const u=ot.fromPath(a);return this.si(e,u).next(h=>{h||i.removeEntry(u,mt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(a=>{a?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return Q.or([()=>Q.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Go{constructor(e,i){this.persistence=e,this.oi=new fa(a=>uA(a.path),(a,u)=>a.isEqual(u)),this.garbageCollector=ES(this,i)}static ri(e,i){return new Go(e,i)}Zr(){}Xr(e){return Q.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(u=>a+u))}sr(e){let i=0;return this.rr(e,a=>{i++}).next(()=>i)}rr(e,i){return Q.forEach(this.oi,(a,u)=>this.ar(e,a,u).next(h=>h?Q.resolve():i(u)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.qr(e,d=>this.ar(e,d,i).next(y=>{y||(a++,h.removeEntry(d,mt.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Q.resolve()}removeReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Do(e.data.value)),i}ar(e,i,a){return Q.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.oi.get(i);return Q.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.Hi=a,this.Ji=u}static Yi(e,i){let a=Dt(),u=Dt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new ad(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return w0()?8:sA(b0())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,a,u){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,u,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new MS;return this._s(e,i,d).next(y=>{if(h.result=y,this.Xi)return this.us(e,i,d,y.size)})}).next(()=>h.result)}us(e,i,a,u){return a.documentReadCount<this.es?(as()<=Nt.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",ss(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(as()<=Nt.DEBUG&&et("QueryEngine","Query:",ss(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.ts*u?(as()<=Nt.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",ss(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(i))):Q.resolve())}rs(e,i){if(sy(i))return Q.resolve(null);let a=Jn(i);return this.indexManager.getIndexType(e,a).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Nf(i,null,"F"),a=Jn(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Dt(...h);return this.ns.getDocuments(e,d).next(y=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.cs(i,y);return this.ls(i,v,d,_.readTime)?this.rs(e,Nf(i,null,"F")):this.hs(e,v,i,_)}))})))}ss(e,i,a,u){return sy(i)||u.isEqual(mt.min())?Q.resolve(null):this.ns.getDocuments(e,a).next(h=>{const d=this.cs(i,h);return this.ls(i,d,a,u)?Q.resolve(null):(as()<=Nt.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ss(i)),this.hs(e,d,i,eA(u,Hl)).next(y=>y))})}cs(e,i){let a=new Se(R_(e));return i.forEach((u,h)=>{tc(e,h)&&(a=a.add(h))}),a}ls(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}_s(e,i,a){return as()<=Nt.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",ss(i)),this.ns.getDocumentsMatchingQuery(e,i,Ar.min(),a)}hs(e,i,a,u){return this.ns.getDocumentsMatchingQuery(e,a,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd="LocalStore",US=3e8;class xS{constructor(e,i,a,u){this.persistence=e,this.Ps=i,this.serializer=u,this.Ts=new Wt(bt),this.Is=new fa(h=>Zf(h),$f),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function zS(s,e,i,a){return new xS(s,e,i,a)}async function X_(s,e){const i=pt(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(h=>(u=h,i.As(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],y=[];let _=Dt();for(const v of u){d.push(v.batchId);for(const R of v.mutations)_=_.add(R.key)}for(const v of h){y.push(v.batchId);for(const R of v.mutations)_=_.add(R.key)}return i.localDocuments.getDocuments(a,_).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:y}))})})}function LS(s,e){const i=pt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(y,_,v,R){const M=v.batch,k=M.keys();let j=Q.resolve();return k.forEach($=>{j=j.next(()=>R.getEntry(_,$)).next(nt=>{const Z=v.docVersions.get($);qt(Z!==null),nt.version.compareTo(Z)<0&&(M.applyToRemoteDocument(nt,v),nt.isValidDocument()&&(nt.setReadTime(v.commitVersion),R.addEntry(nt)))})}),j.next(()=>y.mutationQueue.removeMutationBatch(_,M))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(y){let _=Dt();for(let v=0;v<y.mutationResults.length;++v)y.mutationResults[v].transformResults.length>0&&(_=_.add(y.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,u))})}function Z_(s){const e=pt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function BS(s,e){const i=pt(s),a=e.snapshotVersion;let u=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});u=i.Ts;const y=[];e.targetChanges.forEach((R,M)=>{const k=u.get(M);if(!k)return;y.push(i.Hr.removeMatchingKeys(h,R.removedDocuments,M).next(()=>i.Hr.addMatchingKeys(h,R.addedDocuments,M)));let j=k.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(M)!==null?j=j.withResumeToken(Be.EMPTY_BYTE_STRING,mt.min()).withLastLimboFreeSnapshotVersion(mt.min()):R.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(R.resumeToken,a)),u=u.insert(M,j),function(nt,Z,yt){return nt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=US?!0:yt.addedDocuments.size+yt.modifiedDocuments.size+yt.removedDocuments.size>0}(k,j,R)&&y.push(i.Hr.updateTargetData(h,j))});let _=Mi(),v=Dt();if(e.documentUpdates.forEach(R=>{e.resolvedLimboDocuments.has(R)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,R))}),y.push(PS(h,d,e.documentUpdates).next(R=>{_=R.Vs,v=R.fs})),!a.isEqual(mt.min())){const R=i.Hr.getLastRemoteSnapshotVersion(h).next(M=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,a));y.push(R)}return Q.waitFor(y).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ts=u,h))}function PS(s,e,i){let a=Dt(),u=Dt();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=Mi();return i.forEach((y,_)=>{const v=h.get(y);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(y)),_.isNoDocument()&&_.version.isEqual(mt.min())?(e.removeEntry(y,_.readTime),d=d.insert(y,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(y,_)):et(sd,"Ignoring outdated watch update for ",y,". Current version:",v.version," Watch version:",_.version)}),{Vs:d,fs:u}})}function kS(s,e){const i=pt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Yf),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function qS(s,e){const i=pt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.Hr.getTargetData(a,e).next(h=>h?(u=h,Q.resolve(u)):i.Hr.allocateTargetId(a).next(d=>(u=new yr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Hr.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.Ts.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(a.targetId,a),i.Is.set(e,a.targetId)),a})}async function Bf(s,e,i){const a=pt(s),u=a.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!As(d))throw d;et(sd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ts=a.Ts.remove(e),a.Is.delete(u.target)}function vy(s,e,i){const a=pt(s);let u=mt.min(),h=Dt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,R){const M=pt(_),k=M.Is.get(R);return k!==void 0?Q.resolve(M.Ts.get(k)):M.Hr.getTargetData(v,R)}(a,d,Jn(e)).next(y=>{if(y)return u=y.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(d,y.targetId).next(_=>{h=_})}).next(()=>a.Ps.getDocumentsMatchingQuery(d,e,i?u:mt.min(),i?h:Dt())).next(y=>(HS(a,CA(e),y),{documents:y,gs:h})))}function HS(s,e,i){let a=s.Es.get(e)||mt.min();i.forEach((u,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Es.set(e,a)}class Ey{constructor(){this.activeTargetIds=UA()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jS{constructor(){this.ho=new Ey,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,a){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Ey,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="ConnectivityMonitor";class Ay{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){et(Ty,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){et(Ty,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo=null;function Pf(){return bo===null?bo=function(){return 268435456+Math.round(2147483648*Math.random())}():bo++,"0x"+bo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf="RestConnection",QS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FS{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${a}/databases/${u}`,this.wo=this.databaseId.database===Lo?`project_id=${a}`:`project_id=${a}&database_id=${u}`}So(e,i,a,u,h){const d=Pf(),y=this.bo(e,i.toUriEncodedString());et(vf,`Sending RPC '${e}' ${d}:`,y,a);const _={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(_,u,h),this.vo(e,y,_,a).then(v=>(et(vf,`Received RPC '${e}' ${d}: `,v),v),v=>{throw fs(vf,`RPC '${e}' ${d} failed with error: `,v,"url: ",y,"request:",a),v})}Co(e,i,a,u,h,d){return this.So(e,i,a,u,h)}Do(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Es}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),a&&a.headers.forEach((u,h)=>e[h]=u)}bo(e,i){const a=QS[e];return`${this.po}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class KS extends FS{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,a,u){const h=Pf();return new Promise((d,y)=>{const _=new t_;_.setWithCredentials(!0),_.listenOnce(e_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case wo.NO_ERROR:const R=_.getResponseJson();et(He,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(R)),d(R);break;case wo.TIMEOUT:et(He,`RPC '${e}' ${h} timed out`),y(new ut(Y.DEADLINE_EXCEEDED,"Request time out"));break;case wo.HTTP_ERROR:const M=_.getStatus();if(et(He,`RPC '${e}' ${h} failed with status:`,M,"response text:",_.getResponseText()),M>0){let k=_.getResponseJson();Array.isArray(k)&&(k=k[0]);const j=k==null?void 0:k.error;if(j&&j.status&&j.message){const $=function(Z){const yt=Z.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(yt)>=0?yt:Y.UNKNOWN}(j.status);y(new ut($,j.message))}else y(new ut(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ut(Y.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{et(He,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(u);et(He,`RPC '${e}' ${h} sending request:`,u),_.send(i,"POST",v,a,15)})}Wo(e,i,a){const u=Pf(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=r_(),y=i_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Do(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const R=h.join("");et(He,`Creating RPC '${e}' stream ${u}: ${R}`,_);const M=d.createWebChannel(R,_);let k=!1,j=!1;const $=new YS({Fo:Z=>{j?et(He,`Not sending because RPC '${e}' stream ${u} is closed:`,Z):(k||(et(He,`Opening RPC '${e}' stream ${u} transport.`),M.open(),k=!0),et(He,`RPC '${e}' stream ${u} sending:`,Z),M.send(Z))},Mo:()=>M.close()}),nt=(Z,yt,dt)=>{Z.listen(yt,Tt=>{try{dt(Tt)}catch(Qt){setTimeout(()=>{throw Qt},0)}})};return nt(M,Il.EventType.OPEN,()=>{j||(et(He,`RPC '${e}' stream ${u} transport opened.`),$.Qo())}),nt(M,Il.EventType.CLOSE,()=>{j||(j=!0,et(He,`RPC '${e}' stream ${u} transport closed`),$.Uo())}),nt(M,Il.EventType.ERROR,Z=>{j||(j=!0,fs(He,`RPC '${e}' stream ${u} transport errored:`,Z),$.Uo(new ut(Y.UNAVAILABLE,"The operation could not be completed")))}),nt(M,Il.EventType.MESSAGE,Z=>{var yt;if(!j){const dt=Z.data[0];qt(!!dt);const Tt=dt,Qt=(Tt==null?void 0:Tt.error)||((yt=Tt[0])===null||yt===void 0?void 0:yt.error);if(Qt){et(He,`RPC '${e}' stream ${u} received error:`,Qt);const _t=Qt.status;let Ut=function(A){const D=de[A];if(D!==void 0)return L_(D)}(_t),N=Qt.message;Ut===void 0&&(Ut=Y.INTERNAL,N="Unknown error status: "+_t+" with message "+Qt.message),j=!0,$.Uo(new ut(Ut,N)),M.close()}else et(He,`RPC '${e}' stream ${u} received:`,dt),$.Ko(dt)}}),nt(y,n_.STAT_EVENT,Z=>{Z.stat===Df.PROXY?et(He,`RPC '${e}' stream ${u} detected buffering proxy`):Z.stat===Df.NOPROXY&&et(He,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{$.$o()},0),$}}function Ef(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(s){return new JA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,i,a=1e3,u=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=a,this.zo=u,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),u=Math.max(0,i-a);u>0&&et("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,u,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="PersistentStream";class J_{constructor(e,i,a,u,h,d,y,_){this.Ti=e,this.n_=a,this.r_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=_,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new $_(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(Ii(i.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.i_===i&&this.V_(a,u)},a=>{e(()=>{const u=new ut(Y.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(u)})})}V_(e,i){const a=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(u=>{a(()=>this.m_(u))}),this.stream.onMessage(u=>{a(()=>++this.__==1?this.g_(u):this.onNext(u))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return et(Sy,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(et(Sy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XS extends J_{constructor(e,i,a,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=eS(this.serializer,e),a=function(h){if(!("targetChange"in h))return mt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?mt.min():d.readTime?Wn(d.readTime):mt.min()}(e);return this.listener.p_(i,a)}y_(e){const i={};i.database=Lf(this.serializer),i.addTarget=function(h,d){let y;const _=d.target;if(y=Mf(_)?{documents:rS(h,_)}:{query:aS(h,_).ht},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=k_(h,d.resumeToken);const v=Uf(h,d.expectedCount);v!==null&&(y.expectedCount=v)}else if(d.snapshotVersion.compareTo(mt.min())>0){y.readTime=jo(h,d.snapshotVersion.toTimestamp());const v=Uf(h,d.expectedCount);v!==null&&(y.expectedCount=v)}return y}(this.serializer,e);const a=lS(this.serializer,e);a&&(i.labels=a),this.I_(i)}w_(e){const i={};i.database=Lf(this.serializer),i.removeTarget=e,this.I_(i)}}class ZS extends J_{constructor(e,i,a,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return qt(!!e.streamToken),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=iS(e.writeResults,e.commitTime),a=Wn(e.commitTime);return this.listener.v_(a,i)}C_(){const e={};e.database=Lf(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>nS(this.serializer,a))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{}class JS extends $S{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.F_=!1}M_(){if(this.F_)throw new ut(Y.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,a,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,xf(i,a),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut(Y.UNKNOWN,h.toString())})}Co(e,i,a,u,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,y])=>this.connection.Co(e,xf(i,a),u,d,y,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(Y.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class WS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ii(i),this.N_=!1):et("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="RemoteStore";class t1{constructor(e,i,a,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{a.enqueueAndForget(async()=>{ma(this)&&(et(ca,"Restarting streams for network reachability change."),await async function(_){const v=pt(_);v.W_.add(4),await Zl(v),v.j_.set("Unknown"),v.W_.delete(4),await ac(v)}(this))})}),this.j_=new WS(a,u)}}async function ac(s){if(ma(s))for(const e of s.G_)await e(!0)}async function Zl(s){for(const e of s.G_)await e(!1)}function W_(s,e){const i=pt(s);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),cd(i)?od(i):Ss(i).c_()&&ud(i,e))}function ld(s,e){const i=pt(s),a=Ss(i);i.K_.delete(e),a.c_()&&tv(i,e),i.K_.size===0&&(a.c_()?a.P_():ma(i)&&i.j_.set("Unknown"))}function ud(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(mt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ss(s).y_(e)}function tv(s,e){s.H_.Ne(e),Ss(s).w_(e)}function od(s){s.H_=new KA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.K_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Ss(s).start(),s.j_.B_()}function cd(s){return ma(s)&&!Ss(s).u_()&&s.K_.size>0}function ma(s){return pt(s).W_.size===0}function ev(s){s.H_=void 0}async function e1(s){s.j_.set("Online")}async function n1(s){s.K_.forEach((e,i)=>{ud(s,e)})}async function i1(s,e){ev(s),cd(s)?(s.j_.q_(e),od(s)):s.j_.set("Unknown")}async function r1(s,e,i){if(s.j_.set("Online"),e instanceof P_&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const y of h.targetIds)u.K_.has(y)&&(await u.remoteSyncer.rejectListen(y,d),u.K_.delete(y),u.H_.removeTarget(y))}(s,e)}catch(a){et(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Qo(s,a)}else if(e instanceof Oo?s.H_.We(e):e instanceof B_?s.H_.Ze(e):s.H_.je(e),!i.isEqual(mt.min()))try{const a=await Z_(s.localStore);i.compareTo(a)>=0&&await function(h,d){const y=h.H_.ot(d);return y.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const R=h.K_.get(v);R&&h.K_.set(v,R.withResumeToken(_.resumeToken,d))}}),y.targetMismatches.forEach((_,v)=>{const R=h.K_.get(_);if(!R)return;h.K_.set(_,R.withResumeToken(Be.EMPTY_BYTE_STRING,R.snapshotVersion)),tv(h,_);const M=new yr(R.target,_,v,R.sequenceNumber);ud(h,M)}),h.remoteSyncer.applyRemoteEvent(y)}(s,i)}catch(a){et(ca,"Failed to raise snapshot:",a),await Qo(s,a)}}async function Qo(s,e,i){if(!As(e))throw e;s.W_.add(1),await Zl(s),s.j_.set("Offline"),i||(i=()=>Z_(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{et(ca,"Retrying IndexedDB access"),await i(),s.W_.delete(1),await ac(s)})}function nv(s,e){return e().catch(i=>Qo(s,i,e))}async function sc(s){const e=pt(s),i=wr(e);let a=e.U_.length>0?e.U_[e.U_.length-1].batchId:Yf;for(;a1(e);)try{const u=await kS(e.localStore,a);if(u===null){e.U_.length===0&&i.P_();break}a=u.batchId,s1(e,u)}catch(u){await Qo(e,u)}iv(e)&&rv(e)}function a1(s){return ma(s)&&s.U_.length<10}function s1(s,e){s.U_.push(e);const i=wr(s);i.c_()&&i.S_&&i.b_(e.mutations)}function iv(s){return ma(s)&&!wr(s).u_()&&s.U_.length>0}function rv(s){wr(s).start()}async function l1(s){wr(s).C_()}async function u1(s){const e=wr(s);for(const i of s.U_)e.b_(i.mutations)}async function o1(s,e,i){const a=s.U_.shift(),u=td.from(a,e,i);await nv(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await sc(s)}async function c1(s,e){e&&wr(s).S_&&await async function(a,u){if(function(d){return FA(d)&&d!==Y.ABORTED}(u.code)){const h=a.U_.shift();wr(a).h_(),await nv(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,u)),await sc(a)}}(s,e),iv(s)&&rv(s)}async function by(s,e){const i=pt(s);i.asyncQueue.verifyOperationInProgress(),et(ca,"RemoteStore received new credentials");const a=ma(i);i.W_.add(3),await Zl(i),a&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await ac(i)}async function h1(s,e){const i=pt(s);e?(i.W_.delete(2),await ac(i)):e||(i.W_.add(2),await Zl(i),i.j_.set("Unknown"))}function Ss(s){return s.J_||(s.J_=function(i,a,u){const h=pt(i);return h.M_(),new XS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:e1.bind(null,s),No:n1.bind(null,s),Lo:i1.bind(null,s),p_:r1.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),cd(s)?od(s):s.j_.set("Unknown")):(await s.J_.stop(),ev(s))})),s.J_}function wr(s){return s.Y_||(s.Y_=function(i,a,u){const h=pt(i);return h.M_(),new ZS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:l1.bind(null,s),Lo:c1.bind(null,s),D_:u1.bind(null,s),v_:o1.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await sc(s)):(await s.Y_.stop(),s.U_.length>0&&(et(ca,`Stopping write stream with ${s.U_.length} pending writes`),s.U_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,i,a,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=h,this.deferred=new ua,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,h){const d=Date.now()+a,y=new hd(e,i,d,u,h);return y.start(a),y}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fd(s,e){if(Ii("AsyncQueue",`${e}: ${s}`),As(s))return new ut(Y.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{static emptySet(e){return new cs(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ot.comparator(i.key,a.key):(i,a)=>ot.comparator(i.key,a.key),this.keyedMap=Ml(),this.sortedSet=new Wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof cs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new cs;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(){this.Z_=new Wt(ot.comparator)}track(e){const i=e.doc.key,a=this.Z_.get(i);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(i):e.type===1&&a.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):ft():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,a)=>{e.push(a)}),e}}class ys{constructor(e,i,a,u,h,d,y,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,u,h){const d=[];return i.forEach(y=>{d.push({type:0,doc:y})}),new ys(e,i,cs.emptySet(i),d,a,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class d1{constructor(){this.queries=wy(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,a){const u=pt(i),h=u.queries;u.queries=wy(),h.forEach((d,y)=>{for(const _ of y.ta)_.onError(a)})})(this,new ut(Y.ABORTED,"Firestore shutting down"))}}function wy(){return new fa(s=>b_(s),Wo)}async function m1(s,e){const i=pt(s);let a=3;const u=e.query;let h=i.queries.get(u);h?!h.na()&&e.ra()&&(a=2):(h=new f1,a=e.ra()?0:1);try{switch(a){case 0:h.ea=await i.onListen(u,!0);break;case 1:h.ea=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const y=fd(d,`Initialization of query '${ss(e.query)}' failed`);return void e.onError(y)}i.queries.set(u,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&dd(i)}async function g1(s,e){const i=pt(s),a=e.query;let u=3;const h=i.queries.get(a);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?u=e.ra()?0:1:!h.na()&&e.ra()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function p1(s,e){const i=pt(s);let a=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const y of d.ta)y.oa(u)&&(a=!0);d.ea=u}}a&&dd(i)}function y1(s,e,i){const a=pt(s),u=a.queries.get(e);if(u)for(const h of u.ta)h.onError(i);a.queries.delete(e)}function dd(s){s.ia.forEach(e=>{e.next()})}var kf,Dy;(Dy=kf||(kf={}))._a="default",Dy.Cache="cache";class _1{constructor(e,i,a){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new ys(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const a=i!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=ys.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==kf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e){this.key=e}}class sv{constructor(e){this.key=e}}class v1{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Dt(),this.mutatedKeys=Dt(),this.ya=R_(e),this.wa=new cs(this.ya)}get Sa(){return this.fa}ba(e,i){const a=i?i.Da:new Ry,u=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,y=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((R,M)=>{const k=u.get(R),j=tc(this.query,M)?M:null,$=!!k&&this.mutatedKeys.has(k.key),nt=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Z=!1;k&&j?k.data.isEqual(j.data)?$!==nt&&(a.track({type:3,doc:j}),Z=!0):this.va(k,j)||(a.track({type:2,doc:j}),Z=!0,(_&&this.ya(j,_)>0||v&&this.ya(j,v)<0)&&(y=!0)):!k&&j?(a.track({type:0,doc:j}),Z=!0):k&&!j&&(a.track({type:1,doc:k}),Z=!0,(_||v)&&(y=!0)),Z&&(j?(d=d.add(j),h=nt?h.add(R):h.delete(R)):(d=d.delete(R),h=h.delete(R)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const R=this.query.limitType==="F"?d.last():d.first();d=d.delete(R.key),h=h.delete(R.key),a.track({type:1,doc:R})}return{wa:d,Da:a,ls:y,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((R,M)=>function(j,$){const nt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return nt(j)-nt($)}(R.type,M.type)||this.ya(R.doc,M.doc)),this.Ca(a),u=u!=null&&u;const y=i&&!u?this.Fa():[],_=this.pa.size===0&&this.current&&!u?1:0,v=_!==this.ga;return this.ga=_,d.length!==0||v?{snapshot:new ys(this.query,e.wa,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:y}:{Ma:y}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Ry,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Dt(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const i=[];return e.forEach(a=>{this.pa.has(a)||i.push(new sv(a))}),this.pa.forEach(a=>{e.has(a)||i.push(new av(a))}),i}Oa(e){this.fa=e.gs,this.pa=Dt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return ys.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const md="SyncEngine";class E1{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class T1{constructor(e){this.key=e,this.Ba=!1}}class A1{constructor(e,i,a,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new fa(y=>b_(y),Wo),this.qa=new Map,this.Qa=new Set,this.$a=new Wt(ot.comparator),this.Ua=new Map,this.Ka=new id,this.Wa={},this.Ga=new Map,this.za=ps.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function S1(s,e,i=!0){const a=fv(s);let u;const h=a.ka.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.Na()):u=await lv(a,e,i,!0),u}async function b1(s,e){const i=fv(s);await lv(i,e,!0,!1)}async function lv(s,e,i,a){const u=await qS(s.localStore,Jn(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let y;return a&&(y=await R1(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&W_(s.remoteStore,u),y}async function R1(s,e,i,a,u){s.Ha=(M,k,j)=>async function(nt,Z,yt,dt){let Tt=Z.view.ba(yt);Tt.ls&&(Tt=await vy(nt.localStore,Z.query,!1).then(({documents:N})=>Z.view.ba(N,Tt)));const Qt=dt&&dt.targetChanges.get(Z.targetId),_t=dt&&dt.targetMismatches.get(Z.targetId)!=null,Ut=Z.view.applyChanges(Tt,nt.isPrimaryClient,Qt,_t);return Vy(nt,Z.targetId,Ut.Ma),Ut.snapshot}(s,M,k,j);const h=await vy(s.localStore,e,!0),d=new v1(e,h.gs),y=d.ba(h.documents),_=Xl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",u),v=d.applyChanges(y,s.isPrimaryClient,_);Vy(s,i,v.Ma);const R=new E1(e,i,d);return s.ka.set(e,R),s.qa.has(i)?s.qa.get(i).push(e):s.qa.set(i,[e]),v.snapshot}async function w1(s,e,i){const a=pt(s),u=a.ka.get(e),h=a.qa.get(u.targetId);if(h.length>1)return a.qa.set(u.targetId,h.filter(d=>!Wo(d,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await Bf(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&ld(a.remoteStore,u.targetId),qf(a,u.targetId)}).catch(Ts)):(qf(a,u.targetId),await Bf(a.localStore,u.targetId,!0))}async function D1(s,e){const i=pt(s),a=i.ka.get(e),u=i.qa.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ld(i.remoteStore,a.targetId))}async function C1(s,e,i){const a=x1(s);try{const u=await function(d,y){const _=pt(d),v=Ae.now(),R=y.reduce((j,$)=>j.add($.key),Dt());let M,k;return _.persistence.runTransaction("Locally write mutations","readwrite",j=>{let $=Mi(),nt=Dt();return _.ds.getEntries(j,R).next(Z=>{$=Z,$.forEach((yt,dt)=>{dt.isValidDocument()||(nt=nt.add(yt))})}).next(()=>_.localDocuments.getOverlayedDocuments(j,$)).next(Z=>{M=Z;const yt=[];for(const dt of y){const Tt=qA(dt,M.get(dt.key).overlayedDocument);Tt!=null&&yt.push(new da(dt.key,Tt,y_(Tt.value.mapValue),Vi.exists(!0)))}return _.mutationQueue.addMutationBatch(j,v,yt,y)}).next(Z=>{k=Z;const yt=Z.applyToLocalDocumentSet(M,nt);return _.documentOverlayCache.saveOverlays(j,Z.batchId,yt)})}).then(()=>({batchId:k.batchId,changes:D_(M)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),function(d,y,_){let v=d.Wa[d.currentUser.toKey()];v||(v=new Wt(bt)),v=v.insert(y,_),d.Wa[d.currentUser.toKey()]=v}(a,u.batchId,i),await $l(a,u.changes),await sc(a.remoteStore)}catch(u){const h=fd(u,"Failed to persist write");i.reject(h)}}async function uv(s,e){const i=pt(s);try{const a=await BS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Ua.get(h);d&&(qt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?d.Ba=!0:u.modifiedDocuments.size>0?qt(d.Ba):u.removedDocuments.size>0&&(qt(d.Ba),d.Ba=!1))}),await $l(i,a,e)}catch(a){await Ts(a)}}function Cy(s,e,i){const a=pt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.ka.forEach((h,d)=>{const y=d.view.sa(e);y.snapshot&&u.push(y.snapshot)}),function(d,y){const _=pt(d);_.onlineState=y;let v=!1;_.queries.forEach((R,M)=>{for(const k of M.ta)k.sa(y)&&(v=!0)}),v&&dd(_)}(a.eventManager,e),u.length&&a.La.p_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function V1(s,e,i){const a=pt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.Ua.get(e),h=u&&u.key;if(h){let d=new Wt(ot.comparator);d=d.insert(h,Ge.newNoDocument(h,mt.min()));const y=Dt().add(h),_=new ic(mt.min(),new Map,new Wt(bt),d,y);await uv(a,_),a.$a=a.$a.remove(h),a.Ua.delete(e),gd(a)}else await Bf(a.localStore,e,!1).then(()=>qf(a,e,i)).catch(Ts)}async function O1(s,e){const i=pt(s),a=e.batch.batchId;try{const u=await LS(i.localStore,e);cv(i,a,null),ov(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await $l(i,u)}catch(u){await Ts(u)}}async function I1(s,e,i){const a=pt(s);try{const u=await function(d,y){const _=pt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let R;return _.mutationQueue.lookupMutationBatch(v,y).next(M=>(qt(M!==null),R=M.keys(),_.mutationQueue.removeMutationBatch(v,M))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,R,y)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,R)).next(()=>_.localDocuments.getDocuments(v,R))})}(a.localStore,e);cv(a,e,i),ov(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await $l(a,u)}catch(u){await Ts(u)}}function ov(s,e){(s.Ga.get(e)||[]).forEach(i=>{i.resolve()}),s.Ga.delete(e)}function cv(s,e,i){const a=pt(s);let u=a.Wa[a.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),a.Wa[a.currentUser.toKey()]=u}}function qf(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.qa.get(e))s.ka.delete(a),i&&s.La.Ja(a,i);s.qa.delete(e),s.isPrimaryClient&&s.Ka.br(e).forEach(a=>{s.Ka.containsKey(a)||hv(s,a)})}function hv(s,e){s.Qa.delete(e.path.canonicalString());const i=s.$a.get(e);i!==null&&(ld(s.remoteStore,i),s.$a=s.$a.remove(e),s.Ua.delete(i),gd(s))}function Vy(s,e,i){for(const a of i)a instanceof av?(s.Ka.addReference(a.key,e),M1(s,a)):a instanceof sv?(et(md,"Document no longer in limbo: "+a.key),s.Ka.removeReference(a.key,e),s.Ka.containsKey(a.key)||hv(s,a.key)):ft()}function M1(s,e){const i=e.key,a=i.path.canonicalString();s.$a.get(i)||s.Qa.has(a)||(et(md,"New document in limbo: "+i),s.Qa.add(a),gd(s))}function gd(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const i=new ot(Xt.fromString(e)),a=s.za.next();s.Ua.set(a,new T1(i)),s.$a=s.$a.insert(i,a),W_(s.remoteStore,new yr(Jn(Jf(i.path)),a,"TargetPurposeLimboResolution",Xo.ae))}}async function $l(s,e,i){const a=pt(s),u=[],h=[],d=[];a.ka.isEmpty()||(a.ka.forEach((y,_)=>{d.push(a.Ha(_,e,i).then(v=>{var R;if((v||i)&&a.isPrimaryClient){const M=v?!v.fromCache:(R=i==null?void 0:i.targetChanges.get(_.targetId))===null||R===void 0?void 0:R.current;a.sharedClientState.updateQueryState(_.targetId,M?"current":"not-current")}if(v){u.push(v);const M=ad.Yi(_.targetId,v);h.push(M)}}))}),await Promise.all(d),a.La.p_(u),await async function(_,v){const R=pt(_);try{await R.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>Q.forEach(v,k=>Q.forEach(k.Hi,j=>R.persistence.referenceDelegate.addReference(M,k.targetId,j)).next(()=>Q.forEach(k.Ji,j=>R.persistence.referenceDelegate.removeReference(M,k.targetId,j)))))}catch(M){if(!As(M))throw M;et(sd,"Failed to update sequence numbers: "+M)}for(const M of v){const k=M.targetId;if(!M.fromCache){const j=R.Ts.get(k),$=j.snapshotVersion,nt=j.withLastLimboFreeSnapshotVersion($);R.Ts=R.Ts.insert(k,nt)}}}(a.localStore,h))}async function N1(s,e){const i=pt(s);if(!i.currentUser.isEqual(e)){et(md,"User change. New user:",e.toKey());const a=await X_(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(y=>{y.forEach(_=>{_.reject(new ut(Y.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await $l(i,a.Rs)}}function U1(s,e){const i=pt(s),a=i.Ua.get(e);if(a&&a.Ba)return Dt().add(a.key);{let u=Dt();const h=i.qa.get(e);if(!h)return u;for(const d of h){const y=i.ka.get(d);u=u.unionWith(y.view.Sa)}return u}}function fv(s){const e=pt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=uv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=V1.bind(null,e),e.La.p_=p1.bind(null,e.eventManager),e.La.Ja=y1.bind(null,e.eventManager),e}function x1(s){const e=pt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I1.bind(null,e),e}class Fo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return zS(this.persistence,new NS,e.initialUser,this.serializer)}Xa(e){return new K_(rd.ri,this.serializer)}Za(e){return new jS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fo.provider={build:()=>new Fo};class z1 extends Fo{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){qt(this.persistence.referenceDelegate instanceof Go);const a=this.persistence.referenceDelegate.garbageCollector;return new _S(a,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new K_(a=>Go.ri(a,i),this.serializer)}}class Hf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Cy(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=N1.bind(null,this.syncEngine),await h1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new d1}()}createDatastore(e){const i=rc(e.databaseInfo.databaseId),a=function(h){return new KS(h)}(e.databaseInfo);return function(h,d,y,_){return new JS(h,d,y,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,u,h,d,y){return new t1(a,u,h,d,y)}(this.localStore,this.datastore,e.asyncQueue,i=>Cy(this.syncEngine,i,0),function(){return Ay.D()?new Ay:new GS}())}createSyncEngine(e,i){return function(u,h,d,y,_,v,R){const M=new A1(u,h,d,y,_,v);return R&&(M.ja=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=pt(u);et(ca,"RemoteStore shutting down."),h.W_.add(5),await Zl(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Hf.provider={build:()=>new Hf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="FirestoreClient";class B1{constructor(e,i,a,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=je.UNAUTHENTICATED,this.clientId=l_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{et(Dr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(et(Dr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ua;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=fd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Tf(s,e){s.asyncQueue.verifyOperationInProgress(),et(Dr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async u=>{a.isEqual(u)||(await X_(e.localStore,u),a=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function Oy(s,e){s.asyncQueue.verifyOperationInProgress();const i=await P1(s);et(Dr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>by(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,u)=>by(e.remoteStore,u)),s._onlineComponents=e}async function P1(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){et(Dr,"Using user provided OfflineComponentProvider");try{await Tf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===Y.FAILED_PRECONDITION||u.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;fs("Error using user provided cache. Falling back to memory cache: "+i),await Tf(s,new Fo)}}else et(Dr,"Using default OfflineComponentProvider"),await Tf(s,new z1(void 0));return s._offlineComponents}async function dv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(et(Dr,"Using user provided OnlineComponentProvider"),await Oy(s,s._uninitializedComponentsProvider._online)):(et(Dr,"Using default OnlineComponentProvider"),await Oy(s,new Hf))),s._onlineComponents}function k1(s){return dv(s).then(e=>e.syncEngine)}async function Iy(s){const e=await dv(s),i=e.eventManager;return i.onListen=S1.bind(null,e.syncEngine),i.onUnlisten=w1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=b1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=D1.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(s,e,i){if(!i)throw new ut(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function q1(s,e,i,a){if(e===!0&&a===!0)throw new ut(Y.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Ny(s){if(!ot.isDocumentKey(s))throw new ut(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Uy(s){if(ot.isDocumentKey(s))throw new ut(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function pd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ft()}function Pl(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ut(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=pd(s);throw new ut(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="firestore.googleapis.com",xy=!0;class zy{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new ut(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pv,this.ssl=xy}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:xy;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Y_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pS)throw new ut(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mv((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ut(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ut(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ut(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,u){return a.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lc{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new FT;switch(a.type){case"firstParty":return new ZT(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=My.get(i);a&&(et("ComponentProvider","Removing Datastore"),My.delete(i),a.terminate())}(this),Promise.resolve()}}function H1(s,e,i,a={}){var u;const h=(s=Pl(s,lc))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:s._getEmulatorOptions()}),y=`${e}:${i}`;h.host!==pv&&h.host!==y&&fs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},h),{host:y,ssl:!1,emulatorOptions:a});if(!No(_,d)&&(s._setSettings(_),a.mockUserToken)){let v,R;if(typeof a.mockUserToken=="string")v=a.mockUserToken,R=je.MOCK_USER;else{v=S0(a.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const M=a.mockUserToken.sub||a.mockUserToken.user_id;if(!M)throw new ut(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new je(M)}s._authCredentials=new YT(new a_(v,R))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new uc(this.firestore,e,this._query)}}class Dn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dn(this.firestore,e,this._key)}}class Tr extends uc{constructor(e,i,a){super(e,i,Jf(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new ot(e))}withConverter(e){return new Tr(this.firestore,e,this._path)}}function Ly(s,e,...i){if(s=hs(s),gv("collection","path",e),s instanceof lc){const a=Xt.fromString(e,...i);return Uy(a),new Tr(s,null,a)}{if(!(s instanceof Dn||s instanceof Tr))throw new ut(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Xt.fromString(e,...i));return Uy(a),new Tr(s.firestore,null,a)}}function j1(s,e,...i){if(s=hs(s),arguments.length===1&&(e=l_.newId()),gv("doc","path",e),s instanceof lc){const a=Xt.fromString(e,...i);return Ny(a),new Dn(s,null,new ot(a))}{if(!(s instanceof Dn||s instanceof Tr))throw new ut(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Xt.fromString(e,...i));return Ny(a),new Dn(s.firestore,s instanceof Tr?s.converter:null,new ot(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="AsyncQueue";class Py{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new $_(this,"async_queue_retry"),this.Su=()=>{const a=Ef();a&&et(By,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=e;const i=Ef();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Ef();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new ua;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!As(e))throw e;et(By,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const u=function(d){let y=d.message||"";return d.stack&&(y=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),y}(a);throw Ii("INTERNAL UNHANDLED ERROR: ",u),a}).then(a=>(this.pu=!1,a))));return this.bu=i,i}enqueueAfterDelay(e,i,a){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const u=hd.createAndSchedule(this,e,i,a,h=>this.Fu(h));return this.fu.push(u),u}Du(){this.gu&&ft()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}function ky(s){return function(i,a){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of a)if(h in u&&typeof u[h]=="function")return!0;return!1}(s,["next","error","complete"])}class Yo extends lc{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new Py,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Py(e),this._firestoreClient=void 0,await e}}}function G1(s,e){const i=typeof s=="object"?s:NT(),a=typeof s=="string"?s:Lo,u=CT(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const h=T0("firestore");h&&H1(u,...h)}return u}function yv(s){if(s._terminated)throw new ut(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Q1(s),s._firestoreClient}function Q1(s){var e,i,a;const u=s._freezeSettings(),h=function(y,_,v,R){return new hA(y,_,v,R.host,R.ssl,R.experimentalForceLongPolling,R.experimentalAutoDetectLongPolling,mv(R.experimentalLongPollingOptions),R.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=u.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new B1(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(y){const _=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _s(Be.fromBase64String(e))}catch(i){throw new ut(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new _s(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Le(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,u){if(a.length!==u.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=/^__.*__$/;class Y1{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new da(e,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(e,this.data,i,this.fieldTransforms)}}function vv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class Ed{constructor(e,i,a,u,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Ed(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:a,Qu:!1});return u.$u(e),u}Uu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:a,Qu:!1});return u.Bu(),u}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Ko(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(vv(this.Lu)&&F1.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class K1{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||rc(e)}ju(e,i,a,u=!1){return new Ed({Lu:e,methodName:i,zu:a,path:Le.emptyPath(),Qu:!1,Gu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function X1(s){const e=s._freezeSettings(),i=rc(s._databaseId);return new K1(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Z1(s,e,i,a,u,h={}){const d=s.ju(h.merge||h.mergeFields?2:0,e,i,u);Sv("Data must be an object, but it was:",d,a);const y=Tv(a,d);let _,v;if(h.merge)_=new Un(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const R=[];for(const M of h.mergeFields){const k=$1(e,M,i);if(!d.contains(k))throw new ut(Y.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);W1(R,k)||R.push(k)}_=new Un(R),v=d.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,v=d.fieldTransforms;return new Y1(new wn(y),_,v)}function Ev(s,e){if(Av(s=hs(s)))return Sv("Unsupported field value:",e,s),Tv(s,e);if(s instanceof _v)return function(a,u){if(!vv(u.Lu))throw u.Wu(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Wu(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,u){const h=[];let d=0;for(const y of a){let _=Ev(y,u.Ku(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,u){if((a=hs(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return xA(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Ae.fromDate(a);return{timestampValue:jo(u.serializer,h)}}if(a instanceof Ae){const h=new Ae(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:jo(u.serializer,h)}}if(a instanceof _d)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof _s)return{bytesValue:k_(u.serializer,a._byteString)};if(a instanceof Dn){const h=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw u.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:nd(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof vd)return function(d,y){return{mapValue:{fields:{[g_]:{stringValue:p_},[Bo]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw y.Wu("VectorValues must only contain numeric values.");return Wf(y.serializer,v)})}}}}}}(a,u);throw u.Wu(`Unsupported field value: ${pd(a)}`)}(s,e)}function Tv(s,e){const i={};return o_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ha(s,(a,u)=>{const h=Ev(u,e.qu(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function Av(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ae||s instanceof _d||s instanceof _s||s instanceof Dn||s instanceof _v||s instanceof vd)}function Sv(s,e,i){if(!Av(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const a=pd(i);throw a==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+a)}}function $1(s,e,i){if((e=hs(e))instanceof yd)return e._internalPath;if(typeof e=="string")return bv(s,e);throw Ko("Field path arguments must be of type string or ",s,!1,void 0,i)}const J1=new RegExp("[~\\*/\\[\\]]");function bv(s,e,i){if(e.search(J1)>=0)throw Ko(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new yd(...e.split("."))._internalPath}catch{throw Ko(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Ko(s,e,i,a,u){const h=a&&!a.isEmpty(),d=u!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${u}`),_+=")"),new ut(Y.INVALID_ARGUMENT,y+s+_)}function W1(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,i,a,u,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(wv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class tb extends Rv{data(){return super.data()}}function wv(s,e){return typeof e=="string"?bv(s,e):e instanceof yd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ut(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nb{convertValue(e,i="none"){switch(Rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ft()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return ha(e,(u,h)=>{a[u]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,u;const h=(u=(a=(i=e.fields)===null||i===void 0?void 0:i[Bo].arrayValue)===null||a===void 0?void 0:a.values)===null||u===void 0?void 0:u.map(d=>le(d.doubleValue));return new vd(h)}convertGeoPoint(e){return new _d(le(e.latitude),le(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=$o(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(jl(e));default:return null}}convertTimestamp(e){const i=Sr(e);return new Ae(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Xt.fromString(e);qt(F_(a));const u=new Gl(a.get(1),a.get(3)),h=new ot(a.popFirst(5));return u.isEqual(i)||Ii(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(s,e,i){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dv extends Rv{constructor(e,i,a,u,h,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Io(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(wv("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Io extends Dv{data(e={}){return super.data(e)}}class rb{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Ul(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Io(this._firestore,this._userDataWriter,a.key,a,new Ul(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(y=>{const _=new Io(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Ul(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);return y.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(y=>h||y.type!==3).map(y=>{const _=new Io(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Ul(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,R=-1;return y.type!==0&&(v=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),R=d.indexOf(y.doc.key)),{type:ab(y.type),doc:_,oldIndex:v,newIndex:R}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function ab(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}class Cv extends nb{constructor(e){super(),this.firestore=e}convertBytes(e){return new _s(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,i)}}function sb(s,e){const i=Pl(s.firestore,Yo),a=j1(s),u=ib(s.converter,e);return ub(i,[Z1(X1(s.firestore),"addDoc",a._key,u,s.converter!==null,{}).toMutation(a._key,Vi.exists(!1))]).then(()=>a)}function lb(s,...e){var i,a,u;s=hs(s);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||ky(e[d])||(h=e[d],d++);const y={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(ky(e[d])){const M=e[d];e[d]=(i=M.next)===null||i===void 0?void 0:i.bind(M),e[d+1]=(a=M.error)===null||a===void 0?void 0:a.bind(M),e[d+2]=(u=M.complete)===null||u===void 0?void 0:u.bind(M)}let _,v,R;if(s instanceof Dn)v=Pl(s.firestore,Yo),R=Jf(s._key.path),_={next:M=>{e[d]&&e[d](ob(v,s,M))},error:e[d+1],complete:e[d+2]};else{const M=Pl(s,uc);v=Pl(M.firestore,Yo),R=M._query;const k=new Cv(v);_={next:j=>{e[d]&&e[d](new rb(v,k,M,j))},error:e[d+1],complete:e[d+2]},eb(s._query)}return function(k,j,$,nt){const Z=new L1(nt),yt=new _1(j,Z,$);return k.asyncQueue.enqueueAndForget(async()=>m1(await Iy(k),yt)),()=>{Z.su(),k.asyncQueue.enqueueAndForget(async()=>g1(await Iy(k),yt))}}(yv(v),R,y,_)}function ub(s,e){return function(a,u){const h=new ua;return a.asyncQueue.enqueueAndForget(async()=>C1(await k1(a),u,h)),h.promise}(yv(s),e)}function ob(s,e,i){const a=i.docs.get(e._key),u=new Cv(s);return new Dv(s,u,e._key,a,new Ul(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){Es=u})(MT),xo(new kl("firestore",(a,{instanceIdentifier:u,options:h})=>{const d=a.getProvider("app").getImmediate(),y=new Yo(new KT(a.getProvider("auth-internal")),new $T(d,a.getProvider("app-check-internal")),function(v,R){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ut(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(v.options.projectId,R)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),y._setSettings(h),y},"PUBLIC").setMultipleInstances(!0)),os(jp,Gp,e),os(jp,Gp,"esm2017")})();const cb={apiKey:"AIzaSyBTwQvhGe79W3Lx3WGfGe0it8yyghVnWXc",authDomain:"retro-app-a95ca.firebaseapp.com",projectId:"retro-app-a95ca",storageBucket:"retro-app-a95ca.firebasestorage.app",messagingSenderId:"9788879482",appId:"1:9788879482:web:6ada9a09c50149baa701c3"},hb=Zy(cb),qy=G1(hb),fb=()=>{const[s,e]=Ro.useState([]),[i,a]=Ro.useState("");Ro.useEffect(()=>{const h=lb(Ly(qy,"retro-items"),d=>{const y=d.docs.map(_=>_.data().text);e(y)});return()=>h()},[]);const u=async()=>{i.trim()&&(await sb(Ly(qy,"retro-items"),{text:i}),a(""))};return pr.jsxs("div",{children:[pr.jsx("h1",{children:"Retro Board"}),pr.jsx("input",{type:"text",value:i,onChange:h=>a(h.target.value),placeholder:"Write a note..."}),pr.jsx("button",{onClick:u,disabled:!i.trim(),children:"Send"}),pr.jsx("ul",{children:s.map((h,d)=>pr.jsx("li",{children:h},d))})]})};c0.createRoot(document.getElementById("root")).render(pr.jsx(n0.StrictMode,{children:pr.jsx(fb,{})}));
