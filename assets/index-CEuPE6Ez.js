(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();function m_(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var df={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function w0(){if(Gp)return Il;Gp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var p in u)p!=="key"&&(h[p]=u[p])}else h=u;return u=h.ref,{$$typeof:s,type:a,key:d,ref:u!==void 0?u:null,props:h}}return Il.Fragment=e,Il.jsx=i,Il.jsxs=i,Il}var Qp;function D0(){return Qp||(Qp=1,df.exports=w0()),df.exports}var Fp=D0(),mf={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function C0(){if(Yp)return vt;Yp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),V=Symbol.iterator;function q(D){return D===null||typeof D!="object"?null:(D=V&&D[V]||D["@@iterator"],typeof D=="function"?D:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,nt={};function $(D,X,et){this.props=D,this.context=X,this.refs=nt,this.updater=et||Y}$.prototype.isReactComponent={},$.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},$.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Et(){}Et.prototype=$.prototype;function Tt(D,X,et){this.props=D,this.context=X,this.refs=nt,this.updater=et||Y}var gt=Tt.prototype=new Et;gt.constructor=Tt,W(gt,$.prototype),gt.isPureReactComponent=!0;var Pt=Array.isArray,_t={H:null,A:null,T:null,S:null,V:null},xt=Object.prototype.hasOwnProperty;function O(D,X,et,Z,ot,bt){return et=bt.ref,{$$typeof:s,type:D,key:X,ref:et!==void 0?et:null,props:bt}}function S(D,X){return O(D.type,X,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function I(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(et){return X[et]})}var N=/\/+/g;function U(D,X){return typeof D=="object"&&D!==null&&D.key!=null?I(""+D.key):X.toString(36)}function R(){}function Ie(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(X){D.status==="pending"&&(D.status="fulfilled",D.value=X)},function(X){D.status==="pending"&&(D.status="rejected",D.reason=X)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ne(D,X,et,Z,ot){var bt=typeof D;(bt==="undefined"||bt==="boolean")&&(D=null);var mt=!1;if(D===null)mt=!0;else switch(bt){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(D.$$typeof){case s:case e:mt=!0;break;case A:return mt=D._init,ne(mt(D._payload),X,et,Z,ot)}}if(mt)return ot=ot(D),mt=Z===""?"."+U(D,0):Z,Pt(ot)?(et="",mt!=null&&(et=mt.replace(N,"$&/")+"/"),ne(ot,X,et,"",function(Nn){return Nn})):ot!=null&&(w(ot)&&(ot=S(ot,et+(ot.key==null||D&&D.key===ot.key?"":(""+ot.key).replace(N,"$&/")+"/")+mt)),X.push(ot)),1;mt=0;var Se=Z===""?".":Z+":";if(Pt(D))for(var Xt=0;Xt<D.length;Xt++)Z=D[Xt],bt=Se+U(Z,Xt),mt+=ne(Z,X,et,bt,ot);else if(Xt=q(D),typeof Xt=="function")for(D=Xt.call(D),Xt=0;!(Z=D.next()).done;)Z=Z.value,bt=Se+U(Z,Xt++),mt+=ne(Z,X,et,bt,ot);else if(bt==="object"){if(typeof D.then=="function")return ne(Ie(D),X,et,Z,ot);throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return mt}function H(D,X,et){if(D==null)return D;var Z=[],ot=0;return ne(D,Z,"","",function(bt){return X.call(et,bt,ot++)}),Z}function tt(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(et){(D._status===0||D._status===-1)&&(D._status=1,D._result=et)},function(et){(D._status===0||D._status===-1)&&(D._status=2,D._result=et)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var lt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function zt(){}return vt.Children={map:H,forEach:function(D,X,et){H(D,function(){X.apply(this,arguments)},et)},count:function(D){var X=0;return H(D,function(){X++}),X},toArray:function(D){return H(D,function(X){return X})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},vt.Component=$,vt.Fragment=i,vt.Profiler=u,vt.PureComponent=Tt,vt.StrictMode=a,vt.Suspense=_,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,vt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return _t.H.useMemoCache(D)}},vt.cache=function(D){return function(){return D.apply(null,arguments)}},vt.cloneElement=function(D,X,et){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var Z=W({},D.props),ot=D.key,bt=void 0;if(X!=null)for(mt in X.ref!==void 0&&(bt=void 0),X.key!==void 0&&(ot=""+X.key),X)!xt.call(X,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&X.ref===void 0||(Z[mt]=X[mt]);var mt=arguments.length-2;if(mt===1)Z.children=et;else if(1<mt){for(var Se=Array(mt),Xt=0;Xt<mt;Xt++)Se[Xt]=arguments[Xt+2];Z.children=Se}return O(D.type,ot,void 0,void 0,bt,Z)},vt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},vt.createElement=function(D,X,et){var Z,ot={},bt=null;if(X!=null)for(Z in X.key!==void 0&&(bt=""+X.key),X)xt.call(X,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ot[Z]=X[Z]);var mt=arguments.length-2;if(mt===1)ot.children=et;else if(1<mt){for(var Se=Array(mt),Xt=0;Xt<mt;Xt++)Se[Xt]=arguments[Xt+2];ot.children=Se}if(D&&D.defaultProps)for(Z in mt=D.defaultProps,mt)ot[Z]===void 0&&(ot[Z]=mt[Z]);return O(D,bt,void 0,void 0,null,ot)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(D){return{$$typeof:p,render:D}},vt.isValidElement=w,vt.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:tt}},vt.memo=function(D,X){return{$$typeof:v,type:D,compare:X===void 0?null:X}},vt.startTransition=function(D){var X=_t.T,et={};_t.T=et;try{var Z=D(),ot=_t.S;ot!==null&&ot(et,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(zt,lt)}catch(bt){lt(bt)}finally{_t.T=X}},vt.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},vt.use=function(D){return _t.H.use(D)},vt.useActionState=function(D,X,et){return _t.H.useActionState(D,X,et)},vt.useCallback=function(D,X){return _t.H.useCallback(D,X)},vt.useContext=function(D){return _t.H.useContext(D)},vt.useDebugValue=function(){},vt.useDeferredValue=function(D,X){return _t.H.useDeferredValue(D,X)},vt.useEffect=function(D,X,et){var Z=_t.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(D,X)},vt.useId=function(){return _t.H.useId()},vt.useImperativeHandle=function(D,X,et){return _t.H.useImperativeHandle(D,X,et)},vt.useInsertionEffect=function(D,X){return _t.H.useInsertionEffect(D,X)},vt.useLayoutEffect=function(D,X){return _t.H.useLayoutEffect(D,X)},vt.useMemo=function(D,X){return _t.H.useMemo(D,X)},vt.useOptimistic=function(D,X){return _t.H.useOptimistic(D,X)},vt.useReducer=function(D,X,et){return _t.H.useReducer(D,X,et)},vt.useRef=function(D){return _t.H.useRef(D)},vt.useState=function(D){return _t.H.useState(D)},vt.useSyncExternalStore=function(D,X,et){return _t.H.useSyncExternalStore(D,X,et)},vt.useTransition=function(){return _t.H.useTransition()},vt.version="19.1.0",vt}var Kp;function Xf(){return Kp||(Kp=1,mf.exports=C0()),mf.exports}var Oo=Xf();const Jr=m_(Oo);var gf={exports:{}},Ol={},pf={exports:{}},yf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function V0(){return Xp||(Xp=1,function(s){function e(H,tt){var lt=H.length;H.push(tt);t:for(;0<lt;){var zt=lt-1>>>1,D=H[zt];if(0<u(D,tt))H[zt]=tt,H[lt]=D,lt=zt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var tt=H[0],lt=H.pop();if(lt!==tt){H[0]=lt;t:for(var zt=0,D=H.length,X=D>>>1;zt<X;){var et=2*(zt+1)-1,Z=H[et],ot=et+1,bt=H[ot];if(0>u(Z,lt))ot<D&&0>u(bt,Z)?(H[zt]=bt,H[ot]=lt,zt=ot):(H[zt]=Z,H[et]=lt,zt=et);else if(ot<D&&0>u(bt,lt))H[zt]=bt,H[ot]=lt,zt=ot;else break t}}return tt}function u(H,tt){var lt=H.sortIndex-tt.sortIndex;return lt!==0?lt:H.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],v=[],A=1,V=null,q=3,Y=!1,W=!1,nt=!1,$=!1,Et=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function Pt(H){for(var tt=i(v);tt!==null;){if(tt.callback===null)a(v);else if(tt.startTime<=H)a(v),tt.sortIndex=tt.expirationTime,e(_,tt);else break;tt=i(v)}}function _t(H){if(nt=!1,Pt(H),!W)if(i(_)!==null)W=!0,xt||(xt=!0,U());else{var tt=i(v);tt!==null&&ne(_t,tt.startTime-H)}}var xt=!1,O=-1,S=5,w=-1;function I(){return $?!0:!(s.unstable_now()-w<S)}function N(){if($=!1,xt){var H=s.unstable_now();w=H;var tt=!0;try{t:{W=!1,nt&&(nt=!1,Tt(O),O=-1),Y=!0;var lt=q;try{e:{for(Pt(H),V=i(_);V!==null&&!(V.expirationTime>H&&I());){var zt=V.callback;if(typeof zt=="function"){V.callback=null,q=V.priorityLevel;var D=zt(V.expirationTime<=H);if(H=s.unstable_now(),typeof D=="function"){V.callback=D,Pt(H),tt=!0;break e}V===i(_)&&a(_),Pt(H)}else a(_);V=i(_)}if(V!==null)tt=!0;else{var X=i(v);X!==null&&ne(_t,X.startTime-H),tt=!1}}break t}finally{V=null,q=lt,Y=!1}tt=void 0}}finally{tt?U():xt=!1}}}var U;if(typeof gt=="function")U=function(){gt(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ie=R.port2;R.port1.onmessage=N,U=function(){Ie.postMessage(null)}}else U=function(){Et(N,0)};function ne(H,tt){O=Et(function(){H(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return q},s.unstable_next=function(H){switch(q){case 1:case 2:case 3:var tt=3;break;default:tt=q}var lt=q;q=tt;try{return H()}finally{q=lt}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var lt=q;q=H;try{return tt()}finally{q=lt}},s.unstable_scheduleCallback=function(H,tt,lt){var zt=s.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?zt+lt:zt):lt=zt,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=lt+D,H={id:A++,callback:tt,priorityLevel:H,startTime:lt,expirationTime:D,sortIndex:-1},lt>zt?(H.sortIndex=lt,e(v,H),i(_)===null&&H===i(v)&&(nt?(Tt(O),O=-1):nt=!0,ne(_t,lt-zt))):(H.sortIndex=D,e(_,H),W||Y||(W=!0,xt||(xt=!0,U()))),H},s.unstable_shouldYield=I,s.unstable_wrapCallback=function(H){var tt=q;return function(){var lt=q;q=tt;try{return H.apply(this,arguments)}finally{q=lt}}}}(yf)),yf}var Zp;function I0(){return Zp||(Zp=1,pf.exports=V0()),pf.exports}var _f={exports:{}},ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function O0(){if($p)return ke;$p=1;var s=Xf();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,v,A){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:V==null?null:""+V,children:_,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ke.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},ke.flushSync=function(_){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=A,a.d.f()}},ke.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},ke.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},ke.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,V=p(A,v.crossOrigin),q=typeof v.integrity=="string"?v.integrity:void 0,Y=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:V,integrity:q,fetchPriority:Y}):A==="script"&&a.d.X(_,{crossOrigin:V,integrity:q,fetchPriority:Y,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},ke.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=p(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},ke.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,V=p(A,v.crossOrigin);a.d.L(_,A,{crossOrigin:V,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},ke.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=p(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},ke.requestFormReset=function(_){a.d.r(_)},ke.unstable_batchedUpdates=function(_,v){return _(v)},ke.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},ke.version="19.1.0",ke}var Jp;function N0(){if(Jp)return _f.exports;Jp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),_f.exports=O0(),_f.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function M0(){if(Wp)return Ol;Wp=1;var s=I0(),e=Xf(),i=N0();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(h(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return p(c),t;if(f===l)return p(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),Et=Symbol.for("react.provider"),Tt=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),Pt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case $:return"Profiler";case nt:return"StrictMode";case _t:return"Suspense";case xt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case gt:return(t.displayName||"Context")+".Provider";case Tt:return(t._context.displayName||"Context")+".Consumer";case Pt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:Ie(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Ie(t(n))}catch{}}return null}var ne=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},zt=[],D=-1;function X(t){return{current:t}}function et(t){0>D||(t.current=zt[D],zt[D]=null,D--)}function Z(t,n){D++,zt[D]=t.current,t.current=n}var ot=X(null),bt=X(null),mt=X(null),Se=X(null);function Xt(t,n){switch(Z(mt,n),Z(bt,t),Z(ot,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?_p(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=_p(n),t=vp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}et(ot),Z(ot,t)}function Nn(){et(ot),et(bt),et(mt)}function Vi(t){t.memoizedState!==null&&Z(Se,t);var n=ot.current,r=vp(n,t.type);n!==r&&(Z(bt,t),Z(ot,r))}function Wn(t){bt.current===t&&(et(ot),et(bt)),Se.current===t&&(et(Se),Rl._currentValue=lt)}var gr=Object.prototype.hasOwnProperty,pr=s.unstable_scheduleCallback,yr=s.unstable_cancelCallback,As=s.unstable_shouldYield,eu=s.unstable_requestPaint,cn=s.unstable_now,fc=s.unstable_getCurrentPriorityLevel,Ss=s.unstable_ImmediatePriority,ca=s.unstable_UserBlockingPriority,_r=s.unstable_NormalPriority,dc=s.unstable_LowPriority,ha=s.unstable_IdlePriority,bs=s.log,nu=s.unstable_setDisableYieldValue,ie=null,kt=null;function We(t){if(typeof bs=="function"&&nu(t),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(ie,t)}catch{}}var Be=Math.clz32?Math.clz32:vr,iu=Math.log,mc=Math.LN2;function vr(t){return t>>>=0,t===0?32:31-(iu(t)/mc|0)|0}var Er=256,Tr=4194304;function bn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fa(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=bn(l):(y&=E,y!==0?c=bn(y):r||(r=E&~t,r!==0&&(c=bn(r))))):(E=l&~f,E!==0?c=bn(E):y!==0?c=bn(y):r||(r=l&~t,r!==0&&(c=bn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Ar(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Rs(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ws(){var t=Er;return Er<<=1,(Er&4194048)===0&&(Er=256),t}function Ds(){var t=Tr;return Tr<<=1,(Tr&62914560)===0&&(Tr=4194304),t}function ti(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ei(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Cs(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,L=t.hiddenUpdates;for(r=y&~r;0<r;){var j=31-Be(r),Q=1<<j;E[j]=0,b[j]=-1;var P=L[j];if(P!==null)for(L[j]=null,j=0;j<P.length;j++){var B=P[j];B!==null&&(B.lane&=-536870913)}r&=~Q}l!==0&&Mn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Mn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Be(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Vs(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Be(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Ii(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function da(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Oi(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:Pp(t.type))}function ru(t,n){var r=tt.p;try{return tt.p=t,n()}finally{tt.p=r}}var Jt=Math.random().toString(36).slice(2),pe="__reactFiber$"+Jt,ce="__reactProps$"+Jt,hn="__reactContainer$"+Jt,Is="__reactEvents$"+Jt,gc="__reactListeners$"+Jt,Ni="__reactHandles$"+Jt,au="__reactResources$"+Jt,Sr="__reactMarker$"+Jt;function Mi(t){delete t[pe],delete t[ce],delete t[Is],delete t[gc],delete t[Ni]}function ni(t){var n=t[pe];if(n)return n;for(var r=t.parentNode;r;){if(n=r[hn]||r[pe]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Sp(t);t!==null;){if(r=t[pe])return r;t=Sp(t)}return n}t=r,r=t.parentNode}return null}function Un(t){if(t=t[pe]||t[hn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function xn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Qe(t){var n=t[au];return n||(n=t[au]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function se(t){t[Sr]=!0}var Os=new Set,ma={};function Rn(t,n){ii(t,n),ii(t+"Capture",n)}function ii(t,n){for(ma[t]=n,t=0;t<n.length;t++)Os.add(n[t])}var su=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lu={},br={};function uu(t){return gr.call(br,t)?!0:gr.call(lu,t)?!1:su.test(t)?br[t]=!0:(lu[t]=!0,!1)}function Ui(t,n,r){if(uu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function zn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Oe(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Rr,ou;function ri(t){if(Rr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Rr=n&&n[1]||"",ou=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rr+t+ou}var ga=!1;function pa(t,n){if(!t||ga)return"";ga=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(B){var P=B}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(B){P=B}t.call(Q.prototype)}}else{try{throw Error()}catch(B){P=B}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(B){if(B&&P&&typeof B.stack=="string")return[B.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),L=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===L.length)for(l=b.length-1,c=L.length-1;1<=l&&0<=c&&b[l]!==L[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==L[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==L[c]){var j=`
`+b[l].replace(" at new "," at ");return t.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",t.displayName)),j}while(1<=l&&0<=c);break}}}finally{ga=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ri(r):""}function Ns(t){switch(t.tag){case 26:case 27:case 5:return ri(t.type);case 16:return ri("Lazy");case 13:return ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return pa(t.type,!1);case 11:return pa(t.type.render,!1);case 1:return pa(t.type,!0);case 31:return ri("Activity");default:return""}}function ya(t){try{var n="";do n+=Ns(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Fe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ms(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function pc(t){var n=Ms(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function _a(t){t._valueTracker||(t._valueTracker=pc(t))}function Us(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Ms(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function wr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var yc=/[\n"\\]/g;function he(t){return t.replace(yc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function tn(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Fe(n)):t.value!==""+Fe(n)&&(t.value=""+Fe(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?xi(t,y,Fe(n)):r!=null?xi(t,y,Fe(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Fe(E):t.removeAttribute("name")}function Dr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Fe(r):"",n=n!=null?""+Fe(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function xi(t,n,r){n==="number"&&wr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ai(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Fe(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Gt(t,n,r){if(n!=null&&(n=""+Fe(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Fe(r):""}function Cr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(ne(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Fe(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function fn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Vr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cu(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Vr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function xs(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&cu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&cu(t,f,n[f])}function zs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _c=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(t){return vc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var si=null;function dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var li=null,ui=null;function Ls(t){var n=Un(t);if(n&&(t=n.stateNode)){var r=t[ce]||null;t:switch(t=n.stateNode,n.type){case"input":if(tn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+he(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[ce]||null;if(!c)throw Error(a(90));tn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Us(l)}break t;case"textarea":Gt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&ai(t,!!r.multiple,n,!1)}}}var Ln=!1;function hu(t,n,r){if(Ln)return t(n,r);Ln=!0;try{var l=t(n);return l}finally{if(Ln=!1,(li!==null||ui!==null)&&(ro(),li&&(n=li,t=ui,ui=li=null,Ls(n),t)))for(n=0;n<t.length;n++)Ls(t[n])}}function Ir(t,n){var r=t.stateNode;if(r===null)return null;var l=r[ce]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mn=!1;if(wn)try{var Or={};Object.defineProperty(Or,"passive",{get:function(){mn=!0}}),window.addEventListener("test",Or,Or),window.removeEventListener("test",Or,Or)}catch{mn=!1}var Pn=null,zi=null,oi=null;function Ps(){if(oi)return oi;var t,n=zi,r=n.length,l,c="value"in Pn?Pn.value:Pn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return oi=c.slice(t,1<l?1-l:void 0)}function Bn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function qn(){return!0}function Bs(){return!1}function be(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?qn:Bs,this.isPropagationStopped=Bs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){},isPersistent:qn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=be(Bt),Nr=A({},Bt,{view:0,detail:0}),fu=be(Nr),Ta,Aa,kn,Mr=A({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kn&&(kn&&t.type==="mousemove"?(Ta=t.screenX-kn.screenX,Aa=t.screenY-kn.screenY):Aa=Ta=0,kn=t),Ta)},movementY:function(t){return"movementY"in t?t.movementY:Aa}}),gn=be(Mr),du=A({},Mr,{dataTransfer:0}),Ec=be(du),Ur=A({},Nr,{relatedTarget:0}),Sa=be(Ur),qs=A({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),ba=be(qs),mu=A({},Bt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ra=be(mu),Tc=A({},Bt,{data:0}),ks=be(Tc),xr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=pu[t])?!!n[t]:!1}function zr(){return Hs}var yu=A({},Nr,{key:function(t){if(t.key){var n=xr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Bn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zr,charCode:function(t){return t.type==="keypress"?Bn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wa=be(yu),_u=A({},Mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),js=be(_u),ci=A({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zr}),vu=be(ci),Eu=A({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tu=be(Eu),Au=A({},Mr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Da=be(Au),Ye=A({},Bt,{newState:0,oldState:0}),Su=be(Ye),bu=[9,13,27,32],Hn=wn&&"CompositionEvent"in window,o=null;wn&&"documentMode"in document&&(o=document.documentMode);var m=wn&&"TextEvent"in window&&!o,g=wn&&(!Hn||o&&8<o&&11>=o),T=" ",x=!1;function k(t,n){switch(t){case"keyup":return bu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vt=!1;function ye(t,n){switch(t){case"compositionend":return J(n);case"keypress":return n.which!==32?null:(x=!0,T);case"textInput":return t=n.data,t===T&&x?null:t;default:return null}}function It(t,n){if(Vt)return t==="compositionend"||!Hn&&k(t,n)?(t=Ps(),oi=zi=Pn=null,Vt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var Re={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _e(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Re[t.type]:n==="textarea"}function hi(t,n,r,l){li?ui?ui.push(l):ui=[l]:li=l,n=co(n,"onChange"),0<n.length&&(r=new Ea("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ne=null,jn=null;function Gs(t){dp(t,0)}function Ru(t){var n=xn(t);if(Us(n))return t}function Ud(t,n){if(t==="change")return n}var xd=!1;if(wn){var Ac;if(wn){var Sc="oninput"in document;if(!Sc){var zd=document.createElement("div");zd.setAttribute("oninput","return;"),Sc=typeof zd.oninput=="function"}Ac=Sc}else Ac=!1;xd=Ac&&(!document.documentMode||9<document.documentMode)}function Ld(){Ne&&(Ne.detachEvent("onpropertychange",Pd),jn=Ne=null)}function Pd(t){if(t.propertyName==="value"&&Ru(jn)){var n=[];hi(n,jn,t,dn(t)),hu(Gs,n)}}function nE(t,n,r){t==="focusin"?(Ld(),Ne=n,jn=r,Ne.attachEvent("onpropertychange",Pd)):t==="focusout"&&Ld()}function iE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ru(jn)}function rE(t,n){if(t==="click")return Ru(n)}function aE(t,n){if(t==="input"||t==="change")return Ru(n)}function sE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var en=typeof Object.is=="function"?Object.is:sE;function Qs(t,n){if(en(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!gr.call(n,c)||!en(t[c],n[c]))return!1}return!0}function Bd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qd(t,n){var r=Bd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Bd(r)}}function kd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?kd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Hd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=wr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=wr(t.document)}return n}function bc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var lE=wn&&"documentMode"in document&&11>=document.documentMode,Ca=null,Rc=null,Fs=null,wc=!1;function jd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wc||Ca==null||Ca!==wr(l)||(l=Ca,"selectionStart"in l&&bc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Fs&&Qs(Fs,l)||(Fs=l,l=co(Rc,"onSelect"),0<l.length&&(n=new Ea("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ca)))}function Lr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Va={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionrun:Lr("Transition","TransitionRun"),transitionstart:Lr("Transition","TransitionStart"),transitioncancel:Lr("Transition","TransitionCancel"),transitionend:Lr("Transition","TransitionEnd")},Dc={},Gd={};wn&&(Gd=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Pr(t){if(Dc[t])return Dc[t];if(!Va[t])return t;var n=Va[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Gd)return Dc[t]=n[r];return t}var Qd=Pr("animationend"),Fd=Pr("animationiteration"),Yd=Pr("animationstart"),uE=Pr("transitionrun"),oE=Pr("transitionstart"),cE=Pr("transitioncancel"),Kd=Pr("transitionend"),Xd=new Map,Cc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cc.push("scrollEnd");function Dn(t,n){Xd.set(t,n),Rn(n,[t])}var Zd=new WeakMap;function pn(t,n){if(typeof t=="object"&&t!==null){var r=Zd.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ya(n)},Zd.set(t,n),n)}return{value:t,source:n,stack:ya(n)}}var yn=[],Ia=0,Vc=0;function wu(){for(var t=Ia,n=Vc=Ia=0;n<t;){var r=yn[n];yn[n++]=null;var l=yn[n];yn[n++]=null;var c=yn[n];yn[n++]=null;var f=yn[n];if(yn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&$d(r,c,f)}}function Du(t,n,r,l){yn[Ia++]=t,yn[Ia++]=n,yn[Ia++]=r,yn[Ia++]=l,Vc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ic(t,n,r,l){return Du(t,n,r,l),Cu(t)}function Oa(t,n){return Du(t,null,null,n),Cu(t)}function $d(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Be(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Cu(t){if(50<yl)throw yl=0,zh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Na={};function hE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,n,r,l){return new hE(t,n,r,l)}function Oc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fi(t,n){var r=t.alternate;return r===null?(r=nn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Jd(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Vu(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Oc(t)&&(y=1);else if(typeof t=="string")y=d0(t,r,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=nn(31,r,n,c),t.elementType=w,t.lanes=f,t;case W:return Br(r.children,c,f,n);case nt:y=8,c|=24;break;case $:return t=nn(12,r,n,c|2),t.elementType=$,t.lanes=f,t;case _t:return t=nn(13,r,n,c),t.elementType=_t,t.lanes=f,t;case xt:return t=nn(19,r,n,c),t.elementType=xt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Et:case gt:y=10;break t;case Tt:y=9;break t;case Pt:y=11;break t;case O:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=nn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Br(t,n,r,l){return t=nn(7,t,l,n),t.lanes=r,t}function Nc(t,n,r){return t=nn(6,t,null,n),t.lanes=r,t}function Mc(t,n,r){return n=nn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ma=[],Ua=0,Iu=null,Ou=0,_n=[],vn=0,qr=null,di=1,mi="";function kr(t,n){Ma[Ua++]=Ou,Ma[Ua++]=Iu,Iu=t,Ou=n}function Wd(t,n,r){_n[vn++]=di,_n[vn++]=mi,_n[vn++]=qr,qr=t;var l=di;t=mi;var c=32-Be(l)-1;l&=~(1<<c),r+=1;var f=32-Be(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,di=1<<32-Be(n)+c|r<<c|l,mi=f+t}else di=1<<f|r<<c|l,mi=t}function Uc(t){t.return!==null&&(kr(t,1),Wd(t,1,0))}function xc(t){for(;t===Iu;)Iu=Ma[--Ua],Ma[Ua]=null,Ou=Ma[--Ua],Ma[Ua]=null;for(;t===qr;)qr=_n[--vn],_n[vn]=null,mi=_n[--vn],_n[vn]=null,di=_n[--vn],_n[vn]=null}var Ke=null,re=null,Lt=!1,Hr=null,Gn=!1,zc=Error(a(519));function jr(t){var n=Error(a(418,""));throw Xs(pn(n,t)),zc}function tm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[pe]=t,n[ce]=l,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(r=0;r<vl.length;r++)Dt(vl[r],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),Dr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),_a(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),Cr(n,l.value,l.defaultValue,l.children),_a(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||yp(n.textContent,r)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=ho),n=!0):n=!1,n||jr(t)}function em(t){for(Ke=t.return;Ke;)switch(Ke.tag){case 5:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Ke=Ke.return}}function Ys(t){if(t!==Ke)return!1;if(!Lt)return em(t),Lt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Jh(t.type,t.memoizedProps)),r=!r),r&&re&&jr(t),em(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){re=Vn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}re=null}}else n===27?(n=re,Ji(t.type)?(t=nf,nf=null,re=t):re=n):re=Ke?Vn(t.stateNode.nextSibling):null;return!0}function Ks(){re=Ke=null,Lt=!1}function nm(){var t=Hr;return t!==null&&($e===null?$e=t:$e.push.apply($e,t),Hr=null),t}function Xs(t){Hr===null?Hr=[t]:Hr.push(t)}var Lc=X(null),Gr=null,gi=null;function Li(t,n,r){Z(Lc,n._currentValue),n._currentValue=r}function pi(t){t._currentValue=Lc.current,et(Lc)}function Pc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Bc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Pc(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Pc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Zs(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;en(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Se.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}c=c.return}t!==null&&Bc(n,t,r,l),n.flags|=262144}function Nu(t){for(t=t.firstContext;t!==null;){if(!en(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qr(t){Gr=t,gi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return im(Gr,t)}function Mu(t,n){return Gr===null&&Qr(t),im(t,n)}function im(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},gi===null){if(t===null)throw Error(a(308));gi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else gi=gi.next=n;return r}var fE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},dE=s.unstable_scheduleCallback,mE=s.unstable_NormalPriority,ve={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qc(){return{controller:new fE,data:new Map,refCount:0}}function $s(t){t.refCount--,t.refCount===0&&dE(mE,function(){t.controller.abort()})}var Js=null,kc=0,xa=0,za=null;function gE(t,n){if(Js===null){var r=Js=[];kc=0,xa=jh(),za={status:"pending",value:void 0,then:function(l){r.push(l)}}}return kc++,n.then(rm,rm),n}function rm(){if(--kc===0&&Js!==null){za!==null&&(za.status="fulfilled");var t=Js;Js=null,xa=0,za=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function pE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var am=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&gE(t,n),am!==null&&am(t,n)};var Fr=X(null);function Hc(){var t=Fr.current;return t!==null?t:Zt.pooledCache}function Uu(t,n){n===null?Z(Fr,Fr.current):Z(Fr,n.pool)}function sm(){var t=Hc();return t===null?null:{parent:ve._currentValue,pool:t}}var Ws=Error(a(460)),lm=Error(a(474)),xu=Error(a(542)),jc={then:function(){}};function um(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zu(){}function om(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(zu,zu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,hm(t),t;default:if(typeof n.status=="string")n.then(zu,zu);else{if(t=Zt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,hm(t),t}throw tl=n,Ws}}var tl=null;function cm(){if(tl===null)throw Error(a(459));var t=tl;return tl=null,t}function hm(t){if(t===Ws||t===xu)throw Error(a(483))}var Pi=!1;function Gc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Bi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Cu(t),$d(t,null,r),n}return Du(t,l,n,r),Cu(t)}function el(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Vs(t,r)}}function Fc(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Yc=!1;function nl(){if(Yc){var t=za;if(t!==null)throw t}}function il(t,n,r,l){Yc=!1;var c=t.updateQueue;Pi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,L=b.next;b.next=null,y===null?f=L:y.next=L,y=b;var j=t.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==y&&(E===null?j.firstBaseUpdate=L:E.next=L,j.lastBaseUpdate=b))}if(f!==null){var Q=c.baseState;y=0,j=L=b=null,E=f;do{var P=E.lane&-536870913,B=P!==E.lane;if(B?(Ot&P)===P:(l&P)===P){P!==0&&P===xa&&(Yc=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ft=t,ct=E;P=n;var Yt=r;switch(ct.tag){case 1:if(ft=ct.payload,typeof ft=="function"){Q=ft.call(Yt,Q,P);break t}Q=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=ct.payload,P=typeof ft=="function"?ft.call(Yt,Q,P):ft,P==null)break t;Q=A({},Q,P);break t;case 2:Pi=!0}}P=E.callback,P!==null&&(t.flags|=64,B&&(t.flags|=8192),B=c.callbacks,B===null?c.callbacks=[P]:B.push(P))}else B={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(L=j=B,b=Q):j=j.next=B,y|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;B=E,E=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);j===null&&(b=Q),c.baseState=b,c.firstBaseUpdate=L,c.lastBaseUpdate=j,f===null&&(c.shared.lanes=0),Ki|=y,t.lanes=y,t.memoizedState=Q}}function fm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function dm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)fm(r[t],n)}var La=X(null),Lu=X(0);function mm(t,n){t=Si,Z(Lu,t),Z(La,n),Si=t|n.baseLanes}function Kc(){Z(Lu,Si),Z(La,La.current)}function Xc(){Si=Lu.current,et(La),et(Lu)}var ki=0,At=null,Qt=null,fe=null,Pu=!1,Pa=!1,Yr=!1,Bu=0,rl=0,Ba=null,yE=0;function le(){throw Error(a(321))}function Zc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!en(t[r],n[r]))return!1;return!0}function $c(t,n,r,l,c,f){return ki=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?$m:Jm,Yr=!1,f=r(l,c),Yr=!1,Pa&&(f=pm(n,r,l,c)),gm(t),f}function gm(t){H.H=Qu;var n=Qt!==null&&Qt.next!==null;if(ki=0,fe=Qt=At=null,Pu=!1,rl=0,Ba=null,n)throw Error(a(300));t===null||we||(t=t.dependencies,t!==null&&Nu(t)&&(we=!0))}function pm(t,n,r,l){At=t;var c=0;do{if(Pa&&(Ba=null),rl=0,Pa=!1,25<=c)throw Error(a(301));if(c+=1,fe=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=bE,f=n(r,l)}while(Pa);return f}function _E(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?al(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(At.flags|=1024),n}function Jc(){var t=Bu!==0;return Bu=0,t}function Wc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function th(t){if(Pu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Pu=!1}ki=0,fe=Qt=At=null,Pa=!1,rl=Bu=0,Ba=null}function Xe(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?At.memoizedState=fe=t:fe=fe.next=t,fe}function de(){if(Qt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=fe===null?At.memoizedState:fe.next;if(n!==null)fe=n,Qt=t;else{if(t===null)throw At.alternate===null?Error(a(467)):Error(a(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},fe===null?At.memoizedState=fe=t:fe=fe.next=t}return fe}function eh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(t){var n=rl;return rl+=1,Ba===null&&(Ba=[]),t=om(Ba,t,n),n=At,(fe===null?n.memoizedState:fe.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?$m:Jm),t}function qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===gt)return qe(t)}throw Error(a(438,String(t)))}function nh(t){var n=null,r=At.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=eh(),At.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=I;return n.index++,r}function yi(t,n){return typeof n=="function"?n(t):n}function ku(t){var n=de();return ih(n,Qt,t)}function ih(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,L=n,j=!1;do{var Q=L.lane&-536870913;if(Q!==L.lane?(Ot&Q)===Q:(ki&Q)===Q){var P=L.revertLane;if(P===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Q===xa&&(j=!0);else if((ki&P)===P){L=L.next,P===xa&&(j=!0);continue}else Q={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=Q,y=f):b=b.next=Q,At.lanes|=P,Ki|=P;Q=L.action,Yr&&r(f,Q),f=L.hasEagerState?L.eagerState:r(f,Q)}else P={lane:Q,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=P,y=f):b=b.next=P,At.lanes|=Q,Ki|=Q;L=L.next}while(L!==null&&L!==n);if(b===null?y=f:b.next=E,!en(f,t.memoizedState)&&(we=!0,j&&(r=za,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function rh(t){var n=de(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);en(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function ym(t,n,r){var l=At,c=de(),f=Lt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!en((Qt||c).memoizedState,r);y&&(c.memoizedState=r,we=!0),c=c.queue;var E=Em.bind(null,l,c,t);if(sl(2048,8,E,[t]),c.getSnapshot!==n||y||fe!==null&&fe.memoizedState.tag&1){if(l.flags|=2048,qa(9,Hu(),vm.bind(null,l,c,r,n),null),Zt===null)throw Error(a(349));f||(ki&124)!==0||_m(l,n,r)}return r}function _m(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=At.updateQueue,n===null?(n=eh(),At.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function vm(t,n,r,l){n.value=r,n.getSnapshot=l,Tm(n)&&Am(t)}function Em(t,n,r){return r(function(){Tm(n)&&Am(t)})}function Tm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!en(t,r)}catch{return!0}}function Am(t){var n=Oa(t,2);n!==null&&un(n,t,2)}function ah(t){var n=Xe();if(typeof t=="function"){var r=t;if(t=r(),Yr){We(!0);try{r()}finally{We(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:t},n}function Sm(t,n,r,l){return t.baseState=r,ih(t,Qt,typeof l=="function"?l:yi)}function vE(t,n,r,l,c){if(Gu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,bm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function bm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=r(c,l),b=H.S;b!==null&&b(y,E),Rm(t,n,E)}catch(L){sh(t,n,L)}finally{H.T=f}}else try{f=r(c,l),Rm(t,n,f)}catch(L){sh(t,n,L)}}function Rm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){wm(t,n,l)},function(l){return sh(t,n,l)}):wm(t,n,r)}function wm(t,n,r){n.status="fulfilled",n.value=r,Dm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,bm(t,r)))}function sh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Dm(n),n=n.next;while(n!==l)}t.action=null}function Dm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Cm(t,n){return n}function Vm(t,n){if(Lt){var r=Zt.formState;if(r!==null){t:{var l=At;if(Lt){if(re){e:{for(var c=re,f=Gn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Vn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){re=Vn(c.nextSibling),l=c.data==="F!";break t}}jr(l)}l=!1}l&&(n=r[0])}}return r=Xe(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cm,lastRenderedState:n},r.queue=l,r=Km.bind(null,At,l),l.dispatch=r,l=ah(!1),f=hh.bind(null,At,!1,l.queue),l=Xe(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=vE.bind(null,At,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Im(t){var n=de();return Om(n,Qt,t)}function Om(t,n,r){if(n=ih(t,n,Cm)[0],t=ku(yi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=al(n)}catch(y){throw y===Ws?xu:y}else l=n;n=de();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(At.flags|=2048,qa(9,Hu(),EE.bind(null,c,r),null)),[l,f,t]}function EE(t,n){t.action=n}function Nm(t){var n=de(),r=Qt;if(r!==null)return Om(n,r,t);de(),n=n.memoizedState,r=de();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function qa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=At.updateQueue,n===null&&(n=eh(),At.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Hu(){return{destroy:void 0,resource:void 0}}function Mm(){return de().memoizedState}function ju(t,n,r,l){var c=Xe();l=l===void 0?null:l,At.flags|=t,c.memoizedState=qa(1|n,Hu(),r,l)}function sl(t,n,r,l){var c=de();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&Zc(l,Qt.memoizedState.deps)?c.memoizedState=qa(n,f,r,l):(At.flags|=t,c.memoizedState=qa(1|n,f,r,l))}function Um(t,n){ju(8390656,8,t,n)}function xm(t,n){sl(2048,8,t,n)}function zm(t,n){return sl(4,2,t,n)}function Lm(t,n){return sl(4,4,t,n)}function Pm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Bm(t,n,r){r=r!=null?r.concat([t]):null,sl(4,4,Pm.bind(null,n,t),r)}function lh(){}function qm(t,n){var r=de();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Zc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function km(t,n){var r=de();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Zc(n,l[1]))return l[0];if(l=t(),Yr){We(!0);try{t()}finally{We(!1)}}return r.memoizedState=[l,n],l}function uh(t,n,r){return r===void 0||(ki&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Gg(),At.lanes|=t,Ki|=t,r)}function Hm(t,n,r,l){return en(r,n)?r:La.current!==null?(t=uh(t,r,l),en(t,n)||(we=!0),t):(ki&42)===0?(we=!0,t.memoizedState=r):(t=Gg(),At.lanes|=t,Ki|=t,n)}function jm(t,n,r,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,hh(t,!1,n,r);try{var b=c(),L=H.S;if(L!==null&&L(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var j=pE(b,l);ll(t,n,j,ln(t))}else ll(t,n,l,ln(t))}catch(Q){ll(t,n,{then:function(){},status:"rejected",reason:Q},ln())}finally{tt.p=f,H.T=y}}function TE(){}function oh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Gm(t).queue;jm(t,c,n,lt,r===null?TE:function(){return Qm(t),r(l)})}function Gm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:lt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Qm(t){var n=Gm(t).next.queue;ll(t,n,{},ln())}function ch(){return qe(Rl)}function Fm(){return de().memoizedState}function Ym(){return de().memoizedState}function AE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=ln();t=Bi(r);var l=qi(n,t,r);l!==null&&(un(l,n,r),el(l,n,r)),n={cache:qc()},t.payload=n;return}n=n.return}}function SE(t,n,r){var l=ln();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Gu(t)?Xm(n,r):(r=Ic(t,n,r,l),r!==null&&(un(r,t,l),Zm(r,n,l)))}function Km(t,n,r){var l=ln();ll(t,n,r,l)}function ll(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gu(t))Xm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,en(E,y))return Du(t,n,c,0),Zt===null&&wu(),!1}catch{}finally{}if(r=Ic(t,n,c,l),r!==null)return un(r,t,l),Zm(r,n,l),!0}return!1}function hh(t,n,r,l){if(l={lane:2,revertLane:jh(),action:l,hasEagerState:!1,eagerState:null,next:null},Gu(t)){if(n)throw Error(a(479))}else n=Ic(t,r,l,2),n!==null&&un(n,t,2)}function Gu(t){var n=t.alternate;return t===At||n!==null&&n===At}function Xm(t,n){Pa=Pu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Zm(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Vs(t,r)}}var Qu={readContext:qe,use:qu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le},$m={readContext:qe,use:qu,useCallback:function(t,n){return Xe().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:Um,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,ju(4194308,4,Pm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return ju(4194308,4,t,n)},useInsertionEffect:function(t,n){ju(4,2,t,n)},useMemo:function(t,n){var r=Xe();n=n===void 0?null:n;var l=t();if(Yr){We(!0);try{t()}finally{We(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Xe();if(r!==void 0){var c=r(n);if(Yr){We(!0);try{r(n)}finally{We(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=SE.bind(null,At,t),[l.memoizedState,t]},useRef:function(t){var n=Xe();return t={current:t},n.memoizedState=t},useState:function(t){t=ah(t);var n=t.queue,r=Km.bind(null,At,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:lh,useDeferredValue:function(t,n){var r=Xe();return uh(r,t,n)},useTransition:function(){var t=ah(!1);return t=jm.bind(null,At,t.queue,!0,!1),Xe().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=At,c=Xe();if(Lt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Zt===null)throw Error(a(349));(Ot&124)!==0||_m(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Um(Em.bind(null,l,f,t),[t]),l.flags|=2048,qa(9,Hu(),vm.bind(null,l,f,r,n),null),r},useId:function(){var t=Xe(),n=Zt.identifierPrefix;if(Lt){var r=mi,l=di;r=(l&~(1<<32-Be(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=Bu++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=yE++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:ch,useFormState:Vm,useActionState:Vm,useOptimistic:function(t){var n=Xe();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=hh.bind(null,At,!0,r),r.dispatch=n,[t,n]},useMemoCache:nh,useCacheRefresh:function(){return Xe().memoizedState=AE.bind(null,At)}},Jm={readContext:qe,use:qu,useCallback:qm,useContext:qe,useEffect:xm,useImperativeHandle:Bm,useInsertionEffect:zm,useLayoutEffect:Lm,useMemo:km,useReducer:ku,useRef:Mm,useState:function(){return ku(yi)},useDebugValue:lh,useDeferredValue:function(t,n){var r=de();return Hm(r,Qt.memoizedState,t,n)},useTransition:function(){var t=ku(yi)[0],n=de().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:ym,useId:Fm,useHostTransitionStatus:ch,useFormState:Im,useActionState:Im,useOptimistic:function(t,n){var r=de();return Sm(r,Qt,t,n)},useMemoCache:nh,useCacheRefresh:Ym},bE={readContext:qe,use:qu,useCallback:qm,useContext:qe,useEffect:xm,useImperativeHandle:Bm,useInsertionEffect:zm,useLayoutEffect:Lm,useMemo:km,useReducer:rh,useRef:Mm,useState:function(){return rh(yi)},useDebugValue:lh,useDeferredValue:function(t,n){var r=de();return Qt===null?uh(r,t,n):Hm(r,Qt.memoizedState,t,n)},useTransition:function(){var t=rh(yi)[0],n=de().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:ym,useId:Fm,useHostTransitionStatus:ch,useFormState:Nm,useActionState:Nm,useOptimistic:function(t,n){var r=de();return Qt!==null?Sm(r,Qt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:nh,useCacheRefresh:Ym},ka=null,ul=0;function Fu(t){var n=ul;return ul+=1,ka===null&&(ka=[]),om(ka,t,n)}function ol(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Yu(t,n){throw n.$$typeof===V?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Wm(t){var n=t._init;return n(t._payload)}function tg(t){function n(M,C){if(t){var z=M.deletions;z===null?(M.deletions=[C],M.flags|=16):z.push(C)}}function r(M,C){if(!t)return null;for(;C!==null;)n(M,C),C=C.sibling;return null}function l(M){for(var C=new Map;M!==null;)M.key!==null?C.set(M.key,M):C.set(M.index,M),M=M.sibling;return C}function c(M,C){return M=fi(M,C),M.index=0,M.sibling=null,M}function f(M,C,z){return M.index=z,t?(z=M.alternate,z!==null?(z=z.index,z<C?(M.flags|=67108866,C):z):(M.flags|=67108866,C)):(M.flags|=1048576,C)}function y(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,C,z,G){return C===null||C.tag!==6?(C=Nc(z,M.mode,G),C.return=M,C):(C=c(C,z),C.return=M,C)}function b(M,C,z,G){var rt=z.type;return rt===W?j(M,C,z.props.children,G,z.key):C!==null&&(C.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&Wm(rt)===C.type)?(C=c(C,z.props),ol(C,z),C.return=M,C):(C=Vu(z.type,z.key,z.props,null,M.mode,G),ol(C,z),C.return=M,C)}function L(M,C,z,G){return C===null||C.tag!==4||C.stateNode.containerInfo!==z.containerInfo||C.stateNode.implementation!==z.implementation?(C=Mc(z,M.mode,G),C.return=M,C):(C=c(C,z.children||[]),C.return=M,C)}function j(M,C,z,G,rt){return C===null||C.tag!==7?(C=Br(z,M.mode,G,rt),C.return=M,C):(C=c(C,z),C.return=M,C)}function Q(M,C,z){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Nc(""+C,M.mode,z),C.return=M,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case q:return z=Vu(C.type,C.key,C.props,null,M.mode,z),ol(z,C),z.return=M,z;case Y:return C=Mc(C,M.mode,z),C.return=M,C;case S:var G=C._init;return C=G(C._payload),Q(M,C,z)}if(ne(C)||U(C))return C=Br(C,M.mode,z,null),C.return=M,C;if(typeof C.then=="function")return Q(M,Fu(C),z);if(C.$$typeof===gt)return Q(M,Mu(M,C),z);Yu(M,C)}return null}function P(M,C,z,G){var rt=C!==null?C.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return rt!==null?null:E(M,C,""+z,G);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case q:return z.key===rt?b(M,C,z,G):null;case Y:return z.key===rt?L(M,C,z,G):null;case S:return rt=z._init,z=rt(z._payload),P(M,C,z,G)}if(ne(z)||U(z))return rt!==null?null:j(M,C,z,G,null);if(typeof z.then=="function")return P(M,C,Fu(z),G);if(z.$$typeof===gt)return P(M,C,Mu(M,z),G);Yu(M,z)}return null}function B(M,C,z,G,rt){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return M=M.get(z)||null,E(C,M,""+G,rt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case q:return M=M.get(G.key===null?z:G.key)||null,b(C,M,G,rt);case Y:return M=M.get(G.key===null?z:G.key)||null,L(C,M,G,rt);case S:var Rt=G._init;return G=Rt(G._payload),B(M,C,z,G,rt)}if(ne(G)||U(G))return M=M.get(z)||null,j(C,M,G,rt,null);if(typeof G.then=="function")return B(M,C,z,Fu(G),rt);if(G.$$typeof===gt)return B(M,C,z,Mu(C,G),rt);Yu(C,G)}return null}function ft(M,C,z,G){for(var rt=null,Rt=null,st=C,ht=C=0,Ce=null;st!==null&&ht<z.length;ht++){st.index>ht?(Ce=st,st=null):Ce=st.sibling;var Ut=P(M,st,z[ht],G);if(Ut===null){st===null&&(st=Ce);break}t&&st&&Ut.alternate===null&&n(M,st),C=f(Ut,C,ht),Rt===null?rt=Ut:Rt.sibling=Ut,Rt=Ut,st=Ce}if(ht===z.length)return r(M,st),Lt&&kr(M,ht),rt;if(st===null){for(;ht<z.length;ht++)st=Q(M,z[ht],G),st!==null&&(C=f(st,C,ht),Rt===null?rt=st:Rt.sibling=st,Rt=st);return Lt&&kr(M,ht),rt}for(st=l(st);ht<z.length;ht++)Ce=B(st,M,ht,z[ht],G),Ce!==null&&(t&&Ce.alternate!==null&&st.delete(Ce.key===null?ht:Ce.key),C=f(Ce,C,ht),Rt===null?rt=Ce:Rt.sibling=Ce,Rt=Ce);return t&&st.forEach(function(ir){return n(M,ir)}),Lt&&kr(M,ht),rt}function ct(M,C,z,G){if(z==null)throw Error(a(151));for(var rt=null,Rt=null,st=C,ht=C=0,Ce=null,Ut=z.next();st!==null&&!Ut.done;ht++,Ut=z.next()){st.index>ht?(Ce=st,st=null):Ce=st.sibling;var ir=P(M,st,Ut.value,G);if(ir===null){st===null&&(st=Ce);break}t&&st&&ir.alternate===null&&n(M,st),C=f(ir,C,ht),Rt===null?rt=ir:Rt.sibling=ir,Rt=ir,st=Ce}if(Ut.done)return r(M,st),Lt&&kr(M,ht),rt;if(st===null){for(;!Ut.done;ht++,Ut=z.next())Ut=Q(M,Ut.value,G),Ut!==null&&(C=f(Ut,C,ht),Rt===null?rt=Ut:Rt.sibling=Ut,Rt=Ut);return Lt&&kr(M,ht),rt}for(st=l(st);!Ut.done;ht++,Ut=z.next())Ut=B(st,M,ht,Ut.value,G),Ut!==null&&(t&&Ut.alternate!==null&&st.delete(Ut.key===null?ht:Ut.key),C=f(Ut,C,ht),Rt===null?rt=Ut:Rt.sibling=Ut,Rt=Ut);return t&&st.forEach(function(R0){return n(M,R0)}),Lt&&kr(M,ht),rt}function Yt(M,C,z,G){if(typeof z=="object"&&z!==null&&z.type===W&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case q:t:{for(var rt=z.key;C!==null;){if(C.key===rt){if(rt=z.type,rt===W){if(C.tag===7){r(M,C.sibling),G=c(C,z.props.children),G.return=M,M=G;break t}}else if(C.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&Wm(rt)===C.type){r(M,C.sibling),G=c(C,z.props),ol(G,z),G.return=M,M=G;break t}r(M,C);break}else n(M,C);C=C.sibling}z.type===W?(G=Br(z.props.children,M.mode,G,z.key),G.return=M,M=G):(G=Vu(z.type,z.key,z.props,null,M.mode,G),ol(G,z),G.return=M,M=G)}return y(M);case Y:t:{for(rt=z.key;C!==null;){if(C.key===rt)if(C.tag===4&&C.stateNode.containerInfo===z.containerInfo&&C.stateNode.implementation===z.implementation){r(M,C.sibling),G=c(C,z.children||[]),G.return=M,M=G;break t}else{r(M,C);break}else n(M,C);C=C.sibling}G=Mc(z,M.mode,G),G.return=M,M=G}return y(M);case S:return rt=z._init,z=rt(z._payload),Yt(M,C,z,G)}if(ne(z))return ft(M,C,z,G);if(U(z)){if(rt=U(z),typeof rt!="function")throw Error(a(150));return z=rt.call(z),ct(M,C,z,G)}if(typeof z.then=="function")return Yt(M,C,Fu(z),G);if(z.$$typeof===gt)return Yt(M,C,Mu(M,z),G);Yu(M,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,C!==null&&C.tag===6?(r(M,C.sibling),G=c(C,z),G.return=M,M=G):(r(M,C),G=Nc(z,M.mode,G),G.return=M,M=G),y(M)):r(M,C)}return function(M,C,z,G){try{ul=0;var rt=Yt(M,C,z,G);return ka=null,rt}catch(st){if(st===Ws||st===xu)throw st;var Rt=nn(29,st,null,M.mode);return Rt.lanes=G,Rt.return=M,Rt}finally{}}}var Ha=tg(!0),eg=tg(!1),En=X(null),Qn=null;function Hi(t){var n=t.alternate;Z(Ee,Ee.current&1),Z(En,t),Qn===null&&(n===null||La.current!==null||n.memoizedState!==null)&&(Qn=t)}function ng(t){if(t.tag===22){if(Z(Ee,Ee.current),Z(En,t),Qn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Qn=t)}}else ji()}function ji(){Z(Ee,Ee.current),Z(En,En.current)}function _i(t){et(En),Qn===t&&(Qn=null),et(Ee)}var Ee=X(0);function Ku(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||ef(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function fh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var dh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=ln(),c=Bi(l);c.payload=n,r!=null&&(c.callback=r),n=qi(t,c,l),n!==null&&(un(n,t,l),el(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=ln(),c=Bi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=qi(t,c,l),n!==null&&(un(n,t,l),el(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=ln(),l=Bi(r);l.tag=2,n!=null&&(l.callback=n),n=qi(t,l,r),n!==null&&(un(n,t,r),el(n,t,r))}};function ig(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Qs(r,l)||!Qs(c,f):!0}function rg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&dh.enqueueReplaceState(n,n.state,null)}function Kr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Xu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ag(t){Xu(t)}function sg(t){console.error(t)}function lg(t){Xu(t)}function Zu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ug(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function mh(t,n,r){return r=Bi(r),r.tag=3,r.payload={element:null},r.callback=function(){Zu(t,n)},r}function og(t){return t=Bi(t),t.tag=3,t}function cg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){ug(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){ug(n,r,l),typeof c!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function RE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Zs(n,r,c,!0),r=En.current,r!==null){switch(r.tag){case 13:return Qn===null?Ph():r.alternate===null&&ae===0&&(ae=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===jc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),qh(t,l,c)),!1;case 22:return r.flags|=65536,l===jc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),qh(t,l,c)),!1}throw Error(a(435,r.tag))}return qh(t,l,c),Ph(),!1}if(Lt)return n=En.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==zc&&(t=Error(a(422),{cause:l}),Xs(pn(t,r)))):(l!==zc&&(n=Error(a(423),{cause:l}),Xs(pn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=pn(l,r),c=mh(t.stateNode,l,c),Fc(t,c),ae!==4&&(ae=2)),!1;var f=Error(a(520),{cause:l});if(f=pn(f,r),pl===null?pl=[f]:pl.push(f),ae!==4&&(ae=2),n===null)return!0;l=pn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=mh(r.stateNode,l,t),Fc(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Xi===null||!Xi.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=og(c),cg(c,t,r,l),Fc(r,c),!1}r=r.return}while(r!==null);return!1}var hg=Error(a(461)),we=!1;function Me(t,n,r,l){n.child=t===null?eg(n,null,r,l):Ha(n,t.child,r,l)}function fg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Qr(n),l=$c(t,n,r,y,f,c),E=Jc(),t!==null&&!we?(Wc(t,n,c),vi(t,n,c)):(Lt&&E&&Uc(n),n.flags|=1,Me(t,n,l,c),n.child)}function dg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Oc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,mg(t,n,f,l,c)):(t=Vu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ah(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Qs,r(y,l)&&t.ref===n.ref)return vi(t,n,c)}return n.flags|=1,t=fi(f,l),t.ref=n.ref,t.return=n,n.child=t}function mg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Qs(f,l)&&t.ref===n.ref)if(we=!1,n.pendingProps=l=f,Ah(t,c))(t.flags&131072)!==0&&(we=!0);else return n.lanes=t.lanes,vi(t,n,c)}return gh(t,n,r,l,c)}function gg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return pg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uu(n,f!==null?f.cachePool:null),f!==null?mm(n,f):Kc(),ng(n);else return n.lanes=n.childLanes=536870912,pg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Uu(n,f.cachePool),mm(n,f),ji(),n.memoizedState=null):(t!==null&&Uu(n,null),Kc(),ji());return Me(t,n,c,r),n.child}function pg(t,n,r,l){var c=Hc();return c=c===null?null:{parent:ve._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Uu(n,null),Kc(),ng(n),t!==null&&Zs(t,n,l,!0),null}function $u(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function gh(t,n,r,l,c){return Qr(n),r=$c(t,n,r,l,void 0,c),l=Jc(),t!==null&&!we?(Wc(t,n,c),vi(t,n,c)):(Lt&&l&&Uc(n),n.flags|=1,Me(t,n,r,c),n.child)}function yg(t,n,r,l,c,f){return Qr(n),n.updateQueue=null,r=pm(n,l,r,c),gm(t),l=Jc(),t!==null&&!we?(Wc(t,n,f),vi(t,n,f)):(Lt&&l&&Uc(n),n.flags|=1,Me(t,n,r,f),n.child)}function _g(t,n,r,l,c){if(Qr(n),n.stateNode===null){var f=Na,y=r.contextType;typeof y=="object"&&y!==null&&(f=qe(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=dh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Gc(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?qe(y):Na,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(fh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&dh.enqueueReplaceState(f,f.state,null),il(n,l,f,c),nl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=Kr(r,E);f.props=b;var L=f.context,j=r.contextType;y=Na,typeof j=="object"&&j!==null&&(y=qe(j));var Q=r.getDerivedStateFromProps;j=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,j||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==y)&&rg(n,f,l,y),Pi=!1;var P=n.memoizedState;f.state=P,il(n,l,f,c),nl(),L=n.memoizedState,E||P!==L||Pi?(typeof Q=="function"&&(fh(n,r,Q,l),L=n.memoizedState),(b=Pi||ig(n,r,b,l,P,L,y))?(j||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=L),f.props=l,f.state=L,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Qc(t,n),y=n.memoizedProps,j=Kr(r,y),f.props=j,Q=n.pendingProps,P=f.context,L=r.contextType,b=Na,typeof L=="object"&&L!==null&&(b=qe(L)),E=r.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Q||P!==b)&&rg(n,f,l,b),Pi=!1,P=n.memoizedState,f.state=P,il(n,l,f,c),nl();var B=n.memoizedState;y!==Q||P!==B||Pi||t!==null&&t.dependencies!==null&&Nu(t.dependencies)?(typeof E=="function"&&(fh(n,r,E,l),B=n.memoizedState),(j=Pi||ig(n,r,j,l,P,B,b)||t!==null&&t.dependencies!==null&&Nu(t.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=b,l=j):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,$u(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ha(n,t.child,null,c),n.child=Ha(n,null,r,c)):Me(t,n,r,c),n.memoizedState=f.state,t=n.child):t=vi(t,n,c),t}function vg(t,n,r,l){return Ks(),n.flags|=256,Me(t,n,r,l),n.child}var ph={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yh(t){return{baseLanes:t,cachePool:sm()}}function _h(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Tn),t}function Eg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ee.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Lt){if(c?Hi(n):ji(),Lt){var E=re,b;if(b=E){t:{for(b=E,E=Gn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Vn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:qr!==null?{id:di,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},b=nn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ke=n,re=null,b=!0):b=!1}b||jr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return ef(E)?n.lanes=32:n.lanes=536870912,null;_i(n)}return E=l.children,l=l.fallback,c?(ji(),c=n.mode,E=Ju({mode:"hidden",children:E},c),l=Br(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=yh(r),c.childLanes=_h(t,y,r),n.memoizedState=ph,l):(Hi(n),vh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Hi(n),n.flags&=-257,n=Eh(t,n,r)):n.memoizedState!==null?(ji(),n.child=t.child,n.flags|=128,n=null):(ji(),c=l.fallback,E=n.mode,l=Ju({mode:"visible",children:l.children},E),c=Br(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Ha(n,t.child,null,r),l=n.child,l.memoizedState=yh(r),l.childLanes=_h(t,y,r),n.memoizedState=ph,n=c);else if(Hi(n),ef(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var L=y.dgst;y=L,l=Error(a(419)),l.stack="",l.digest=y,Xs({value:l,source:null,stack:null}),n=Eh(t,n,r)}else if(we||Zs(t,n,r,!1),y=(r&t.childLanes)!==0,we||y){if(y=Zt,y!==null&&(l=r&-r,l=(l&42)!==0?1:Ii(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Oa(t,l),un(y,t,l),hg;E.data==="$?"||Ph(),n=Eh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,re=Vn(E.nextSibling),Ke=n,Lt=!0,Hr=null,Gn=!1,t!==null&&(_n[vn++]=di,_n[vn++]=mi,_n[vn++]=qr,di=t.id,mi=t.overflow,qr=n),n=vh(n,l.children),n.flags|=4096);return n}return c?(ji(),c=l.fallback,E=n.mode,b=t.child,L=b.sibling,l=fi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,L!==null?c=fi(L,c):(c=Br(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=yh(r):(b=E.cachePool,b!==null?(L=ve._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=sm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=_h(t,y,r),n.memoizedState=ph,l):(Hi(n),r=t.child,t=r.sibling,r=fi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function vh(t,n){return n=Ju({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ju(t,n){return t=nn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Eh(t,n,r){return Ha(n,t.child,null,r),t=vh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Tg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Pc(t.return,n,r)}function Th(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Ag(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Me(t,n,l.children,r),l=Ee.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tg(t,r,n);else if(t.tag===19)Tg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Z(Ee,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Ku(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Th(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Ku(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Th(n,!0,r,null,f);break;case"together":Th(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function vi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ki|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Zs(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=fi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=fi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Ah(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Nu(t)))}function wE(t,n,r){switch(n.tag){case 3:Xt(n,n.stateNode.containerInfo),Li(n,ve,t.memoizedState.cache),Ks();break;case 27:case 5:Vi(n);break;case 4:Xt(n,n.stateNode.containerInfo);break;case 10:Li(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Hi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Eg(t,n,r):(Hi(n),t=vi(t,n,r),t!==null?t.sibling:null);Hi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Zs(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Ag(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Z(Ee,Ee.current),l)break;return null;case 22:case 23:return n.lanes=0,gg(t,n,r);case 24:Li(n,ve,t.memoizedState.cache)}return vi(t,n,r)}function Sg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)we=!0;else{if(!Ah(t,r)&&(n.flags&128)===0)return we=!1,wE(t,n,r);we=(t.flags&131072)!==0}else we=!1,Lt&&(n.flags&1048576)!==0&&Wd(n,Ou,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Oc(l)?(t=Kr(l,t),n.tag=1,n=_g(null,n,l,t,r)):(n.tag=0,n=gh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Pt){n.tag=11,n=fg(null,n,l,t,r);break t}else if(c===O){n.tag=14,n=dg(null,n,l,t,r);break t}}throw n=Ie(l)||l,Error(a(306,n,""))}}return n;case 0:return gh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=Kr(l,n.pendingProps),_g(t,n,l,c,r);case 3:t:{if(Xt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Qc(t,n),il(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Li(n,ve,l),l!==f.cache&&Bc(n,[ve],r,!0),nl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=vg(t,n,l,r);break t}else if(l!==c){c=pn(Error(a(424)),n),Xs(c),n=vg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(re=Vn(t.firstChild),Ke=n,Lt=!0,Hr=null,Gn=!0,r=eg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ks(),l===c){n=vi(t,n,r);break t}Me(t,n,l,r)}n=n.child}return n;case 26:return $u(t,n),t===null?(r=Dp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Lt||(r=n.type,t=n.pendingProps,l=fo(mt.current).createElement(r),l[pe]=n,l[ce]=t,xe(l,r,t),se(l),n.stateNode=l):n.memoizedState=Dp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Vi(n),t===null&&Lt&&(l=n.stateNode=bp(n.type,n.pendingProps,mt.current),Ke=n,Gn=!0,c=re,Ji(n.type)?(nf=c,re=Vn(l.firstChild)):re=c),Me(t,n,n.pendingProps.children,r),$u(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Lt&&((c=l=re)&&(l=t0(l,n.type,n.pendingProps,Gn),l!==null?(n.stateNode=l,Ke=n,re=Vn(l.firstChild),Gn=!1,c=!0):c=!1),c||jr(n)),Vi(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Jh(c,f)?l=null:y!==null&&Jh(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=$c(t,n,_E,null,null,r),Rl._currentValue=c),$u(t,n),Me(t,n,l,r),n.child;case 6:return t===null&&Lt&&((t=r=re)&&(r=e0(r,n.pendingProps,Gn),r!==null?(n.stateNode=r,Ke=n,re=null,t=!0):t=!1),t||jr(n)),null;case 13:return Eg(t,n,r);case 4:return Xt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ha(n,null,l,r):Me(t,n,l,r),n.child;case 11:return fg(t,n,n.type,n.pendingProps,r);case 7:return Me(t,n,n.pendingProps,r),n.child;case 8:return Me(t,n,n.pendingProps.children,r),n.child;case 12:return Me(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Li(n,n.type,l.value),Me(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Qr(n),c=qe(c),l=l(c),n.flags|=1,Me(t,n,l,r),n.child;case 14:return dg(t,n,n.type,n.pendingProps,r);case 15:return mg(t,n,n.type,n.pendingProps,r);case 19:return Ag(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=Ju(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=fi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return gg(t,n,r);case 24:return Qr(n),l=qe(ve),t===null?(c=Hc(),c===null&&(c=Zt,f=qc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Gc(n),Li(n,ve,c)):((t.lanes&r)!==0&&(Qc(t,n),il(n,null,null,r),nl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Li(n,ve,l)):(l=f.cache,Li(n,ve,l),l!==c.cache&&Bc(n,[ve],r,!0))),Me(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ei(t){t.flags|=4}function bg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Np(n)){if(n=En.current,n!==null&&((Ot&4194048)===Ot?Qn!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||n!==Qn))throw tl=jc,lm;t.flags|=8192}}function Wu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ds():536870912,t.lanes|=n,Fa|=n)}function cl(t,n){if(!Lt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function te(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function DE(t,n,r){var l=n.pendingProps;switch(xc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),pi(ve),Nn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ys(n)?Ei(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,nm())),te(n),null;case 26:return r=n.memoizedState,t===null?(Ei(n),r!==null?(te(n),bg(n,r)):(te(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ei(n),te(n),bg(n,r)):(te(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ei(n),te(n),n.flags&=-16777217),null;case 27:Wn(n),r=mt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ei(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return te(n),null}t=ot.current,Ys(n)?tm(n):(t=bp(c,l,r),n.stateNode=t,Ei(n))}return te(n),null;case 5:if(Wn(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ei(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return te(n),null}if(t=ot.current,Ys(n))tm(n);else{switch(c=fo(mt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[pe]=n,t[ce]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(xe(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ei(n)}}return te(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ei(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=mt.current,Ys(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ke,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[pe]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||yp(t.nodeValue,r)),t||jr(n)}else t=fo(t).createTextNode(l),t[pe]=n,n.stateNode=t}return te(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ys(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[pe]=n}else Ks(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),c=!1}else c=nm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(_i(n),n):(_i(n),null)}if(_i(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Wu(n,n.updateQueue),te(n),null;case 4:return Nn(),t===null&&Yh(n.stateNode.containerInfo),te(n),null;case 10:return pi(n.type),te(n),null;case 19:if(et(Ee),c=n.memoizedState,c===null)return te(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)cl(c,!1);else{if(ae!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Ku(t),f!==null){for(n.flags|=128,cl(c,!1),t=f.updateQueue,n.updateQueue=t,Wu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Jd(r,t),r=r.sibling;return Z(Ee,Ee.current&1|2),n.child}t=t.sibling}c.tail!==null&&cn()>no&&(n.flags|=128,l=!0,cl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Ku(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Wu(n,t),cl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Lt)return te(n),null}else 2*cn()-c.renderingStartTime>no&&r!==536870912&&(n.flags|=128,l=!0,cl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=cn(),n.sibling=null,t=Ee.current,Z(Ee,l?t&1|2:t&1),n):(te(n),null);case 22:case 23:return _i(n),Xc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),r=n.updateQueue,r!==null&&Wu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&et(Fr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),pi(ve),te(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function CE(t,n){switch(xc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return pi(ve),Nn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Wn(n),null;case 13:if(_i(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ks()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return et(Ee),null;case 4:return Nn(),null;case 10:return pi(n.type),null;case 22:case 23:return _i(n),Xc(),t!==null&&et(Fr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return pi(ve),null;case 25:return null;default:return null}}function Rg(t,n){switch(xc(n),n.tag){case 3:pi(ve),Nn();break;case 26:case 27:case 5:Wn(n);break;case 4:Nn();break;case 13:_i(n);break;case 19:et(Ee);break;case 10:pi(n.type);break;case 22:case 23:_i(n),Xc(),t!==null&&et(Fr);break;case 24:pi(ve)}}function hl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Kt(n,n.return,E)}}function Gi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,L=E;try{L()}catch(j){Kt(c,b,j)}}}l=l.next}while(l!==f)}}catch(j){Kt(n,n.return,j)}}function wg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{dm(n,r)}catch(l){Kt(t,t.return,l)}}}function Dg(t,n,r){r.props=Kr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Kt(t,n,l)}}function fl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Kt(t,n,c)}}function Fn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Kt(t,n,c)}else r.current=null}function Cg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Kt(t,t.return,c)}}function Sh(t,n,r){try{var l=t.stateNode;XE(l,t.type,r,n),l[ce]=n}catch(c){Kt(t,t.return,c)}}function Vg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ji(t.type)||t.tag===4}function bh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Vg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ji(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ho));else if(l!==4&&(l===27&&Ji(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Rh(t,n,r),t=t.sibling;t!==null;)Rh(t,n,r),t=t.sibling}function to(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Ji(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(to(t,n,r),t=t.sibling;t!==null;)to(t,n,r),t=t.sibling}function Ig(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);xe(n,l,r),n[pe]=t,n[ce]=r}catch(f){Kt(t,t.return,f)}}var Ti=!1,ue=!1,wh=!1,Og=typeof WeakSet=="function"?WeakSet:Set,De=null;function VE(t,n){if(t=t.containerInfo,Zh=vo,t=Hd(t),bc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,L=0,j=0,Q=t,P=null;e:for(;;){for(var B;Q!==r||c!==0&&Q.nodeType!==3||(E=y+c),Q!==f||l!==0&&Q.nodeType!==3||(b=y+l),Q.nodeType===3&&(y+=Q.nodeValue.length),(B=Q.firstChild)!==null;)P=Q,Q=B;for(;;){if(Q===t)break e;if(P===r&&++L===c&&(E=y),P===f&&++j===l&&(b=y),(B=Q.nextSibling)!==null)break;Q=P,P=Q.parentNode}Q=B}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for($h={focusedElem:t,selectionRange:r},vo=!1,De=n;De!==null;)if(n=De,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,De=t;else for(;De!==null;){switch(n=De,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ft=Kr(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(ft,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ct){Kt(r,r.return,ct)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)tf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":tf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,De=t;break}De=n.return}}function Ng(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Qi(t,r),l&4&&hl(5,r);break;case 1:if(Qi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Kt(r,r.return,y)}else{var c=Kr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Kt(r,r.return,y)}}l&64&&wg(r),l&512&&fl(r,r.return);break;case 3:if(Qi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{dm(t,n)}catch(y){Kt(r,r.return,y)}}break;case 27:n===null&&l&4&&Ig(r);case 26:case 5:Qi(t,r),n===null&&l&4&&Cg(r),l&512&&fl(r,r.return);break;case 12:Qi(t,r);break;case 13:Qi(t,r),l&4&&xg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=PE.bind(null,r),n0(t,r))));break;case 22:if(l=r.memoizedState!==null||Ti,!l){n=n!==null&&n.memoizedState!==null||ue,c=Ti;var f=ue;Ti=l,(ue=n)&&!f?Fi(t,r,(r.subtreeFlags&8772)!==0):Qi(t,r),Ti=c,ue=f}break;case 30:break;default:Qi(t,r)}}function Mg(t){var n=t.alternate;n!==null&&(t.alternate=null,Mg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Mi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Wt=null,Ze=!1;function Ai(t,n,r){for(r=r.child;r!==null;)Ug(t,n,r),r=r.sibling}function Ug(t,n,r){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(ie,r)}catch{}switch(r.tag){case 26:ue||Fn(r,n),Ai(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ue||Fn(r,n);var l=Wt,c=Ze;Ji(r.type)&&(Wt=r.stateNode,Ze=!1),Ai(t,n,r),Tl(r.stateNode),Wt=l,Ze=c;break;case 5:ue||Fn(r,n);case 6:if(l=Wt,c=Ze,Wt=null,Ai(t,n,r),Wt=l,Ze=c,Wt!==null)if(Ze)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(r.stateNode)}catch(f){Kt(r,n,f)}else try{Wt.removeChild(r.stateNode)}catch(f){Kt(r,n,f)}break;case 18:Wt!==null&&(Ze?(t=Wt,Ap(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Vl(t)):Ap(Wt,r.stateNode));break;case 4:l=Wt,c=Ze,Wt=r.stateNode.containerInfo,Ze=!0,Ai(t,n,r),Wt=l,Ze=c;break;case 0:case 11:case 14:case 15:ue||Gi(2,r,n),ue||Gi(4,r,n),Ai(t,n,r);break;case 1:ue||(Fn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Dg(r,n,l)),Ai(t,n,r);break;case 21:Ai(t,n,r);break;case 22:ue=(l=ue)||r.memoizedState!==null,Ai(t,n,r),ue=l;break;default:Ai(t,n,r)}}function xg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vl(t)}catch(r){Kt(n,n.return,r)}}function IE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Og),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Og),n;default:throw Error(a(435,t.tag))}}function Dh(t,n){var r=IE(t);n.forEach(function(l){var c=BE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function rn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Ji(E.type)){Wt=E.stateNode,Ze=!1;break t}break;case 5:Wt=E.stateNode,Ze=!1;break t;case 3:case 4:Wt=E.stateNode.containerInfo,Ze=!0;break t}E=E.return}if(Wt===null)throw Error(a(160));Ug(f,y,c),Wt=null,Ze=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)zg(n,t),n=n.sibling}var Cn=null;function zg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:rn(n,t),an(t),l&4&&(Gi(3,t,t.return),hl(3,t),Gi(5,t,t.return));break;case 1:rn(n,t),an(t),l&512&&(ue||r===null||Fn(r,r.return)),l&64&&Ti&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Cn;if(rn(n,t),an(t),l&512&&(ue||r===null||Fn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Sr]||f[pe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),xe(f,l,r),f[pe]=t,se(f),l=f;break t;case"link":var y=Ip("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),xe(f,l,r),c.head.appendChild(f);break;case"meta":if(y=Ip("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),xe(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[pe]=t,se(f),l=f}t.stateNode=l}else Op(c,t.type,t.stateNode);else t.stateNode=Vp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Op(c,t.type,t.stateNode):Vp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Sh(t,t.memoizedProps,r.memoizedProps)}break;case 27:rn(n,t),an(t),l&512&&(ue||r===null||Fn(r,r.return)),r!==null&&l&4&&Sh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(rn(n,t),an(t),l&512&&(ue||r===null||Fn(r,r.return)),t.flags&32){c=t.stateNode;try{fn(c,"")}catch(B){Kt(t,t.return,B)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Sh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(wh=!0);break;case 6:if(rn(n,t),an(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(B){Kt(t,t.return,B)}}break;case 3:if(po=null,c=Cn,Cn=mo(n.containerInfo),rn(n,t),Cn=c,an(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Vl(n.containerInfo)}catch(B){Kt(t,t.return,B)}wh&&(wh=!1,Lg(t));break;case 4:l=Cn,Cn=mo(t.stateNode.containerInfo),rn(n,t),an(t),Cn=l;break;case 12:rn(n,t),an(t);break;case 13:rn(n,t),an(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Mh=cn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dh(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,L=Ti,j=ue;if(Ti=L||c,ue=j||b,rn(n,t),ue=j,Ti=L,an(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||Ti||ue||Xr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var Q=b.memoizedProps.style,P=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(B){Kt(b,b.return,B)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(B){Kt(b,b.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Dh(t,r))));break;case 19:rn(n,t),an(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dh(t,l)));break;case 30:break;case 21:break;default:rn(n,t),an(t)}}function an(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Vg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=bh(t);to(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(fn(y,""),r.flags&=-33);var E=bh(t);to(t,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,L=bh(t);Rh(t,L,b);break;default:throw Error(a(161))}}catch(j){Kt(t,t.return,j)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Lg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Lg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Qi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ng(t,n.alternate,n),n=n.sibling}function Xr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Gi(4,n,n.return),Xr(n);break;case 1:Fn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Dg(n,n.return,r),Xr(n);break;case 27:Tl(n.stateNode);case 26:case 5:Fn(n,n.return),Xr(n);break;case 22:n.memoizedState===null&&Xr(n);break;case 30:Xr(n);break;default:Xr(n)}t=t.sibling}}function Fi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(c,f,r),hl(4,f);break;case 1:if(Fi(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(L){Kt(l,l.return,L)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)fm(b[c],E)}catch(L){Kt(l,l.return,L)}}r&&y&64&&wg(f),fl(f,f.return);break;case 27:Ig(f);case 26:case 5:Fi(c,f,r),r&&l===null&&y&4&&Cg(f),fl(f,f.return);break;case 12:Fi(c,f,r);break;case 13:Fi(c,f,r),r&&y&4&&xg(c,f);break;case 22:f.memoizedState===null&&Fi(c,f,r),fl(f,f.return);break;case 30:break;default:Fi(c,f,r)}n=n.sibling}}function Ch(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&$s(r))}function Vh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$s(t))}function Yn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Pg(t,n,r,l),n=n.sibling}function Pg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(t,n,r,l),c&2048&&hl(9,n);break;case 1:Yn(t,n,r,l);break;case 3:Yn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$s(t)));break;case 12:if(c&2048){Yn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Kt(n,n.return,b)}}else Yn(t,n,r,l);break;case 13:Yn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(t,n,r,l):dl(t,n):f._visibility&2?Yn(t,n,r,l):(f._visibility|=2,ja(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Ch(y,n);break;case 24:Yn(t,n,r,l),c&2048&&Vh(n.alternate,n);break;default:Yn(t,n,r,l)}}function ja(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,L=y.flags;switch(y.tag){case 0:case 11:case 15:ja(f,y,E,b,c),hl(8,y);break;case 23:break;case 22:var j=y.stateNode;y.memoizedState!==null?j._visibility&2?ja(f,y,E,b,c):dl(f,y):(j._visibility|=2,ja(f,y,E,b,c)),c&&L&2048&&Ch(y.alternate,y);break;case 24:ja(f,y,E,b,c),c&&L&2048&&Vh(y.alternate,y);break;default:ja(f,y,E,b,c)}n=n.sibling}}function dl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:dl(r,l),c&2048&&Ch(l.alternate,l);break;case 24:dl(r,l),c&2048&&Vh(l.alternate,l);break;default:dl(r,l)}n=n.sibling}}var ml=8192;function Ga(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)Bg(t),t=t.sibling}function Bg(t){switch(t.tag){case 26:Ga(t),t.flags&ml&&t.memoizedState!==null&&g0(Cn,t.memoizedState,t.memoizedProps);break;case 5:Ga(t);break;case 3:case 4:var n=Cn;Cn=mo(t.stateNode.containerInfo),Ga(t),Cn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=ml,ml=16777216,Ga(t),ml=n):Ga(t));break;default:Ga(t)}}function qg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function gl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];De=l,Hg(l,t)}qg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kg(t),t=t.sibling}function kg(t){switch(t.tag){case 0:case 11:case 15:gl(t),t.flags&2048&&Gi(9,t,t.return);break;case 3:gl(t);break;case 12:gl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,eo(t)):gl(t);break;default:gl(t)}}function eo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];De=l,Hg(l,t)}qg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Gi(8,n,n.return),eo(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,eo(n));break;default:eo(n)}t=t.sibling}}function Hg(t,n){for(;De!==null;){var r=De;switch(r.tag){case 0:case 11:case 15:Gi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$s(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,De=l;else t:for(r=t;De!==null;){l=De;var c=l.sibling,f=l.return;if(Mg(l),l===r){De=null;break t}if(c!==null){c.return=f,De=c;break t}De=f}}}var OE={getCacheForType:function(t){var n=qe(ve),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},NE=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Zt=null,wt=null,Ot=0,jt=0,sn=null,Yi=!1,Qa=!1,Ih=!1,Si=0,ae=0,Ki=0,Zr=0,Oh=0,Tn=0,Fa=0,pl=null,$e=null,Nh=!1,Mh=0,no=1/0,io=null,Xi=null,Ue=0,Zi=null,Ya=null,Ka=0,Uh=0,xh=null,jg=null,yl=0,zh=null;function ln(){if((Ht&2)!==0&&Ot!==0)return Ot&-Ot;if(H.T!==null){var t=xa;return t!==0?t:jh()}return Oi()}function Gg(){Tn===0&&(Tn=(Ot&536870912)===0||Lt?ws():536870912);var t=En.current;return t!==null&&(t.flags|=32),Tn}function un(t,n,r){(t===Zt&&(jt===2||jt===9)||t.cancelPendingCommit!==null)&&(Xa(t,0),$i(t,Ot,Tn,!1)),ei(t,r),((Ht&2)===0||t!==Zt)&&(t===Zt&&((Ht&2)===0&&(Zr|=r),ae===4&&$i(t,Ot,Tn,!1)),Kn(t))}function Qg(t,n,r){if((Ht&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Ar(t,n),c=l?xE(t,n):Bh(t,n,!0),f=l;do{if(c===0){Qa&&!l&&$i(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!ME(r)){c=Bh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=pl;var b=E.current.memoizedState.isDehydrated;if(b&&(Xa(E,y).flags|=256),y=Bh(E,y,!1),y!==2){if(Ih&&!b){E.errorRecoveryDisabledLanes|=f,Zr|=f,c=4;break t}f=$e,$e=c,f!==null&&($e===null?$e=f:$e.push.apply($e,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Xa(t,0),$i(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:$i(l,n,Tn,!Yi);break t;case 2:$e=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Mh+300-cn(),10<c)){if($i(l,n,Tn,!Yi),fa(l,0,!0)!==0)break t;l.timeoutHandle=Ep(Fg.bind(null,l,r,$e,io,Nh,n,Tn,Zr,Fa,Yi,f,2,-0,0),c);break t}Fg(l,r,$e,io,Nh,n,Tn,Zr,Fa,Yi,f,0,-0,0)}}break}while(!0);Kn(t)}function Fg(t,n,r,l,c,f,y,E,b,L,j,Q,P,B){if(t.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(bl={stylesheets:null,count:0,unsuspend:m0},Bg(n),Q=p0(),Q!==null)){t.cancelPendingCommit=Q(Wg.bind(null,t,n,f,r,l,c,y,E,b,j,1,P,B)),$i(t,f,y,!L);return}Wg(t,n,f,r,l,c,y,E,b)}function ME(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!en(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function $i(t,n,r,l){n&=~Oh,n&=~Zr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Be(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&Mn(t,r,n)}function ro(){return(Ht&6)===0?(_l(0),!1):!0}function Lh(){if(wt!==null){if(jt===0)var t=wt.return;else t=wt,gi=Gr=null,th(t),ka=null,ul=0,t=wt;for(;t!==null;)Rg(t.alternate,t),t=t.return;wt=null}}function Xa(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,$E(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Lh(),Zt=t,wt=r=fi(t.current,null),Ot=n,jt=0,sn=null,Yi=!1,Qa=Ar(t,n),Ih=!1,Fa=Tn=Oh=Zr=Ki=ae=0,$e=pl=null,Nh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Be(l),f=1<<c;n|=t[c],l&=~f}return Si=n,wu(),r}function Yg(t,n){At=null,H.H=Qu,n===Ws||n===xu?(n=cm(),jt=3):n===lm?(n=cm(),jt=4):jt=n===hg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,sn=n,wt===null&&(ae=1,Zu(t,pn(n,t.current)))}function Kg(){var t=H.H;return H.H=Qu,t===null?Qu:t}function Xg(){var t=H.A;return H.A=OE,t}function Ph(){ae=4,Yi||(Ot&4194048)!==Ot&&En.current!==null||(Qa=!0),(Ki&134217727)===0&&(Zr&134217727)===0||Zt===null||$i(Zt,Ot,Tn,!1)}function Bh(t,n,r){var l=Ht;Ht|=2;var c=Kg(),f=Xg();(Zt!==t||Ot!==n)&&(io=null,Xa(t,n)),n=!1;var y=ae;t:do try{if(jt!==0&&wt!==null){var E=wt,b=sn;switch(jt){case 8:Lh(),y=6;break t;case 3:case 2:case 9:case 6:En.current===null&&(n=!0);var L=jt;if(jt=0,sn=null,Za(t,E,b,L),r&&Qa){y=0;break t}break;default:L=jt,jt=0,sn=null,Za(t,E,b,L)}}UE(),y=ae;break}catch(j){Yg(t,j)}while(!0);return n&&t.shellSuspendCounter++,gi=Gr=null,Ht=l,H.H=c,H.A=f,wt===null&&(Zt=null,Ot=0,wu()),y}function UE(){for(;wt!==null;)Zg(wt)}function xE(t,n){var r=Ht;Ht|=2;var l=Kg(),c=Xg();Zt!==t||Ot!==n?(io=null,no=cn()+500,Xa(t,n)):Qa=Ar(t,n);t:do try{if(jt!==0&&wt!==null){n=wt;var f=sn;e:switch(jt){case 1:jt=0,sn=null,Za(t,n,f,1);break;case 2:case 9:if(um(f)){jt=0,sn=null,$g(n);break}n=function(){jt!==2&&jt!==9||Zt!==t||(jt=7),Kn(t)},f.then(n,n);break t;case 3:jt=7;break t;case 4:jt=5;break t;case 7:um(f)?(jt=0,sn=null,$g(n)):(jt=0,sn=null,Za(t,n,f,7));break;case 5:var y=null;switch(wt.tag){case 26:y=wt.memoizedState;case 5:case 27:var E=wt;if(!y||Np(y)){jt=0,sn=null;var b=E.sibling;if(b!==null)wt=b;else{var L=E.return;L!==null?(wt=L,ao(L)):wt=null}break e}}jt=0,sn=null,Za(t,n,f,5);break;case 6:jt=0,sn=null,Za(t,n,f,6);break;case 8:Lh(),ae=6;break t;default:throw Error(a(462))}}zE();break}catch(j){Yg(t,j)}while(!0);return gi=Gr=null,H.H=l,H.A=c,Ht=r,wt!==null?0:(Zt=null,Ot=0,wu(),ae)}function zE(){for(;wt!==null&&!As();)Zg(wt)}function Zg(t){var n=Sg(t.alternate,t,Si);t.memoizedProps=t.pendingProps,n===null?ao(t):wt=n}function $g(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=yg(r,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=yg(r,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:th(n);default:Rg(r,n),n=wt=Jd(n,Si),n=Sg(r,n,Si)}t.memoizedProps=t.pendingProps,n===null?ao(t):wt=n}function Za(t,n,r,l){gi=Gr=null,th(n),ka=null,ul=0;var c=n.return;try{if(RE(t,c,n,r,Ot)){ae=1,Zu(t,pn(r,t.current)),wt=null;return}}catch(f){if(c!==null)throw wt=c,f;ae=1,Zu(t,pn(r,t.current)),wt=null;return}n.flags&32768?(Lt||l===1?t=!0:Qa||(Ot&536870912)!==0?t=!1:(Yi=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),Jg(n,t)):ao(n)}function ao(t){var n=t;do{if((n.flags&32768)!==0){Jg(n,Yi);return}t=n.return;var r=DE(n.alternate,n,Si);if(r!==null){wt=r;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);ae===0&&(ae=5)}function Jg(t,n){do{var r=CE(t.alternate,t);if(r!==null){r.flags&=32767,wt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=r}while(t!==null);ae=6,wt=null}function Wg(t,n,r,l,c,f,y,E,b){t.cancelPendingCommit=null;do so();while(Ue!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Vc,Cs(t,r,f,y,E,b),t===Zt&&(wt=Zt=null,Ot=0),Ya=n,Zi=t,Ka=r,Uh=f,xh=c,jg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,qE(_r,function(){return rp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=tt.p,tt.p=2,y=Ht,Ht|=4;try{VE(t,n,r)}finally{Ht=y,tt.p=c,H.T=l}}Ue=1,tp(),ep(),np()}}function tp(){if(Ue===1){Ue=0;var t=Zi,n=Ya,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{zg(n,t);var f=$h,y=Hd(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&kd(E.ownerDocument.documentElement,E)){if(b!==null&&bc(E)){var L=b.start,j=b.end;if(j===void 0&&(j=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(j,E.value.length);else{var Q=E.ownerDocument||document,P=Q&&Q.defaultView||window;if(P.getSelection){var B=P.getSelection(),ft=E.textContent.length,ct=Math.min(b.start,ft),Yt=b.end===void 0?ct:Math.min(b.end,ft);!B.extend&&ct>Yt&&(y=Yt,Yt=ct,ct=y);var M=qd(E,ct),C=qd(E,Yt);if(M&&C&&(B.rangeCount!==1||B.anchorNode!==M.node||B.anchorOffset!==M.offset||B.focusNode!==C.node||B.focusOffset!==C.offset)){var z=Q.createRange();z.setStart(M.node,M.offset),B.removeAllRanges(),ct>Yt?(B.addRange(z),B.extend(C.node,C.offset)):(z.setEnd(C.node,C.offset),B.addRange(z))}}}}for(Q=[],B=E;B=B.parentNode;)B.nodeType===1&&Q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var G=Q[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}vo=!!Zh,$h=Zh=null}finally{Ht=c,tt.p=l,H.T=r}}t.current=n,Ue=2}}function ep(){if(Ue===2){Ue=0;var t=Zi,n=Ya,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{Ng(t,n.alternate,n)}finally{Ht=c,tt.p=l,H.T=r}}Ue=3}}function np(){if(Ue===4||Ue===3){Ue=0,eu();var t=Zi,n=Ya,r=Ka,l=jg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,Ya=Zi=null,ip(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Xi=null),da(r),n=n.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(ie,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=tt.p,tt.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,tt.p=c}}(Ka&3)!==0&&so(),Kn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===zh?yl++:(yl=0,zh=t):yl=0,_l(0)}}function ip(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,$s(n)))}function so(t){return tp(),ep(),np(),rp()}function rp(){if(Ue!==5)return!1;var t=Zi,n=Uh;Uh=0;var r=da(Ka),l=H.T,c=tt.p;try{tt.p=32>r?32:r,H.T=null,r=xh,xh=null;var f=Zi,y=Ka;if(Ue=0,Ya=Zi=null,Ka=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,kg(f.current),Pg(f,f.current,y,r),Ht=E,_l(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(ie,f)}catch{}return!0}finally{tt.p=c,H.T=l,ip(t,n)}}function ap(t,n,r){n=pn(r,n),n=mh(t.stateNode,n,2),t=qi(t,n,2),t!==null&&(ei(t,2),Kn(t))}function Kt(t,n,r){if(t.tag===3)ap(t,t,r);else for(;n!==null;){if(n.tag===3){ap(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xi===null||!Xi.has(l))){t=pn(r,t),r=og(2),l=qi(n,r,2),l!==null&&(cg(r,l,n,t),ei(l,2),Kn(l));break}}n=n.return}}function qh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new NE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Ih=!0,c.add(r),t=LE.bind(null,t,n,r),n.then(t,t))}function LE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Zt===t&&(Ot&r)===r&&(ae===4||ae===3&&(Ot&62914560)===Ot&&300>cn()-Mh?(Ht&2)===0&&Xa(t,0):Oh|=r,Fa===Ot&&(Fa=0)),Kn(t)}function sp(t,n){n===0&&(n=Ds()),t=Oa(t,n),t!==null&&(ei(t,n),Kn(t))}function PE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),sp(t,r)}function BE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),sp(t,r)}function qE(t,n){return pr(t,n)}var lo=null,$a=null,kh=!1,uo=!1,Hh=!1,$r=0;function Kn(t){t!==$a&&t.next===null&&($a===null?lo=$a=t:$a=$a.next=t),uo=!0,kh||(kh=!0,HE())}function _l(t,n){if(!Hh&&uo){Hh=!0;do for(var r=!1,l=lo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Be(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,cp(l,f))}else f=Ot,f=fa(l,l===Zt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ar(l,f)||(r=!0,cp(l,f));l=l.next}while(r);Hh=!1}}function kE(){lp()}function lp(){uo=kh=!1;var t=0;$r!==0&&(ZE()&&(t=$r),$r=0);for(var n=cn(),r=null,l=lo;l!==null;){var c=l.next,f=up(l,n);f===0?(l.next=null,r===null?lo=c:r.next=c,c===null&&($a=r)):(r=l,(t!==0||(f&3)!==0)&&(uo=!0)),l=c}_l(t)}function up(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Be(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Rs(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=Zt,r=Ot,r=fa(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(jt===2||jt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&yr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Ar(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&yr(l),da(r)){case 2:case 8:r=ca;break;case 32:r=_r;break;case 268435456:r=ha;break;default:r=_r}return l=op.bind(null,t),r=pr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&yr(l),t.callbackPriority=2,t.callbackNode=null,2}function op(t,n){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(so()&&t.callbackNode!==r)return null;var l=Ot;return l=fa(t,t===Zt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Qg(t,l,n),up(t,cn()),t.callbackNode!=null&&t.callbackNode===r?op.bind(null,t):null)}function cp(t,n){if(so())return null;Qg(t,n,!0)}function HE(){JE(function(){(Ht&6)!==0?pr(Ss,kE):lp()})}function jh(){return $r===0&&($r=ws()),$r}function hp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:va(""+t)}function fp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function jE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=hp((c[ce]||null).action),y=l.submitter;y&&(n=(n=y[ce]||null)?hp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ea("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($r!==0){var b=y?fp(c,y):new FormData(c);oh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?fp(c,y):new FormData(c),oh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Gh=0;Gh<Cc.length;Gh++){var Qh=Cc[Gh],GE=Qh.toLowerCase(),QE=Qh[0].toUpperCase()+Qh.slice(1);Dn(GE,"on"+QE)}Dn(Qd,"onAnimationEnd"),Dn(Fd,"onAnimationIteration"),Dn(Yd,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn(uE,"onTransitionRun"),Dn(oE,"onTransitionStart"),Dn(cE,"onTransitionCancel"),Dn(Kd,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),Rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function dp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,L=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=L;try{f(c)}catch(j){Xu(j)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,L=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=L;try{f(c)}catch(j){Xu(j)}c.currentTarget=null,f=b}}}}function Dt(t,n){var r=n[Is];r===void 0&&(r=n[Is]=new Set);var l=t+"__bubble";r.has(l)||(mp(n,t,2,!1),r.add(l))}function Fh(t,n,r){var l=0;n&&(l|=4),mp(r,t,l,n)}var oo="_reactListening"+Math.random().toString(36).slice(2);function Yh(t){if(!t[oo]){t[oo]=!0,Os.forEach(function(r){r!=="selectionchange"&&(FE.has(r)||Fh(r,!1,t),Fh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[oo]||(n[oo]=!0,Fh("selectionchange",!1,n))}}function mp(t,n,r,l){switch(Pp(n)){case 2:var c=v0;break;case 8:c=E0;break;default:c=uf}r=c.bind(null,n,r,t),c=void 0,!mn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Kh(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ni(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}hu(function(){var L=f,j=dn(r),Q=[];t:{var P=Xd.get(t);if(P!==void 0){var B=Ea,ft=t;switch(t){case"keypress":if(Bn(r)===0)break t;case"keydown":case"keyup":B=wa;break;case"focusin":ft="focus",B=Sa;break;case"focusout":ft="blur",B=Sa;break;case"beforeblur":case"afterblur":B=Sa;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Ec;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=vu;break;case Qd:case Fd:case Yd:B=ba;break;case Kd:B=Tu;break;case"scroll":case"scrollend":B=fu;break;case"wheel":B=Da;break;case"copy":case"cut":case"paste":B=Ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=js;break;case"toggle":case"beforetoggle":B=Su}var ct=(n&4)!==0,Yt=!ct&&(t==="scroll"||t==="scrollend"),M=ct?P!==null?P+"Capture":null:P;ct=[];for(var C=L,z;C!==null;){var G=C;if(z=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||z===null||M===null||(G=Ir(C,M),G!=null&&ct.push(El(C,G,z))),Yt)break;C=C.return}0<ct.length&&(P=new B(P,ft,null,r,j),Q.push({event:P,listeners:ct}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",P&&r!==si&&(ft=r.relatedTarget||r.fromElement)&&(ni(ft)||ft[hn]))break t;if((B||P)&&(P=j.window===j?j:(P=j.ownerDocument)?P.defaultView||P.parentWindow:window,B?(ft=r.relatedTarget||r.toElement,B=L,ft=ft?ni(ft):null,ft!==null&&(Yt=h(ft),ct=ft.tag,ft!==Yt||ct!==5&&ct!==27&&ct!==6)&&(ft=null)):(B=null,ft=L),B!==ft)){if(ct=gn,G="onMouseLeave",M="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(ct=js,G="onPointerLeave",M="onPointerEnter",C="pointer"),Yt=B==null?P:xn(B),z=ft==null?P:xn(ft),P=new ct(G,C+"leave",B,r,j),P.target=Yt,P.relatedTarget=z,G=null,ni(j)===L&&(ct=new ct(M,C+"enter",ft,r,j),ct.target=z,ct.relatedTarget=Yt,G=ct),Yt=G,B&&ft)e:{for(ct=B,M=ft,C=0,z=ct;z;z=Ja(z))C++;for(z=0,G=M;G;G=Ja(G))z++;for(;0<C-z;)ct=Ja(ct),C--;for(;0<z-C;)M=Ja(M),z--;for(;C--;){if(ct===M||M!==null&&ct===M.alternate)break e;ct=Ja(ct),M=Ja(M)}ct=null}else ct=null;B!==null&&gp(Q,P,B,ct,!1),ft!==null&&Yt!==null&&gp(Q,Yt,ft,ct,!0)}}t:{if(P=L?xn(L):window,B=P.nodeName&&P.nodeName.toLowerCase(),B==="select"||B==="input"&&P.type==="file")var rt=Ud;else if(_e(P))if(xd)rt=aE;else{rt=iE;var Rt=nE}else B=P.nodeName,!B||B.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?L&&zs(L.elementType)&&(rt=Ud):rt=rE;if(rt&&(rt=rt(t,L))){hi(Q,rt,r,j);break t}Rt&&Rt(t,P,L),t==="focusout"&&L&&P.type==="number"&&L.memoizedProps.value!=null&&xi(P,"number",P.value)}switch(Rt=L?xn(L):window,t){case"focusin":(_e(Rt)||Rt.contentEditable==="true")&&(Ca=Rt,Rc=L,Fs=null);break;case"focusout":Fs=Rc=Ca=null;break;case"mousedown":wc=!0;break;case"contextmenu":case"mouseup":case"dragend":wc=!1,jd(Q,r,j);break;case"selectionchange":if(lE)break;case"keydown":case"keyup":jd(Q,r,j)}var st;if(Hn)t:{switch(t){case"compositionstart":var ht="onCompositionStart";break t;case"compositionend":ht="onCompositionEnd";break t;case"compositionupdate":ht="onCompositionUpdate";break t}ht=void 0}else Vt?k(t,r)&&(ht="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ht="onCompositionStart");ht&&(g&&r.locale!=="ko"&&(Vt||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Vt&&(st=Ps()):(Pn=j,zi="value"in Pn?Pn.value:Pn.textContent,Vt=!0)),Rt=co(L,ht),0<Rt.length&&(ht=new ks(ht,t,null,r,j),Q.push({event:ht,listeners:Rt}),st?ht.data=st:(st=J(r),st!==null&&(ht.data=st)))),(st=m?ye(t,r):It(t,r))&&(ht=co(L,"onBeforeInput"),0<ht.length&&(Rt=new ks("onBeforeInput","beforeinput",null,r,j),Q.push({event:Rt,listeners:ht}),Rt.data=st)),jE(Q,t,L,r,j)}dp(Q,n)})}function El(t,n,r){return{instance:t,listener:n,currentTarget:r}}function co(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Ir(t,r),c!=null&&l.unshift(El(t,c,f)),c=Ir(t,n),c!=null&&l.push(El(t,c,f))),t.tag===3)return l;t=t.return}return[]}function Ja(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function gp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,L=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||L===null||(b=L,c?(L=Ir(r,f),L!=null&&y.unshift(El(r,L,b))):c||(L=Ir(r,f),L!=null&&y.push(El(r,L,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var YE=/\r\n?/g,KE=/\u0000|\uFFFD/g;function pp(t){return(typeof t=="string"?t:""+t).replace(YE,`
`).replace(KE,"")}function yp(t,n){return n=pp(n),pp(t)===n}function ho(){}function Ft(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||fn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&fn(t,""+l);break;case"className":zn(t,"class",l);break;case"tabIndex":zn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":zn(t,r,l);break;case"style":xs(t,l,f);break;case"data":if(n!=="object"){zn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=va(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ft(t,n,"name",c.name,c,null),Ft(t,n,"formEncType",c.formEncType,c,null),Ft(t,n,"formMethod",c.formMethod,c,null),Ft(t,n,"formTarget",c.formTarget,c,null)):(Ft(t,n,"encType",c.encType,c,null),Ft(t,n,"method",c.method,c,null),Ft(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=va(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=ho);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=va(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),Ui(t,"popover",l);break;case"xlinkActuate":Oe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Oe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Oe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Oe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Oe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Oe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ui(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=_c.get(r)||r,Ui(t,r,l))}}function Xh(t,n,r,l,c,f){switch(r){case"style":xs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?fn(t,l):(typeof l=="number"||typeof l=="bigint")&&fn(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ho);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ma.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[ce]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Ui(t,r,l)}}}function xe(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(t,n,f,y,r,null)}}c&&Ft(t,n,"srcSet",r.srcSet,r,null),l&&Ft(t,n,"src",r.src,r,null);return;case"input":Dt("invalid",t);var E=f=y=c=null,b=null,L=null;for(l in r)if(r.hasOwnProperty(l)){var j=r[l];if(j!=null)switch(l){case"name":c=j;break;case"type":y=j;break;case"checked":b=j;break;case"defaultChecked":L=j;break;case"value":f=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Ft(t,n,l,j,r,null)}}Dr(t,f,E,b,L,y,c,!1),_a(t);return;case"select":Dt("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Ft(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?ai(t,!!l,n,!1):r!=null&&ai(t,!!l,r,!0);return;case"textarea":Dt("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Ft(t,n,y,E,r,null)}Cr(t,l,c,f),_a(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ft(t,n,b,l,r,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<vl.length;l++)Dt(vl[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in r)if(r.hasOwnProperty(L)&&(l=r[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(t,n,L,l,r,null)}return;default:if(zs(n)){for(j in r)r.hasOwnProperty(j)&&(l=r[j],l!==void 0&&Xh(t,n,j,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Ft(t,n,E,l,r,null))}function XE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,L=null,j=null;for(B in r){var Q=r[B];if(r.hasOwnProperty(B)&&Q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=Q;default:l.hasOwnProperty(B)||Ft(t,n,B,null,l,Q)}}for(var P in l){var B=l[P];if(Q=r[P],l.hasOwnProperty(P)&&(B!=null||Q!=null))switch(P){case"type":f=B;break;case"name":c=B;break;case"checked":L=B;break;case"defaultChecked":j=B;break;case"value":y=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==Q&&Ft(t,n,P,B,l,Q)}}tn(t,y,E,b,L,j,f,c);return;case"select":B=y=E=P=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:l.hasOwnProperty(f)||Ft(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Ft(t,n,c,f,l,b)}n=E,r=y,l=B,P!=null?ai(t,!!r,P,!1):!!l!=!!r&&(n!=null?ai(t,!!r,n,!0):ai(t,!!r,r?[]:"",!1));return;case"textarea":B=P=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ft(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":P=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Ft(t,n,y,c,l,f)}Gt(t,P,B);return;case"option":for(var ft in r)if(P=r[ft],r.hasOwnProperty(ft)&&P!=null&&!l.hasOwnProperty(ft))switch(ft){case"selected":t.selected=!1;break;default:Ft(t,n,ft,null,l,P)}for(b in l)if(P=l[b],B=r[b],l.hasOwnProperty(b)&&P!==B&&(P!=null||B!=null))switch(b){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Ft(t,n,b,P,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in r)P=r[ct],r.hasOwnProperty(ct)&&P!=null&&!l.hasOwnProperty(ct)&&Ft(t,n,ct,null,l,P);for(L in l)if(P=l[L],B=r[L],l.hasOwnProperty(L)&&P!==B&&(P!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:Ft(t,n,L,P,l,B)}return;default:if(zs(n)){for(var Yt in r)P=r[Yt],r.hasOwnProperty(Yt)&&P!==void 0&&!l.hasOwnProperty(Yt)&&Xh(t,n,Yt,void 0,l,P);for(j in l)P=l[j],B=r[j],!l.hasOwnProperty(j)||P===B||P===void 0&&B===void 0||Xh(t,n,j,P,l,B);return}}for(var M in r)P=r[M],r.hasOwnProperty(M)&&P!=null&&!l.hasOwnProperty(M)&&Ft(t,n,M,null,l,P);for(Q in l)P=l[Q],B=r[Q],!l.hasOwnProperty(Q)||P===B||P==null&&B==null||Ft(t,n,Q,P,l,B)}var Zh=null,$h=null;function fo(t){return t.nodeType===9?t:t.ownerDocument}function _p(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Jh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Wh=null;function ZE(){var t=window.event;return t&&t.type==="popstate"?t===Wh?!1:(Wh=t,!0):(Wh=null,!1)}var Ep=typeof setTimeout=="function"?setTimeout:void 0,$E=typeof clearTimeout=="function"?clearTimeout:void 0,Tp=typeof Promise=="function"?Promise:void 0,JE=typeof queueMicrotask=="function"?queueMicrotask:typeof Tp<"u"?function(t){return Tp.resolve(null).then(t).catch(WE)}:Ep;function WE(t){setTimeout(function(){throw t})}function Ji(t){return t==="head"}function Ap(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Tl(y.documentElement),r&2&&Tl(y.body),r&4)for(r=y.head,Tl(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Sr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),Vl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Vl(n)}function tf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":tf(r),Mi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function t0(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Sr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Vn(t.nextSibling),t===null)break}return null}function e0(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Vn(t.nextSibling),t===null))return null;return t}function ef(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function n0(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Vn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var nf=null;function Sp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function bp(t,n,r){switch(n=fo(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Tl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Mi(t)}var An=new Map,Rp=new Set;function mo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var bi=tt.d;tt.d={f:i0,r:r0,D:a0,C:s0,L:l0,m:u0,X:c0,S:o0,M:h0};function i0(){var t=bi.f(),n=ro();return t||n}function r0(t){var n=Un(t);n!==null&&n.tag===5&&n.type==="form"?Qm(n):bi.r(t)}var Wa=typeof document>"u"?null:document;function wp(t,n,r){var l=Wa;if(l&&typeof n=="string"&&n){var c=he(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Rp.has(c)||(Rp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),xe(n,"link",t),se(n),l.head.appendChild(n)))}}function a0(t){bi.D(t),wp("dns-prefetch",t,null)}function s0(t,n){bi.C(t,n),wp("preconnect",t,n)}function l0(t,n,r){bi.L(t,n,r);var l=Wa;if(l&&t&&n){var c='link[rel="preload"][as="'+he(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+he(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+he(r.imageSizes)+'"]')):c+='[href="'+he(t)+'"]';var f=c;switch(n){case"style":f=ts(t);break;case"script":f=es(t)}An.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),An.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Al(f))||n==="script"&&l.querySelector(Sl(f))||(n=l.createElement("link"),xe(n,"link",t),se(n),l.head.appendChild(n)))}}function u0(t,n){bi.m(t,n);var r=Wa;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+he(l)+'"][href="'+he(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=es(t)}if(!An.has(f)&&(t=A({rel:"modulepreload",href:t},n),An.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Sl(f)))return}l=r.createElement("link"),xe(l,"link",t),se(l),r.head.appendChild(l)}}}function o0(t,n,r){bi.S(t,n,r);var l=Wa;if(l&&t){var c=Qe(l).hoistableStyles,f=ts(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Al(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=An.get(f))&&rf(t,r);var b=y=l.createElement("link");se(b),xe(b,"link",t),b._p=new Promise(function(L,j){b.onload=L,b.onerror=j}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,go(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function c0(t,n){bi.X(t,n);var r=Wa;if(r&&t){var l=Qe(r).hoistableScripts,c=es(t),f=l.get(c);f||(f=r.querySelector(Sl(c)),f||(t=A({src:t,async:!0},n),(n=An.get(c))&&af(t,n),f=r.createElement("script"),se(f),xe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function h0(t,n){bi.M(t,n);var r=Wa;if(r&&t){var l=Qe(r).hoistableScripts,c=es(t),f=l.get(c);f||(f=r.querySelector(Sl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=An.get(c))&&af(t,n),f=r.createElement("script"),se(f),xe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Dp(t,n,r,l){var c=(c=mt.current)?mo(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ts(r.href),r=Qe(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ts(r.href);var f=Qe(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Al(t)))&&!f._p&&(y.instance=f,y.state.loading=5),An.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},An.set(t,r),f||f0(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=es(r),r=Qe(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ts(t){return'href="'+he(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function Cp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function f0(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),xe(n,"link",r),se(n),t.head.appendChild(n))}function es(t){return'[src="'+he(t)+'"]'}function Sl(t){return"script[async]"+t}function Vp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+he(r.href)+'"]');if(l)return n.instance=l,se(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),se(l),xe(l,"style",c),go(l,r.precedence,t),n.instance=l;case"stylesheet":c=ts(r.href);var f=t.querySelector(Al(c));if(f)return n.state.loading|=4,n.instance=f,se(f),f;l=Cp(r),(c=An.get(c))&&rf(l,c),f=(t.ownerDocument||t).createElement("link"),se(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),xe(f,"link",l),n.state.loading|=4,go(f,r.precedence,t),n.instance=f;case"script":return f=es(r.src),(c=t.querySelector(Sl(f)))?(n.instance=c,se(c),c):(l=r,(c=An.get(f))&&(l=A({},r),af(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),se(c),xe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,go(l,r.precedence,t));return n.instance}function go(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function rf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var po=null;function Ip(t,n,r){if(po===null){var l=new Map,c=po=new Map;c.set(r,l)}else c=po,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Sr]||f[pe]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Op(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function d0(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Np(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var bl=null;function m0(){}function g0(t,n,r){if(bl===null)throw Error(a(475));var l=bl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ts(r.href),f=t.querySelector(Al(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=yo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,se(f);return}f=t.ownerDocument||t,r=Cp(r),(c=An.get(c))&&rf(r,c),f=f.createElement("link"),se(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),xe(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=yo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function p0(){if(bl===null)throw Error(a(475));var t=bl;return t.stylesheets&&t.count===0&&sf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&sf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function yo(){if(this.count--,this.count===0){if(this.stylesheets)sf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var _o=null;function sf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,_o=new Map,n.forEach(y0,t),_o=null,yo.call(t))}function y0(t,n){if(!(n.state.loading&4)){var r=_o.get(t);if(r)var l=r.get(null);else{r=new Map,_o.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=yo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Rl={$$typeof:gt,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function _0(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.hiddenUpdates=ti(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Mp(t,n,r,l,c,f,y,E,b,L,j,Q){return t=new _0(t,n,r,y,E,b,L,Q),n=1,f===!0&&(n|=24),f=nn(3,null,null,n),t.current=f,f.stateNode=t,n=qc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Gc(f),t}function Up(t){return t?(t=Na,t):Na}function xp(t,n,r,l,c,f){c=Up(c),l.context===null?l.context=c:l.pendingContext=c,l=Bi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=qi(t,l,n),r!==null&&(un(r,t,n),el(r,t,n))}function zp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function lf(t,n){zp(t,n),(t=t.alternate)&&zp(t,n)}function Lp(t){if(t.tag===13){var n=Oa(t,67108864);n!==null&&un(n,t,67108864),lf(t,67108864)}}var vo=!0;function v0(t,n,r,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=2,uf(t,n,r,l)}finally{tt.p=f,H.T=c}}function E0(t,n,r,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=8,uf(t,n,r,l)}finally{tt.p=f,H.T=c}}function uf(t,n,r,l){if(vo){var c=of(l);if(c===null)Kh(t,n,l,Eo,r),Bp(t,l);else if(A0(c,t,n,r,l))l.stopPropagation();else if(Bp(t,l),n&4&&-1<T0.indexOf(t)){for(;c!==null;){var f=Un(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=bn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-Be(y);E.entanglements[1]|=b,y&=~b}Kn(f),(Ht&6)===0&&(no=cn()+500,_l(0))}}break;case 13:E=Oa(f,2),E!==null&&un(E,f,2),ro(),lf(f,2)}if(f=of(l),f===null&&Kh(t,n,l,Eo,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Kh(t,n,l,null,r)}}function of(t){return t=dn(t),cf(t)}var Eo=null;function cf(t){if(Eo=null,t=ni(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Eo=t,null}function Pp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fc()){case Ss:return 2;case ca:return 8;case _r:case dc:return 32;case ha:return 268435456;default:return 32}default:return 32}}var hf=!1,Wi=null,tr=null,er=null,wl=new Map,Dl=new Map,nr=[],T0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bp(t,n){switch(t){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(n.pointerId)}}function Cl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Un(n),n!==null&&Lp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function A0(t,n,r,l,c){switch(n){case"focusin":return Wi=Cl(Wi,t,n,r,l,c),!0;case"dragenter":return tr=Cl(tr,t,n,r,l,c),!0;case"mouseover":return er=Cl(er,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return wl.set(f,Cl(wl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Dl.set(f,Cl(Dl.get(f)||null,t,n,r,l,c)),!0}return!1}function qp(t){var n=ni(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,ru(t.priority,function(){if(r.tag===13){var l=ln();l=Ii(l);var c=Oa(r,l);c!==null&&un(c,r,l),lf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function To(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=of(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);si=l,r.target.dispatchEvent(l),si=null}else return n=Un(r),n!==null&&Lp(n),t.blockedOn=r,!1;n.shift()}return!0}function kp(t,n,r){To(t)&&r.delete(n)}function S0(){hf=!1,Wi!==null&&To(Wi)&&(Wi=null),tr!==null&&To(tr)&&(tr=null),er!==null&&To(er)&&(er=null),wl.forEach(kp),Dl.forEach(kp)}function Ao(t,n){t.blockedOn===n&&(t.blockedOn=null,hf||(hf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,S0)))}var So=null;function Hp(t){So!==t&&(So=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){So===t&&(So=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(cf(l||r)===null)continue;break}var f=Un(r);f!==null&&(t.splice(n,3),n-=3,oh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Vl(t){function n(b){return Ao(b,t)}Wi!==null&&Ao(Wi,t),tr!==null&&Ao(tr,t),er!==null&&Ao(er,t),wl.forEach(n),Dl.forEach(n);for(var r=0;r<nr.length;r++){var l=nr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<nr.length&&(r=nr[0],r.blockedOn===null);)qp(r),r.blockedOn===null&&nr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[ce]||null;if(typeof f=="function")y||Hp(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[ce]||null)E=y.formAction;else if(cf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Hp(r)}}}function ff(t){this._internalRoot=t}bo.prototype.render=ff.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=ln();xp(r,l,t,n,null,null)},bo.prototype.unmount=ff.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;xp(t.current,2,null,t,null,null),ro(),n[hn]=null}};function bo(t){this._internalRoot=t}bo.prototype.unstable_scheduleHydration=function(t){if(t){var n=Oi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<nr.length&&n!==0&&n<nr[r].priority;r++);nr.splice(r,0,t),r===0&&qp(t)}};var jp=e.version;if(jp!=="19.1.0")throw Error(a(527,jp,"19.1.0"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var b0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ro.isDisabled&&Ro.supportsFiber)try{ie=Ro.inject(b0),kt=Ro}catch{}}return Ol.createRoot=function(t,n){if(!u(t))throw Error(a(299));var r=!1,l="",c=ag,f=sg,y=lg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Mp(t,1,!1,null,null,r,l,c,f,y,E,null),t[hn]=n.current,Yh(t),new ff(n)},Ol.hydrateRoot=function(t,n,r){if(!u(t))throw Error(a(299));var l=!1,c="",f=ag,y=sg,E=lg,b=null,L=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(L=r.formState)),n=Mp(t,1,!0,n,r??null,l,c,f,y,E,b,L),n.context=Up(null),r=n.current,l=ln(),l=Ii(l),c=Bi(l),c.callback=null,qi(r,c,l),r=l,n.current.lanes=r,ei(n,r),Kn(n),t[hn]=n.current,Yh(t),new bo(n)},Ol.version="19.1.0",Ol}var ty;function U0(){if(ty)return gf.exports;ty=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),gf.exports=M0(),gf.exports}var x0=U0();const z0=m_(x0),L0=()=>{};var ey={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},P0=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const u=s[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[a++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],p=s[i++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},p_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,p=d?s[u+1]:0,_=u+2<s.length,v=_?s[u+2]:0,A=h>>2,V=(h&3)<<4|p>>4;let q=(p&15)<<2|v>>6,Y=v&63;_||(Y=64,d||(q=64)),a.push(i[A],i[V],i[q],i[Y])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(g_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):P0(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],p=u<s.length?i[s.charAt(u)]:0;++u;const v=u<s.length?i[s.charAt(u)]:64;++u;const V=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||p==null||v==null||V==null)throw new B0;const q=h<<2|p>>4;if(a.push(q),v!==64){const Y=p<<4&240|v>>2;if(a.push(Y),V!==64){const W=v<<6&192|V;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class B0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q0=function(s){const e=g_(s);return p_.encodeByteArray(e,!0)},Po=function(s){return q0(s).replace(/\./g,"")},k0=function(s){try{return p_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=()=>H0().__FIREBASE_DEFAULTS__,G0=()=>{if(typeof process>"u"||typeof ey>"u")return;const s=ey.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Q0=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&k0(s[1]);return e&&JSON.parse(e)},Zf=()=>{try{return L0()||j0()||G0()||Q0()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},F0=s=>{var e,i;return(i=(e=Zf())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},Y0=s=>{const e=F0(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},y_=()=>{var s;return(s=Zf())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Po(JSON.stringify(i)),Po(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $0(){var s;const e=(s=Zf())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function J0(){return!$0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W0(){try{return typeof indexedDB=="object"}catch{return!1}}function tT(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="FirebaseError";class ps extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=eT,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,__.prototype.create)}}class __{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?nT(h,a):"Error",p=`${this.serviceName}: ${d} (${u}).`;return new ps(u,p,a)}}function nT(s,e){return s.replace(iT,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const iT=/\{\$([^}]+)}/g;function Bo(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const h=s[u],d=e[u];if(ny(h)&&ny(d)){if(!Bo(h,d))return!1}else if(h!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function ny(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(s){return s&&s._delegate?s._delegate:s}class kl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new K0;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sT(e))try{this.getOrInitializeService({instanceIdentifier:Wr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});a.resolve(h)}catch{}}}}clearInstance(e=Wr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wr){return this.instances.has(e)}getOptions(e=Wr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);a===p&&d.resolve(u)}return u}onInit(e,i){var a;const u=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(u))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:aT(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Wr){return this.component?this.component.multipleInstances?e:Wr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aT(s){return s===Wr?void 0:s}function sT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new rT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Mt||(Mt={}));const uT={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},oT=Mt.INFO,cT={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},hT=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),u=cT[e];if(u)console[u](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class v_{constructor(e){this.name=e,this._logLevel=oT,this._logHandler=hT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const fT=(s,e)=>e.some(i=>s instanceof i);let iy,ry;function dT(){return iy||(iy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mT(){return ry||(ry=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E_=new WeakMap,Df=new WeakMap,T_=new WeakMap,vf=new WeakMap,$f=new WeakMap;function gT(s){const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(ar(s.result)),u()},d=()=>{a(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&E_.set(i,s)}).catch(()=>{}),$f.set(e,s),e}function pT(s){if(Df.has(s))return;const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Df.set(s,e)}let Cf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Df.get(s);if(e==="objectStoreNames")return s.objectStoreNames||T_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ar(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function yT(s){Cf=s(Cf)}function _T(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Ef(this),e,...i);return T_.set(a,e.sort?e.sort():[e]),ar(a)}:mT().includes(s)?function(...e){return s.apply(Ef(this),e),ar(E_.get(this))}:function(...e){return ar(s.apply(Ef(this),e))}}function vT(s){return typeof s=="function"?_T(s):(s instanceof IDBTransaction&&pT(s),fT(s,dT())?new Proxy(s,Cf):s)}function ar(s){if(s instanceof IDBRequest)return gT(s);if(vf.has(s))return vf.get(s);const e=vT(s);return e!==s&&(vf.set(s,e),$f.set(e,s)),e}const Ef=s=>$f.get(s);function ET(s,e,{blocked:i,upgrade:a,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),p=ar(d);return a&&d.addEventListener("upgradeneeded",_=>{a(ar(d.result),_.oldVersion,_.newVersion,ar(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const TT=["get","getKey","getAll","getAllKeys","count"],AT=["put","add","delete","clear"],Tf=new Map;function ay(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Tf.get(e))return Tf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=AT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||TT.includes(i)))return;const h=async function(d,...p){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),u&&_.done]))[0]};return Tf.set(e,h),h}yT(s=>({...s,get:(e,i,a)=>ay(e,i)||s.get(e,i,a),has:(e,i)=>!!ay(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(bT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function bT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vf="@firebase/app",sy="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=new v_("@firebase/app"),RT="@firebase/app-compat",wT="@firebase/analytics-compat",DT="@firebase/analytics",CT="@firebase/app-check-compat",VT="@firebase/app-check",IT="@firebase/auth",OT="@firebase/auth-compat",NT="@firebase/database",MT="@firebase/data-connect",UT="@firebase/database-compat",xT="@firebase/functions",zT="@firebase/functions-compat",LT="@firebase/installations",PT="@firebase/installations-compat",BT="@firebase/messaging",qT="@firebase/messaging-compat",kT="@firebase/performance",HT="@firebase/performance-compat",jT="@firebase/remote-config",GT="@firebase/remote-config-compat",QT="@firebase/storage",FT="@firebase/storage-compat",YT="@firebase/firestore",KT="@firebase/vertexai",XT="@firebase/firestore-compat",ZT="firebase",$T="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If="[DEFAULT]",JT={[Vf]:"fire-core",[RT]:"fire-core-compat",[DT]:"fire-analytics",[wT]:"fire-analytics-compat",[VT]:"fire-app-check",[CT]:"fire-app-check-compat",[IT]:"fire-auth",[OT]:"fire-auth-compat",[NT]:"fire-rtdb",[MT]:"fire-data-connect",[UT]:"fire-rtdb-compat",[xT]:"fire-fn",[zT]:"fire-fn-compat",[LT]:"fire-iid",[PT]:"fire-iid-compat",[BT]:"fire-fcm",[qT]:"fire-fcm-compat",[kT]:"fire-perf",[HT]:"fire-perf-compat",[jT]:"fire-rc",[GT]:"fire-rc-compat",[QT]:"fire-gcs",[FT]:"fire-gcs-compat",[YT]:"fire-fst",[XT]:"fire-fst-compat",[KT]:"fire-vertex","fire-js":"fire-js",[ZT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new Map,WT=new Map,Of=new Map;function ly(s,e){try{s.container.addComponent(e)}catch(i){wi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ko(s){const e=s.name;if(Of.has(e))return wi.debug(`There were multiple attempts to register component ${e}.`),!1;Of.set(e,s);for(const i of qo.values())ly(i,s);for(const i of WT.values())ly(i,s);return!0}function tA(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function eA(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sr=new __("app","Firebase",nA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new kl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=$T;function A_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:If,automaticDataCollectionEnabled:!1},e),u=a.name;if(typeof u!="string"||!u)throw sr.create("bad-app-name",{appName:String(u)});if(i||(i=y_()),!i)throw sr.create("no-options");const h=qo.get(u);if(h){if(Bo(i,h.options)&&Bo(a,h.config))return h;throw sr.create("duplicate-app",{appName:u})}const d=new lT(u);for(const _ of Of.values())d.addComponent(_);const p=new iA(i,a,d);return qo.set(u,p),p}function aA(s=If){const e=qo.get(s);if(!e&&s===If&&y_())return A_();if(!e)throw sr.create("no-app",{appName:s});return e}function ls(s,e,i){var a;let u=(a=JT[s])!==null&&a!==void 0?a:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const p=[`Unable to register library "${u}" with version "${e}":`];h&&p.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wi.warn(p.join(" "));return}ko(new kl(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="firebase-heartbeat-database",lA=1,Hl="firebase-heartbeat-store";let Af=null;function S_(){return Af||(Af=ET(sA,lA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Hl)}catch(i){console.warn(i)}}}}).catch(s=>{throw sr.create("idb-open",{originalErrorMessage:s.message})})),Af}async function uA(s){try{const i=(await S_()).transaction(Hl),a=await i.objectStore(Hl).get(b_(s));return await i.done,a}catch(e){if(e instanceof ps)wi.warn(e.message);else{const i=sr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wi.warn(i.message)}}}async function uy(s,e){try{const a=(await S_()).transaction(Hl,"readwrite");await a.objectStore(Hl).put(e,b_(s)),await a.done}catch(i){if(i instanceof ps)wi.warn(i.message);else{const a=sr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});wi.warn(a.message)}}}function b_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=1024,cA=30;class hA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new dA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=oy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>cA){const d=mA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){wi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=oy(),{heartbeatsToSend:a,unsentEntries:u}=fA(this._heartbeatsCache.heartbeats),h=Po(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return wi.warn(i),""}}}function oy(){return new Date().toISOString().substring(0,10)}function fA(s,e=oA){const i=[];let a=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),cy(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),cy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class dA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W0()?tT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await uA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return uy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return uy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function cy(s){return Po(JSON.stringify({version:2,heartbeats:s})).length}function mA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(s){ko(new kl("platform-logger",e=>new ST(e),"PRIVATE")),ko(new kl("heartbeat",e=>new hA(e),"PRIVATE")),ls(Vf,sy,s),ls(Vf,sy,"esm2017"),ls("fire-js","")}gA("");var pA="firebase",yA="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ls(pA,yA,"app");var hy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lr,R_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,S){function w(){}w.prototype=S.prototype,O.D=S.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(I,N,U){for(var R=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)R[Ie-2]=arguments[Ie];return S.prototype[N].apply(I,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(O,S,w){w||(w=0);var I=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)I[N]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(N=0;16>N;++N)I[N]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=O.g[0],w=O.g[1],N=O.g[2];var U=O.g[3],R=S+(U^w&(N^U))+I[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=U+(N^S&(w^N))+I[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(w^U&(S^w))+I[2]+606105819&4294967295,N=U+(R<<17&4294967295|R>>>15),R=w+(S^N&(U^S))+I[3]+3250441966&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(U^w&(N^U))+I[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(N^S&(w^N))+I[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(w^U&(S^w))+I[6]+2821735955&4294967295,N=U+(R<<17&4294967295|R>>>15),R=w+(S^N&(U^S))+I[7]+4249261313&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(U^w&(N^U))+I[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(N^S&(w^N))+I[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(w^U&(S^w))+I[10]+4294925233&4294967295,N=U+(R<<17&4294967295|R>>>15),R=w+(S^N&(U^S))+I[11]+2304563134&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(U^w&(N^U))+I[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(N^S&(w^N))+I[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(w^U&(S^w))+I[14]+2792965006&4294967295,N=U+(R<<17&4294967295|R>>>15),R=w+(S^N&(U^S))+I[15]+1236535329&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(N^U&(w^N))+I[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^N&(S^w))+I[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(U^S))+I[11]+643717713&4294967295,N=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(N^U))+I[0]+3921069994&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^U&(w^N))+I[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^N&(S^w))+I[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(U^S))+I[15]+3634488961&4294967295,N=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(N^U))+I[4]+3889429448&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^U&(w^N))+I[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^N&(S^w))+I[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(U^S))+I[3]+4107603335&4294967295,N=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(N^U))+I[8]+1163531501&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^U&(w^N))+I[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^N&(S^w))+I[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(U^S))+I[7]+1735328473&4294967295,N=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(N^U))+I[12]+2368359562&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(w^N^U)+I[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^N)+I[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^w)+I[11]+1839030562&4294967295,N=U+(R<<16&4294967295|R>>>16),R=w+(N^U^S)+I[14]+4259657740&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^U)+I[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^N)+I[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^w)+I[7]+4139469664&4294967295,N=U+(R<<16&4294967295|R>>>16),R=w+(N^U^S)+I[10]+3200236656&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^U)+I[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^N)+I[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^w)+I[3]+3572445317&4294967295,N=U+(R<<16&4294967295|R>>>16),R=w+(N^U^S)+I[6]+76029189&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^U)+I[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^N)+I[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^w)+I[15]+530742520&4294967295,N=U+(R<<16&4294967295|R>>>16),R=w+(N^U^S)+I[2]+3299628645&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(N^(w|~U))+I[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~N))+I[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~w))+I[14]+2878612391&4294967295,N=U+(R<<15&4294967295|R>>>17),R=w+(U^(N|~S))+I[5]+4237533241&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~U))+I[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~N))+I[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~w))+I[10]+4293915773&4294967295,N=U+(R<<15&4294967295|R>>>17),R=w+(U^(N|~S))+I[1]+2240044497&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~U))+I[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~N))+I[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~w))+I[6]+2734768916&4294967295,N=U+(R<<15&4294967295|R>>>17),R=w+(U^(N|~S))+I[13]+1309151649&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~U))+I[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~N))+I[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~w))+I[2]+718787259&4294967295,N=U+(R<<15&4294967295|R>>>17),R=w+(U^(N|~S))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+U&4294967295}a.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var w=S-this.blockSize,I=this.B,N=this.h,U=0;U<S;){if(N==0)for(;U<=w;)u(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<S;)if(I[N++]=O.charCodeAt(U++),N==this.blockSize){u(this,I),N=0;break}}else for(;U<S;)if(I[N++]=O[U++],N==this.blockSize){u(this,I),N=0;break}}this.h=N,this.o+=S},a.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var w=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=w&255,w/=256;for(this.u(O),O=Array(16),S=w=0;4>S;++S)for(var I=0;32>I;I+=8)O[w++]=this.g[S]>>>I&255;return O};function h(O,S){var w=p;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=S(O)}function d(O,S){this.h=S;for(var w=[],I=!0,N=O.length-1;0<=N;N--){var U=O[N]|0;I&&U==S||(w[N]=U,I=!1)}this.g=w}var p={};function _(O){return-128<=O&&128>O?h(O,function(S){return new d([S|0],0>S?-1:0)}):new d([O|0],0>O?-1:0)}function v(O){if(isNaN(O)||!isFinite(O))return V;if(0>O)return $(v(-O));for(var S=[],w=1,I=0;O>=w;I++)S[I]=O/w|0,w*=4294967296;return new d(S,0)}function A(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return $(A(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=v(Math.pow(S,8)),I=V,N=0;N<O.length;N+=8){var U=Math.min(8,O.length-N),R=parseInt(O.substring(N,N+U),S);8>U?(U=v(Math.pow(S,U)),I=I.j(U).add(v(R))):(I=I.j(w),I=I.add(v(R)))}return I}var V=_(0),q=_(1),Y=_(16777216);s=d.prototype,s.m=function(){if(nt(this))return-$(this).m();for(var O=0,S=1,w=0;w<this.g.length;w++){var I=this.i(w);O+=(0<=I?I:4294967296+I)*S,S*=4294967296}return O},s.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(W(this))return"0";if(nt(this))return"-"+$(this).toString(O);for(var S=v(Math.pow(O,6)),w=this,I="";;){var N=Pt(w,S).g;w=Et(w,N.j(S));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=N,W(w))return U+I;for(;6>U.length;)U="0"+U;I=U+I}},s.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function W(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function nt(O){return O.h==-1}s.l=function(O){return O=Et(this,O),nt(O)?-1:W(O)?0:1};function $(O){for(var S=O.g.length,w=[],I=0;I<S;I++)w[I]=~O.g[I];return new d(w,~O.h).add(q)}s.abs=function(){return nt(this)?$(this):this},s.add=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],I=0,N=0;N<=S;N++){var U=I+(this.i(N)&65535)+(O.i(N)&65535),R=(U>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);I=R>>>16,U&=65535,R&=65535,w[N]=R<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Et(O,S){return O.add($(S))}s.j=function(O){if(W(this)||W(O))return V;if(nt(this))return nt(O)?$(this).j($(O)):$($(this).j(O));if(nt(O))return $(this.j($(O)));if(0>this.l(Y)&&0>O.l(Y))return v(this.m()*O.m());for(var S=this.g.length+O.g.length,w=[],I=0;I<2*S;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(var N=0;N<O.g.length;N++){var U=this.i(I)>>>16,R=this.i(I)&65535,Ie=O.i(N)>>>16,ne=O.i(N)&65535;w[2*I+2*N]+=R*ne,Tt(w,2*I+2*N),w[2*I+2*N+1]+=U*ne,Tt(w,2*I+2*N+1),w[2*I+2*N+1]+=R*Ie,Tt(w,2*I+2*N+1),w[2*I+2*N+2]+=U*Ie,Tt(w,2*I+2*N+2)}for(I=0;I<S;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=S;I<2*S;I++)w[I]=0;return new d(w,0)};function Tt(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function gt(O,S){this.g=O,this.h=S}function Pt(O,S){if(W(S))throw Error("division by zero");if(W(O))return new gt(V,V);if(nt(O))return S=Pt($(O),S),new gt($(S.g),$(S.h));if(nt(S))return S=Pt(O,$(S)),new gt($(S.g),S.h);if(30<O.g.length){if(nt(O)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var w=q,I=S;0>=I.l(O);)w=_t(w),I=_t(I);var N=xt(w,1),U=xt(I,1);for(I=xt(I,2),w=xt(w,2);!W(I);){var R=U.add(I);0>=R.l(O)&&(N=N.add(w),U=R),I=xt(I,1),w=xt(w,1)}return S=Et(O,N.j(S)),new gt(N,S)}for(N=V;0<=O.l(S);){for(w=Math.max(1,Math.floor(O.m()/S.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),U=v(w),R=U.j(S);nt(R)||0<R.l(O);)w-=I,U=v(w),R=U.j(S);W(U)&&(U=q),N=N.add(U),O=Et(O,R)}return new gt(N,O)}s.A=function(O){return Pt(this,O).h},s.and=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],I=0;I<S;I++)w[I]=this.i(I)&O.i(I);return new d(w,this.h&O.h)},s.or=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],I=0;I<S;I++)w[I]=this.i(I)|O.i(I);return new d(w,this.h|O.h)},s.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],I=0;I<S;I++)w[I]=this.i(I)^O.i(I);return new d(w,this.h^O.h)};function _t(O){for(var S=O.g.length+1,w=[],I=0;I<S;I++)w[I]=O.i(I)<<1|O.i(I-1)>>>31;return new d(w,O.h)}function xt(O,S){var w=S>>5;S%=32;for(var I=O.g.length-w,N=[],U=0;U<I;U++)N[U]=0<S?O.i(U+w)>>>S|O.i(U+w+1)<<32-S:O.i(U+w);return new d(N,O.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,R_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,lr=d}).apply(typeof hy<"u"?hy:typeof self<"u"?self:typeof window<"u"?window:{});var wo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var w_,Nl,D_,No,Nf,C_,V_,I_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,g){return o==Array.prototype||o==Object.prototype||(o[m]=g.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof wo=="object"&&wo];for(var m=0;m<o.length;++m){var g=o[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var g=a;o=o.split(".");for(var T=0;T<o.length-1;T++){var x=o[T];if(!(x in g))break t;g=g[x]}o=o[o.length-1],T=g[o],m=m(T),m!=T&&m!=null&&e(g,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var g=0,T=!1,x={next:function(){if(!T&&g<o.length){var k=g++;return{value:m(k,o[k]),done:!1}}return T=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,g){return o.call.apply(o.bind,arguments)}function V(o,m,g){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,T),o.apply(m,x)}}return function(){return o.apply(m,arguments)}}function q(o,m,g){return q=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:V,q.apply(null,arguments)}function Y(o,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function W(o,m){function g(){}g.prototype=m.prototype,o.aa=m.prototype,o.prototype=new g,o.prototype.constructor=o,o.Qb=function(T,x,k){for(var J=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)J[Vt-2]=arguments[Vt];return m.prototype[x].apply(T,J)}}function nt(o){const m=o.length;if(0<m){const g=Array(m);for(let T=0;T<m;T++)g[T]=o[T];return g}return[]}function $(o,m){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(_(T)){const x=o.length||0,k=T.length||0;o.length=x+k;for(let J=0;J<k;J++)o[x+J]=T[J]}else o.push(T)}}class Et{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Tt(o){return/^[\s\xa0]*$/.test(o)}function gt(){var o=p.navigator;return o&&(o=o.userAgent)?o:""}function Pt(o){return Pt[" "](o),o}Pt[" "]=function(){};var _t=gt().indexOf("Gecko")!=-1&&!(gt().toLowerCase().indexOf("webkit")!=-1&&gt().indexOf("Edge")==-1)&&!(gt().indexOf("Trident")!=-1||gt().indexOf("MSIE")!=-1)&&gt().indexOf("Edge")==-1;function xt(o,m,g){for(const T in o)m.call(g,o[T],T,o)}function O(o,m){for(const g in o)m.call(void 0,o[g],g,o)}function S(o){const m={};for(const g in o)m[g]=o[g];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(o,m){let g,T;for(let x=1;x<arguments.length;x++){T=arguments[x];for(g in T)o[g]=T[g];for(let k=0;k<w.length;k++)g=w[k],Object.prototype.hasOwnProperty.call(T,g)&&(o[g]=T[g])}}function N(o){var m=1;o=o.split(":");const g=[];for(;0<m&&o.length;)g.push(o.shift()),m--;return o.length&&g.push(o.join(":")),g}function U(o){p.setTimeout(()=>{throw o},0)}function R(){var o=zt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class Ie{constructor(){this.h=this.g=null}add(m,g){const T=ne.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var ne=new Et(()=>new H,o=>o.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,lt=!1,zt=new Ie,D=()=>{const o=p.Promise.resolve(void 0);tt=()=>{o.then(X)}};var X=()=>{for(var o;o=R();){try{o.h.call(o.g)}catch(g){U(g)}var m=ne;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}lt=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const g=()=>{};p.addEventListener("test",g,m),p.removeEventListener("test",g,m)}catch{}return o}();function bt(o,m){if(Z.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var g=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(_t){t:{try{Pt(m.nodeName);var x=!0;break t}catch{}x=!1}x||(m=null)}}else g=="mouseover"?m=o.fromElement:g=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:mt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&bt.aa.h.call(this)}}W(bt,Z);var mt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),Xt=0;function Nn(o,m,g,T,x){this.listener=o,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=x,this.key=++Xt,this.da=this.fa=!1}function Vi(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Wn(o){this.src=o,this.g={},this.h=0}Wn.prototype.add=function(o,m,g,T,x){var k=o.toString();o=this.g[k],o||(o=this.g[k]=[],this.h++);var J=pr(o,m,T,x);return-1<J?(m=o[J],g||(m.fa=!1)):(m=new Nn(m,this.src,k,!!T,x),m.fa=g,o.push(m)),m};function gr(o,m){var g=m.type;if(g in o.g){var T=o.g[g],x=Array.prototype.indexOf.call(T,m,void 0),k;(k=0<=x)&&Array.prototype.splice.call(T,x,1),k&&(Vi(m),o.g[g].length==0&&(delete o.g[g],o.h--))}}function pr(o,m,g,T){for(var x=0;x<o.length;++x){var k=o[x];if(!k.da&&k.listener==m&&k.capture==!!g&&k.ha==T)return x}return-1}var yr="closure_lm_"+(1e6*Math.random()|0),As={};function eu(o,m,g,T,x){if(Array.isArray(m)){for(var k=0;k<m.length;k++)eu(o,m[k],g,T,x);return null}return g=nu(g),o&&o[Se]?o.K(m,g,v(T)?!!T.capture:!1,x):cn(o,m,g,!1,T,x)}function cn(o,m,g,T,x,k){if(!m)throw Error("Invalid event type");var J=v(x)?!!x.capture:!!x,Vt=ha(o);if(Vt||(o[yr]=Vt=new Wn(o)),g=Vt.add(m,g,T,J,k),g.proxy)return g;if(T=fc(),g.proxy=T,T.src=o,T.listener=g,o.addEventListener)ot||(x=J),x===void 0&&(x=!1),o.addEventListener(m.toString(),T,x);else if(o.attachEvent)o.attachEvent(_r(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function fc(){function o(g){return m.call(o.src,o.listener,g)}const m=dc;return o}function Ss(o,m,g,T,x){if(Array.isArray(m))for(var k=0;k<m.length;k++)Ss(o,m[k],g,T,x);else T=v(T)?!!T.capture:!!T,g=nu(g),o&&o[Se]?(o=o.i,m=String(m).toString(),m in o.g&&(k=o.g[m],g=pr(k,g,T,x),-1<g&&(Vi(k[g]),Array.prototype.splice.call(k,g,1),k.length==0&&(delete o.g[m],o.h--)))):o&&(o=ha(o))&&(m=o.g[m.toString()],o=-1,m&&(o=pr(m,g,T,x)),(g=-1<o?m[o]:null)&&ca(g))}function ca(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[Se])gr(m.i,o);else{var g=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(g,T,o.capture):m.detachEvent?m.detachEvent(_r(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=ha(m))?(gr(g,o),g.h==0&&(g.src=null,m[yr]=null)):Vi(o)}}}function _r(o){return o in As?As[o]:As[o]="on"+o}function dc(o,m){if(o.da)o=!0;else{m=new bt(m,this);var g=o.listener,T=o.ha||o.src;o.fa&&ca(o),o=g.call(T,m)}return o}function ha(o){return o=o[yr],o instanceof Wn?o:null}var bs="__closure_events_fn_"+(1e9*Math.random()>>>0);function nu(o){return typeof o=="function"?o:(o[bs]||(o[bs]=function(m){return o.handleEvent(m)}),o[bs])}function ie(){et.call(this),this.i=new Wn(this),this.M=this,this.F=null}W(ie,et),ie.prototype[Se]=!0,ie.prototype.removeEventListener=function(o,m,g,T){Ss(this,o,m,g,T)};function kt(o,m){var g,T=o.F;if(T)for(g=[];T;T=T.F)g.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new Z(m,o);else if(m instanceof Z)m.target=m.target||o;else{var x=m;m=new Z(T,o),I(m,x)}if(x=!0,g)for(var k=g.length-1;0<=k;k--){var J=m.g=g[k];x=We(J,T,!0,m)&&x}if(J=m.g=o,x=We(J,T,!0,m)&&x,x=We(J,T,!1,m)&&x,g)for(k=0;k<g.length;k++)J=m.g=g[k],x=We(J,T,!1,m)&&x}ie.prototype.N=function(){if(ie.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var g=o.g[m],T=0;T<g.length;T++)Vi(g[T]);delete o.g[m],o.h--}}this.F=null},ie.prototype.K=function(o,m,g,T){return this.i.add(String(o),m,!1,g,T)},ie.prototype.L=function(o,m,g,T){return this.i.add(String(o),m,!0,g,T)};function We(o,m,g,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var x=!0,k=0;k<m.length;++k){var J=m[k];if(J&&!J.da&&J.capture==g){var Vt=J.listener,ye=J.ha||J.src;J.fa&&gr(o.i,J),x=Vt.call(ye,T)!==!1&&x}}return x&&!T.defaultPrevented}function Be(o,m,g){if(typeof o=="function")g&&(o=q(o,g));else if(o&&typeof o.handleEvent=="function")o=q(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(o,m||0)}function iu(o){o.g=Be(()=>{o.g=null,o.i&&(o.i=!1,iu(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class mc extends et{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:iu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vr(o){et.call(this),this.h=o,this.g={}}W(vr,et);var Er=[];function Tr(o){xt(o.g,function(m,g){this.g.hasOwnProperty(g)&&ca(m)},o),o.g={}}vr.prototype.N=function(){vr.aa.N.call(this),Tr(this)},vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bn=p.JSON.stringify,fa=p.JSON.parse,Ar=class{stringify(o){return p.JSON.stringify(o,void 0)}parse(o){return p.JSON.parse(o,void 0)}};function Rs(){}Rs.prototype.h=null;function ws(o){return o.h||(o.h=o.i())}function Ds(){}var ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ei(){Z.call(this,"d")}W(ei,Z);function Cs(){Z.call(this,"c")}W(Cs,Z);var Mn={},Vs=null;function Ii(){return Vs=Vs||new ie}Mn.La="serverreachability";function da(o){Z.call(this,Mn.La,o)}W(da,Z);function Oi(o){const m=Ii();kt(m,new da(m))}Mn.STAT_EVENT="statevent";function ru(o,m){Z.call(this,Mn.STAT_EVENT,o),this.stat=m}W(ru,Z);function Jt(o){const m=Ii();kt(m,new ru(m,o))}Mn.Ma="timingevent";function pe(o,m){Z.call(this,Mn.Ma,o),this.size=m}W(pe,Z);function ce(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){o()},m)}function hn(){this.g=!0}hn.prototype.xa=function(){this.g=!1};function Is(o,m,g,T,x,k){o.info(function(){if(o.g)if(k)for(var J="",Vt=k.split("&"),ye=0;ye<Vt.length;ye++){var It=Vt[ye].split("=");if(1<It.length){var Re=It[0];It=It[1];var _e=Re.split("_");J=2<=_e.length&&_e[1]=="type"?J+(Re+"="+It+"&"):J+(Re+"=redacted&")}}else J=null;else J=k;return"XMLHTTP REQ ("+T+") [attempt "+x+"]: "+m+`
`+g+`
`+J})}function gc(o,m,g,T,x,k,J){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+x+"]: "+m+`
`+g+`
`+k+" "+J})}function Ni(o,m,g,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Sr(o,g)+(T?" "+T:"")})}function au(o,m){o.info(function(){return"TIMEOUT: "+m})}hn.prototype.info=function(){};function Sr(o,m){if(!o.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(o=0;o<g.length;o++)if(Array.isArray(g[o])){var T=g[o];if(!(2>T.length)){var x=T[1];if(Array.isArray(x)&&!(1>x.length)){var k=x[0];if(k!="noop"&&k!="stop"&&k!="close")for(var J=1;J<x.length;J++)x[J]=""}}}}return bn(g)}catch{return m}}var Mi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ni={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Un;function xn(){}W(xn,Rs),xn.prototype.g=function(){return new XMLHttpRequest},xn.prototype.i=function(){return{}},Un=new xn;function Qe(o,m,g,T){this.j=o,this.i=m,this.l=g,this.R=T||1,this.U=new vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new se}function se(){this.i=null,this.g="",this.h=!1}var Os={},ma={};function Rn(o,m,g){o.L=1,o.v=Cr(tn(m)),o.m=g,o.P=!0,ii(o,null)}function ii(o,m){o.F=Date.now(),br(o),o.A=tn(o.v);var g=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),Ls(g.i,"t",T),o.C=0,g=o.j.J,o.h=new se,o.g=Tu(o.j,g?m:null,!o.m),0<o.O&&(o.M=new mc(q(o.Y,o,o.g),o.O)),m=o.U,g=o.g,T=o.ca;var x="readystatechange";Array.isArray(x)||(x&&(Er[0]=x.toString()),x=Er);for(var k=0;k<x.length;k++){var J=eu(g,x[k],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=o.H?S(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Oi(),Is(o.i,o.u,o.A,o.l,o.R,o.m)}Qe.prototype.ca=function(o){o=o.target;const m=this.M;m&&gn(o)==3?m.j():this.Y(o)},Qe.prototype.Y=function(o){try{if(o==this.g)t:{const _e=gn(this.g);var m=this.g.Ba();const hi=this.g.Z();if(!(3>_e)&&(_e!=3||this.g&&(this.h.h||this.g.oa()||du(this.g)))){this.J||_e!=4||m==7||(m==8||0>=hi?Oi(3):Oi(2)),Ui(this);var g=this.g.Z();this.X=g;e:if(su(this)){var T=du(this.g);o="";var x=T.length,k=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oe(this),zn(this);var J="";break e}this.h.i=new p.TextDecoder}for(m=0;m<x;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(k&&m==x-1)});T.length=0,this.h.g+=o,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=g==200,gc(this.i,this.u,this.A,this.l,this.R,_e,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,ye=this.g;if((Vt=ye.g?ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tt(Vt)){var It=Vt;break e}}It=null}if(g=It)Ni(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rr(this,g);else{this.o=!1,this.s=3,Jt(12),Oe(this),zn(this);break t}}if(this.P){g=!0;let Ne;for(;!this.J&&this.C<J.length;)if(Ne=lu(this,J),Ne==ma){_e==4&&(this.s=4,Jt(14),g=!1),Ni(this.i,this.l,null,"[Incomplete Response]");break}else if(Ne==Os){this.s=4,Jt(15),Ni(this.i,this.l,J,"[Invalid Chunk]"),g=!1;break}else Ni(this.i,this.l,Ne,null),Rr(this,Ne);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_e!=4||J.length!=0||this.h.h||(this.s=1,Jt(16),g=!1),this.o=this.o&&g,!g)Ni(this.i,this.l,J,"[Invalid Chunked Response]"),Oe(this),zn(this);else if(0<J.length&&!this.W){this.W=!0;var Re=this.j;Re.g==this&&Re.ba&&!Re.M&&(Re.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),zr(Re),Re.M=!0,Jt(11))}}else Ni(this.i,this.l,J,null),Rr(this,J);_e==4&&Oe(this),this.o&&!this.J&&(_e==4?_u(this.j,this):(this.o=!1,br(this)))}else Ec(this.g),g==400&&0<J.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),Oe(this),zn(this)}}}catch{}finally{}};function su(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function lu(o,m){var g=o.C,T=m.indexOf(`
`,g);return T==-1?ma:(g=Number(m.substring(g,T)),isNaN(g)?Os:(T+=1,T+g>m.length?ma:(m=m.slice(T,T+g),o.C=T+g,m)))}Qe.prototype.cancel=function(){this.J=!0,Oe(this)};function br(o){o.S=Date.now()+o.I,uu(o,o.I)}function uu(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=ce(q(o.ba,o),m)}function Ui(o){o.B&&(p.clearTimeout(o.B),o.B=null)}Qe.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(au(this.i,this.A),this.L!=2&&(Oi(),Jt(17)),Oe(this),this.s=2,zn(this)):uu(this,this.S-o)};function zn(o){o.j.G==0||o.J||_u(o.j,o)}function Oe(o){Ui(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,Tr(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Rr(o,m){try{var g=o.j;if(g.G!=0&&(g.g==o||Ns(g.h,o))){if(!o.K&&Ns(g.h,o)&&g.G==3){try{var T=g.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var x=T;if(x[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<o.F)wa(g),ba(g);else break t;Hs(g),Jt(18)}}else g.za=x[1],0<g.za-g.T&&37500>x[2]&&g.F&&g.v==0&&!g.C&&(g.C=ce(q(g.Za,g),6e3));if(1>=pa(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ci(g,11)}else if((o.K||g.g==o)&&wa(g),!Tt(m))for(x=g.Da.g.parse(m),m=0;m<x.length;m++){let It=x[m];if(g.T=It[0],It=It[1],g.G==2)if(It[0]=="c"){g.K=It[1],g.ia=It[2];const Re=It[3];Re!=null&&(g.la=Re,g.j.info("VER="+g.la));const _e=It[4];_e!=null&&(g.Aa=_e,g.j.info("SVER="+g.Aa));const hi=It[5];hi!=null&&typeof hi=="number"&&0<hi&&(T=1.5*hi,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Ne=o.g;if(Ne){const jn=Ne.g?Ne.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jn){var k=T.h;k.g||jn.indexOf("spdy")==-1&&jn.indexOf("quic")==-1&&jn.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(ya(k,k.h),k.h=null))}if(T.D){const Gs=Ne.g?Ne.g.getResponseHeader("X-HTTP-Session-Id"):null;Gs&&(T.ya=Gs,Gt(T.I,T.D,Gs))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-o.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var J=o;if(T.qa=Eu(T,T.J?T.ia:null,T.W),J.K){Fe(T.h,J);var Vt=J,ye=T.L;ye&&(Vt.I=ye),Vt.B&&(Ui(Vt),br(Vt)),T.g=J}else pu(T);0<g.i.length&&Ra(g)}else It[0]!="stop"&&It[0]!="close"||ci(g,7);else g.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?ci(g,7):qs(g):It[0]!="noop"&&g.l&&g.l.ta(It),g.v=0)}}Oi(4)}catch{}}var ou=class{constructor(o,m){this.g=o,this.map=m}};function ri(o){this.l=o||10,p.PerformanceNavigationTiming?(o=p.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ga(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function pa(o){return o.h?1:o.g?o.g.size:0}function Ns(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function ya(o,m){o.g?o.g.add(m):o.h=m}function Fe(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}ri.prototype.cancel=function(){if(this.i=Ms(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ms(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const g of o.g.values())m=m.concat(g.D);return m}return nt(o.i)}function pc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],g=o.length,T=0;T<g;T++)m.push(o[T]);return m}m=[],g=0;for(T in o)m[g++]=o[T];return m}function _a(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var g=0;g<o;g++)m.push(g);return m}m=[],g=0;for(const T in o)m[g++]=T;return m}}}function Us(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var g=_a(o),T=pc(o),x=T.length,k=0;k<x;k++)m.call(void 0,T[k],g&&g[k],o)}var wr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yc(o,m){if(o){o=o.split("&");for(var g=0;g<o.length;g++){var T=o[g].indexOf("="),x=null;if(0<=T){var k=o[g].substring(0,T);x=o[g].substring(T+1)}else k=o[g];m(k,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function he(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof he){this.h=o.h,Dr(this,o.j),this.o=o.o,this.g=o.g,xi(this,o.s),this.l=o.l;var m=o.i,g=new si;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),ai(this,g),this.m=o.m}else o&&(m=String(o).match(wr))?(this.h=!1,Dr(this,m[1]||"",!0),this.o=fn(m[2]||""),this.g=fn(m[3]||"",!0),xi(this,m[4]),this.l=fn(m[5]||"",!0),ai(this,m[6]||"",!0),this.m=fn(m[7]||"")):(this.h=!1,this.i=new si(null,this.h))}he.prototype.toString=function(){var o=[],m=this.j;m&&o.push(Vr(m,xs,!0),":");var g=this.g;return(g||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Vr(m,xs,!0),"@"),o.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&o.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&o.push("/"),o.push(Vr(g,g.charAt(0)=="/"?_c:zs,!0))),(g=this.i.toString())&&o.push("?",g),(g=this.m)&&o.push("#",Vr(g,va)),o.join("")};function tn(o){return new he(o)}function Dr(o,m,g){o.j=g?fn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function xi(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function ai(o,m,g){m instanceof si?(o.i=m,hu(o.i,o.h)):(g||(m=Vr(m,vc)),o.i=new si(m,o.h))}function Gt(o,m,g){o.i.set(m,g)}function Cr(o){return Gt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function fn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Vr(o,m,g){return typeof o=="string"?(o=encodeURI(o).replace(m,cu),g&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function cu(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var xs=/[#\/\?@]/g,zs=/[#\?:]/g,_c=/[#\?]/g,vc=/[#\?@]/g,va=/#/g;function si(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function dn(o){o.g||(o.g=new Map,o.h=0,o.i&&yc(o.i,function(m,g){o.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}s=si.prototype,s.add=function(o,m){dn(this),this.i=null,o=Ln(this,o);var g=this.g.get(o);return g||this.g.set(o,g=[]),g.push(m),this.h+=1,this};function li(o,m){dn(o),m=Ln(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function ui(o,m){return dn(o),m=Ln(o,m),o.g.has(m)}s.forEach=function(o,m){dn(this),this.g.forEach(function(g,T){g.forEach(function(x){o.call(m,x,T,this)},this)},this)},s.na=function(){dn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let T=0;T<m.length;T++){const x=o[T];for(let k=0;k<x.length;k++)g.push(m[T])}return g},s.V=function(o){dn(this);let m=[];if(typeof o=="string")ui(this,o)&&(m=m.concat(this.g.get(Ln(this,o))));else{o=Array.from(this.g.values());for(let g=0;g<o.length;g++)m=m.concat(o[g])}return m},s.set=function(o,m){return dn(this),this.i=null,o=Ln(this,o),ui(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function Ls(o,m,g){li(o,m),0<g.length&&(o.i=null,o.g.set(Ln(o,m),nt(g)),o.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var T=m[g];const k=encodeURIComponent(String(T)),J=this.V(T);for(T=0;T<J.length;T++){var x=k;J[T]!==""&&(x+="="+encodeURIComponent(String(J[T]))),o.push(x)}}return this.i=o.join("&")};function Ln(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function hu(o,m){m&&!o.j&&(dn(o),o.i=null,o.g.forEach(function(g,T){var x=T.toLowerCase();T!=x&&(li(this,T),Ls(this,x,g))},o)),o.j=m}function Ir(o,m){const g=new hn;if(p.Image){const T=new Image;T.onload=Y(mn,g,"TestLoadImage: loaded",!0,m,T),T.onerror=Y(mn,g,"TestLoadImage: error",!1,m,T),T.onabort=Y(mn,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=Y(mn,g,"TestLoadImage: timeout",!1,m,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function wn(o,m){const g=new hn,T=new AbortController,x=setTimeout(()=>{T.abort(),mn(g,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(k=>{clearTimeout(x),k.ok?mn(g,"TestPingServer: ok",!0,m):mn(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(x),mn(g,"TestPingServer: error",!1,m)})}function mn(o,m,g,T,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),T(g)}catch{}}function Or(){this.g=new Ar}function Pn(o,m,g){const T=g||"";try{Us(o,function(x,k){let J=x;v(x)&&(J=bn(x)),m.push(T+k+"="+encodeURIComponent(J))})}catch(x){throw m.push(T+"type="+encodeURIComponent("_badmap")),x}}function zi(o){this.l=o.Ub||null,this.j=o.eb||!1}W(zi,Rs),zi.prototype.g=function(){return new oi(this.l,this.j)},zi.prototype.i=function(o){return function(){return o}}({});function oi(o,m){ie.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}W(oi,ie),s=oi.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,qn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ps(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ps(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Bn(this):qn(this),this.readyState==3&&Ps(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,Bn(this))},s.Qa=function(o){this.g&&(this.response=o,Bn(this))},s.ga=function(){this.g&&Bn(this)};function Bn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,qn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,o.push(g[0]+": "+g[1]),g=m.next();return o.join(`\r
`)};function qn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Bs(o){let m="";return xt(o,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function be(o,m,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=Bs(g),typeof o=="string"?g!=null&&encodeURIComponent(String(g)):Gt(o,m,g))}function Bt(o){ie.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}W(Bt,ie);var Ea=/^https?$/i,Nr=["POST","PUT"];s=Bt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Un.g(),this.v=this.o?ws(this.o):ws(Un),this.g.onreadystatechange=q(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(k){fu(this,k);return}if(o=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var x in T)g.set(x,T[x]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())g.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(k=>k.toLowerCase()=="content-type"),x=p.FormData&&o instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Nr,m,void 0))||T||x||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,J]of g)this.g.setRequestHeader(k,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mr(this),this.u=!0,this.g.send(o),this.u=!1}catch(k){fu(this,k)}};function fu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Ta(o),kn(o)}function Ta(o){o.A||(o.A=!0,kt(o,"complete"),kt(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,kt(this,"complete"),kt(this,"abort"),kn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kn(this,!0)),Bt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Aa(this):this.bb())},s.bb=function(){Aa(this)};function Aa(o){if(o.h&&typeof d<"u"&&(!o.v[1]||gn(o)!=4||o.Z()!=2)){if(o.u&&gn(o)==4)Be(o.Ea,0,o);else if(kt(o,"readystatechange"),gn(o)==4){o.h=!1;try{const J=o.Z();t:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var T;if(T=J===0){var x=String(o.D).match(wr)[1]||null;!x&&p.self&&p.self.location&&(x=p.self.location.protocol.slice(0,-1)),T=!Ea.test(x?x.toLowerCase():"")}g=T}if(g)kt(o,"complete"),kt(o,"success");else{o.m=6;try{var k=2<gn(o)?o.g.statusText:""}catch{k=""}o.l=k+" ["+o.Z()+"]",Ta(o)}}finally{kn(o)}}}}function kn(o,m){if(o.g){Mr(o);const g=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||kt(o,"ready");try{g.onreadystatechange=T}catch{}}}function Mr(o){o.I&&(p.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function gn(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),fa(m)}};function du(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ec(o){const m={};o=(o.g&&2<=gn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(Tt(o[T]))continue;var g=N(o[T]);const x=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const k=m[x]||[];m[x]=k,k.push(g)}O(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ur(o,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[o]||m}function Sa(o){this.Aa=0,this.i=[],this.j=new hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ur("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ur("baseRetryDelayMs",5e3,o),this.cb=Ur("retryDelaySeedMs",1e4,o),this.Wa=Ur("forwardChannelMaxRetries",2,o),this.wa=Ur("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new ri(o&&o.concurrentRequestLimit),this.Da=new Or,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Sa.prototype,s.la=8,s.G=1,s.connect=function(o,m,g,T){Jt(0),this.W=o,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=Eu(this,null,this.W),Ra(this)};function qs(o){if(mu(o),o.G==3){var m=o.U++,g=tn(o.I);if(Gt(g,"SID",o.K),Gt(g,"RID",m),Gt(g,"TYPE","terminate"),xr(o,g),m=new Qe(o,o.j,m),m.L=2,m.v=Cr(tn(g)),g=!1,p.navigator&&p.navigator.sendBeacon)try{g=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&p.Image&&(new Image().src=m.v,g=!0),g||(m.g=Tu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),br(m)}vu(o)}function ba(o){o.g&&(zr(o),o.g.cancel(),o.g=null)}function mu(o){ba(o),o.u&&(p.clearTimeout(o.u),o.u=null),wa(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&p.clearTimeout(o.s),o.s=null)}function Ra(o){if(!ga(o.h)&&!o.s){o.s=!0;var m=o.Ga;tt||D(),lt||(tt(),lt=!0),zt.add(m,o),o.B=0}}function Tc(o,m){return pa(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=ce(q(o.Ga,o,m),js(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const x=new Qe(this,this.j,o);let k=this.o;if(this.S&&(k?(k=S(k),I(k,this.S)):k=this.S),this.m!==null||this.O||(x.H=k,k=null),this.P)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=gu(this,x,m),g=tn(this.I),Gt(g,"RID",o),Gt(g,"CVER",22),this.D&&Gt(g,"X-HTTP-Session-Id",this.D),xr(this,g),k&&(this.O?m="headers="+encodeURIComponent(String(Bs(k)))+"&"+m:this.m&&be(g,this.m,k)),ya(this.h,x),this.Ua&&Gt(g,"TYPE","init"),this.P?(Gt(g,"$req",m),Gt(g,"SID","null"),x.T=!0,Rn(x,g,null)):Rn(x,g,m),this.G=2}}else this.G==3&&(o?ks(this,o):this.i.length==0||ga(this.h)||ks(this))};function ks(o,m){var g;m?g=m.l:g=o.U++;const T=tn(o.I);Gt(T,"SID",o.K),Gt(T,"RID",g),Gt(T,"AID",o.T),xr(o,T),o.m&&o.o&&be(T,o.m,o.o),g=new Qe(o,o.j,g,o.B+1),o.m===null&&(g.H=o.o),m&&(o.i=m.D.concat(o.i)),m=gu(o,g,1e3),g.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),ya(o.h,g),Rn(g,T,m)}function xr(o,m){o.H&&xt(o.H,function(g,T){Gt(m,T,g)}),o.l&&Us({},function(g,T){Gt(m,T,g)})}function gu(o,m,g){g=Math.min(o.i.length,g);var T=o.l?q(o.l.Na,o.l,o):null;t:{var x=o.i;let k=-1;for(;;){const J=["count="+g];k==-1?0<g?(k=x[0].g,J.push("ofs="+k)):k=0:J.push("ofs="+k);let Vt=!0;for(let ye=0;ye<g;ye++){let It=x[ye].g;const Re=x[ye].map;if(It-=k,0>It)k=Math.max(0,x[ye].g-100),Vt=!1;else try{Pn(Re,J,"req"+It+"_")}catch{T&&T(Re)}}if(Vt){T=J.join("&");break t}}}return o=o.i.splice(0,g),m.D=o,T}function pu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;tt||D(),lt||(tt(),lt=!0),zt.add(m,o),o.v=0}}function Hs(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=ce(q(o.Fa,o),js(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=ce(q(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),ba(this),yu(this))};function zr(o){o.A!=null&&(p.clearTimeout(o.A),o.A=null)}function yu(o){o.g=new Qe(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=tn(o.qa);Gt(m,"RID","rpc"),Gt(m,"SID",o.K),Gt(m,"AID",o.T),Gt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Gt(m,"TO",o.ja),Gt(m,"TYPE","xmlhttp"),xr(o,m),o.m&&o.o&&be(m,o.m,o.o),o.L&&(o.g.I=o.L);var g=o.g;o=o.ia,g.L=1,g.v=Cr(tn(m)),g.m=null,g.P=!0,ii(g,o)}s.Za=function(){this.C!=null&&(this.C=null,ba(this),Hs(this),Jt(19))};function wa(o){o.C!=null&&(p.clearTimeout(o.C),o.C=null)}function _u(o,m){var g=null;if(o.g==m){wa(o),zr(o),o.g=null;var T=2}else if(Ns(o.h,m))g=m.D,Fe(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var x=o.B;T=Ii(),kt(T,new pe(T,g)),Ra(o)}else pu(o);else if(x=m.s,x==3||x==0&&0<m.X||!(T==1&&Tc(o,m)||T==2&&Hs(o)))switch(g&&0<g.length&&(m=o.h,m.i=m.i.concat(g)),x){case 1:ci(o,5);break;case 4:ci(o,10);break;case 3:ci(o,6);break;default:ci(o,2)}}}function js(o,m){let g=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(g*=2),g*m}function ci(o,m){if(o.j.info("Error code "+m),m==2){var g=q(o.fb,o),T=o.Xa;const x=!T;T=new he(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Dr(T,"https"),Cr(T),x?Ir(T.toString(),g):wn(T.toString(),g)}else Jt(2);o.G=0,o.l&&o.l.sa(m),vu(o),mu(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function vu(o){if(o.G=0,o.ka=[],o.l){const m=Ms(o.h);(m.length!=0||o.i.length!=0)&&($(o.ka,m),$(o.ka,o.i),o.h.i.length=0,nt(o.i),o.i.length=0),o.l.ra()}}function Eu(o,m,g){var T=g instanceof he?tn(g):new he(g);if(T.g!="")m&&(T.g=m+"."+T.g),xi(T,T.s);else{var x=p.location;T=x.protocol,m=m?m+"."+x.hostname:x.hostname,x=+x.port;var k=new he(null);T&&Dr(k,T),m&&(k.g=m),x&&xi(k,x),g&&(k.l=g),T=k}return g=o.D,m=o.ya,g&&m&&Gt(T,g,m),Gt(T,"VER",o.la),xr(o,T),T}function Tu(o,m,g){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new Bt(new zi({eb:g})):new Bt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}s=Au.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Da(){}Da.prototype.g=function(o,m){return new Ye(o,m)};function Ye(o,m){ie.call(this),this.g=new Sa(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!Tt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Tt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Hn(this)}W(Ye,ie),Ye.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ye.prototype.close=function(){qs(this.g)},Ye.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var g={};g.__data__=o,o=g}else this.u&&(g={},g.__data__=bn(o),o=g);m.i.push(new ou(m.Ya++,o)),m.G==3&&Ra(m)},Ye.prototype.N=function(){this.g.l=null,delete this.j,qs(this.g),delete this.g,Ye.aa.N.call(this)};function Su(o){ei.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const g in m){o=g;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}W(Su,ei);function bu(){Cs.call(this),this.status=1}W(bu,Cs);function Hn(o){this.g=o}W(Hn,Au),Hn.prototype.ua=function(){kt(this.g,"a")},Hn.prototype.ta=function(o){kt(this.g,new Su(o))},Hn.prototype.sa=function(o){kt(this.g,new bu)},Hn.prototype.ra=function(){kt(this.g,"b")},Da.prototype.createWebChannel=Da.prototype.g,Ye.prototype.send=Ye.prototype.o,Ye.prototype.open=Ye.prototype.m,Ye.prototype.close=Ye.prototype.close,I_=function(){return new Da},V_=function(){return Ii()},C_=Mn,Nf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mi.NO_ERROR=0,Mi.TIMEOUT=8,Mi.HTTP_ERROR=6,No=Mi,ni.COMPLETE="complete",D_=ni,Ds.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",ie.prototype.listen=ie.prototype.K,Nl=Ds,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,w_=Bt}).apply(typeof wo<"u"?wo:typeof self<"u"?self:typeof window<"u"?window:{});const fy="@firebase/firestore",dy="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}je.UNAUTHENTICATED=new je(null),je.GOOGLE_CREDENTIALS=new je("google-credentials-uid"),je.FIRST_PARTY=new je("first-party-uid"),je.MOCK_USER=new je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ys="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new v_("@firebase/firestore");function is(){return ia.logLevel}function it(s,...e){if(ia.logLevel<=Mt.DEBUG){const i=e.map(Jf);ia.debug(`Firestore (${ys}): ${s}`,...i)}}function Di(s,...e){if(ia.logLevel<=Mt.ERROR){const i=e.map(Jf);ia.error(`Firestore (${ys}): ${s}`,...i)}}function os(s,...e){if(ia.logLevel<=Mt.WARN){const i=e.map(Jf);ia.warn(`Firestore (${ys}): ${s}`,...i)}}function Jf(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(s="Unexpected state"){const e=`FIRESTORE (${ys}) INTERNAL ASSERTION FAILED: `+s;throw Di(e),new Error(e)}function qt(s,e){s||dt()}function yt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends ps{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _A{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(je.UNAUTHENTICATED))}shutdown(){}}class vA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class EA{constructor(e){this.t=e,this.currentUser=je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0);let a=this.i;const u=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new ea;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ea,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},p=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ea)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt(typeof a.accessToken=="string"),new O_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string"),new je(e)}}class TA{constructor(e,i,a){this.l=e,this.h=i,this.P=a,this.type="FirstParty",this.user=je.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class AA{constructor(e,i,a){this.l=e,this.h=i,this.P=a}getToken(){return Promise.resolve(new TA(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class my{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SA{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,eA(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0);const a=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const u=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?u(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new my(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string"),this.R=i.token,new my(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const u=bA(40);for(let h=0;h<u.length;++h)a.length<20&&u[h]<i&&(a+=e.charAt(u[h]%62))}return a}}function St(s,e){return s<e?-1:s>e?1:0}function Mf(s,e){let i=0;for(;i<s.length&&i<e.length;){const a=s.codePointAt(i),u=e.codePointAt(i);if(a!==u){if(a<128&&u<128)return St(a,u);{const h=N_(),d=RA(h.encode(gy(s,i)),h.encode(gy(e,i)));return d!==0?d:St(a,u)}}i+=a>65535?2:1}return St(s.length,e.length)}function gy(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function RA(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return St(s[i],e[i]);return St(s.length,e.length)}function cs(s,e,i){return s.length===e.length&&s.every((a,u)=>i(a,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py=-62135596800,yy=1e6;class Te{static now(){return Te.fromMillis(Date.now())}static fromDate(e){return Te.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*yy);return new Te(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new at(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<py)throw new at(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yy}_compareTo(e){return this.seconds===e.seconds?St(this.nanoseconds,e.nanoseconds):St(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-py;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static fromTimestamp(e){return new pt(e)}static min(){return new pt(new Te(0,0))}static max(){return new pt(new Te(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="__name__";class Xn{constructor(e,i,a){i===void 0?i=0:i>e.length&&dt(),a===void 0?a=e.length-i:a>e.length-i&&dt(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Xn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Xn?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const h=Xn.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return St(e.length,i.length)}static compareSegments(e,i){const a=Xn.isNumericId(e),u=Xn.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?Xn.extractNumericId(e).compare(Xn.extractNumericId(i)):Mf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return lr.fromString(e.substring(4,e.length-2))}}class $t extends Xn{construct(e,i,a){return new $t(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new at(K.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new $t(i)}static emptyPath(){return new $t([])}}const wA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Le extends Xn{construct(e,i,a){return new Le(e,i,a)}static isValidIdentifier(e){return wA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Le.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_y}static keyField(){return new Le([_y])}static fromServerFormat(e){const i=[];let a="",u=0;const h=()=>{if(a.length===0)throw new at(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const p=e[u];if(p==="\\"){if(u+1===e.length)throw new at(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new at(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,u+=2}else p==="`"?(d=!d,u++):p!=="."||d?(a+=p,u++):(h(),u++)}if(h(),d)throw new at(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Le(i)}static emptyPath(){return new Le([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.path=e}static fromPath(e){return new ut($t.fromString(e))}static fromName(e){return new ut($t.fromString(e).popFirst(5))}static empty(){return new ut($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return $t.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new $t(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=-1;function DA(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=pt.fromTimestamp(a===1e9?new Te(i+1,0):new Te(i,a));return new or(u,ut.empty(),e)}function CA(s){return new or(s.readTime,s.key,jl)}class or{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new or(pt.min(),ut.empty(),jl)}static max(){return new or(pt.max(),ut.empty(),jl)}}function VA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ut.comparator(s.documentKey,e.documentKey),i!==0?i:St(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _s(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==IA)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new F((a,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof F?i:F.resolve(i)}catch(i){return F.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):F.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):F.reject(i)}static resolve(e){return new F((i,a)=>{i(e)})}static reject(e){return new F((i,a)=>{a(e)})}static waitFor(e){return new F((i,a)=>{let u=0,h=0,d=!1;e.forEach(p=>{++u,p.next(()=>{++h,d&&h===u&&i()},_=>a(_))}),d=!0,h===u&&i()})}static or(e){let i=F.resolve(!1);for(const a of e)i=i.next(u=>u?F.resolve(u):a());return i}static forEach(e,i){const a=[];return e.forEach((u,h)=>{a.push(i.call(this,u,h))}),this.waitFor(a)}static mapArray(e,i){return new F((a,u)=>{const h=e.length,d=new Array(h);let p=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(A=>{d[v]=A,++p,p===h&&a(d)},A=>u(A))}})}static doWhile(e,i){return new F((a,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):a()};h()})}}function NA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function vs(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.oe(a),this._e=a=>i.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Wo.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf=-1;function tc(s){return s==null}function Ho(s){return s===0&&1/s==-1/0}function MA(s){return typeof s=="number"&&Number.isInteger(s)&&!Ho(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="";function UA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=vy(e)),e=xA(s.get(i),e);return vy(e)}function xA(s,e){let i=e;const a=s.length;for(let u=0;u<a;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case U_:i+="";break;default:i+=h}}return i}function vy(s){return s+U_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function aa(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function x_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new ee(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new ee(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Do(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Do(this.root,e,this.comparator,!1)}getReverseIterator(){return new Do(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Do(this.root,e,this.comparator,!0)}}class Do{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,a,u,h){this.key=e,this.value=i,this.color=a??ze.RED,this.left=u??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,h){return new ze(e??this.key,i??this.value,a??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,a),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return ze.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(e,i,a,u,h){return this}insert(e,i,a){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.comparator=e,this.data=new ee(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ty(this.data.getIterator())}getIteratorFrom(e){return new Ty(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof Ae)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Ae(this.comparator);return i.data=e,i}}class Ty{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Le.comparator)}static empty(){return new In([])}unionWith(e){let i=new Ae(Le.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new In(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return cs(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new z_("Invalid base64 string: "+h):h}}(e);return new Pe(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new Pe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return St(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pe.EMPTY_BYTE_STRING=new Pe("");const zA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cr(s){if(qt(!!s),typeof s=="string"){let e=0;const i=zA.exec(s);if(qt(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:oe(s.seconds),nanos:oe(s.nanos)}}function oe(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function hr(s){return typeof s=="string"?Pe.fromBase64String(s):Pe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="server_timestamp",P_="__type__",B_="__previous_value__",q_="__local_write_time__";function td(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[P_])===null||i===void 0?void 0:i.stringValue)===L_}function ec(s){const e=s.mapValue.fields[B_];return td(e)?ec(e):e}function Gl(s){const e=cr(s.mapValue.fields[q_].timestampValue);return new Te(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,i,a,u,h,d,p,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v}}const jo="(default)";class Ql{constructor(e,i){this.projectId=e,this.database=i||jo}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===jo}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="__type__",PA="__max__",Co={mapValue:{}},H_="__vector__",Go="value";function fr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?td(s)?4:qA(s)?9007199254740991:BA(s)?10:11:dt()}function Jn(s,e){if(s===e)return!0;const i=fr(s);if(i!==fr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Gl(s).isEqual(Gl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=cr(u.timestampValue),p=cr(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return hr(u.bytesValue).isEqual(hr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return oe(u.geoPointValue.latitude)===oe(h.geoPointValue.latitude)&&oe(u.geoPointValue.longitude)===oe(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return oe(u.integerValue)===oe(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=oe(u.doubleValue),p=oe(h.doubleValue);return d===p?Ho(d)===Ho(p):isNaN(d)&&isNaN(p)}return!1}(s,e);case 9:return cs(s.arrayValue.values||[],e.arrayValue.values||[],Jn);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},p=h.mapValue.fields||{};if(Ey(d)!==Ey(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Jn(d[_],p[_])))return!1;return!0}(s,e);default:return dt()}}function Fl(s,e){return(s.values||[]).find(i=>Jn(i,e))!==void 0}function hs(s,e){if(s===e)return 0;const i=fr(s),a=fr(e);if(i!==a)return St(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return St(s.booleanValue,e.booleanValue);case 2:return function(h,d){const p=oe(h.integerValue||h.doubleValue),_=oe(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1}(s,e);case 3:return Ay(s.timestampValue,e.timestampValue);case 4:return Ay(Gl(s),Gl(e));case 5:return Mf(s.stringValue,e.stringValue);case 6:return function(h,d){const p=hr(h),_=hr(d);return p.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const p=h.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const A=St(p[v],_[v]);if(A!==0)return A}return St(p.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const p=St(oe(h.latitude),oe(d.latitude));return p!==0?p:St(oe(h.longitude),oe(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Sy(s.arrayValue,e.arrayValue);case 10:return function(h,d){var p,_,v,A;const V=h.fields||{},q=d.fields||{},Y=(p=V[Go])===null||p===void 0?void 0:p.arrayValue,W=(_=q[Go])===null||_===void 0?void 0:_.arrayValue,nt=St(((v=Y==null?void 0:Y.values)===null||v===void 0?void 0:v.length)||0,((A=W==null?void 0:W.values)===null||A===void 0?void 0:A.length)||0);return nt!==0?nt:Sy(Y,W)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===Co.mapValue&&d===Co.mapValue)return 0;if(h===Co.mapValue)return 1;if(d===Co.mapValue)return-1;const p=h.fields||{},_=Object.keys(p),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let V=0;V<_.length&&V<A.length;++V){const q=Mf(_[V],A[V]);if(q!==0)return q;const Y=hs(p[_[V]],v[A[V]]);if(Y!==0)return Y}return St(_.length,A.length)}(s.mapValue,e.mapValue);default:throw dt()}}function Ay(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return St(s,e);const i=cr(s),a=cr(e),u=St(i.seconds,a.seconds);return u!==0?u:St(i.nanos,a.nanos)}function Sy(s,e){const i=s.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const h=hs(i[u],a[u]);if(h)return h}return St(i.length,a.length)}function fs(s){return Uf(s)}function Uf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=cr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return hr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ut.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",u=!0;for(const h of i.values||[])u?u=!1:a+=",",a+=Uf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of a)h?h=!1:u+=",",u+=`${d}:${Uf(i.fields[d])}`;return u+"}"}(s.mapValue):dt()}function Mo(s){switch(fr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ec(s);return e?16+Mo(e):16;case 5:return 2*s.stringValue.length;case 6:return hr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((u,h)=>u+Mo(h),0)}(s.arrayValue);case 10:case 11:return function(a){let u=0;return aa(a.fields,(h,d)=>{u+=h.length+Mo(d)}),u}(s.mapValue);default:throw dt()}}function by(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function xf(s){return!!s&&"integerValue"in s}function ed(s){return!!s&&"arrayValue"in s}function Ry(s){return!!s&&"nullValue"in s}function wy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Uo(s){return!!s&&"mapValue"in s}function BA(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[k_])===null||i===void 0?void 0:i.stringValue)===H_}function zl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return aa(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=zl(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=zl(s.arrayValue.values[i]);return e}return Object.assign({},s)}function qA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===PA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Uo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(i)}setAll(e){let i=Le.emptyPath(),a={},u=[];e.forEach((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,u),a={},u=[],i=p.popLast()}d?a[p.lastSegment()]=zl(d):u.push(p.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,u)}delete(e){const i=this.field(e.popLast());Uo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Jn(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];Uo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){aa(i,(u,h)=>e[u]=h);for(const u of a)delete e[u]}clone(){return new Sn(zl(this.value))}}function j_(s){const e=[];return aa(s.fields,(i,a)=>{const u=new Le([i]);if(Uo(a)){const h=j_(a.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,i,a,u,h,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Ge(e,0,pt.min(),pt.min(),pt.min(),Sn.empty(),0)}static newFoundDocument(e,i,a,u){return new Ge(e,1,i,pt.min(),a,u,0)}static newNoDocument(e,i){return new Ge(e,2,i,pt.min(),pt.min(),Sn.empty(),0)}static newUnknownDocument(e,i){return new Ge(e,3,i,pt.min(),pt.min(),Sn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ge&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,i){this.position=e,this.inclusive=i}}function Dy(s,e,i){let a=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?a=ut.comparator(ut.fromName(d.referenceValue),i.key):a=hs(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function Cy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Jn(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,i="asc"){this.field=e,this.dir=i}}function kA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{}class ge extends G_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new jA(e,i,a):i==="array-contains"?new FA(e,a):i==="in"?new YA(e,a):i==="not-in"?new KA(e,a):i==="array-contains-any"?new XA(e,a):new ge(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new GA(e,a):new QA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(hs(i,this.value)):i!==null&&fr(this.value)===fr(i)&&this.matchesComparison(hs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class On extends G_{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new On(e,i)}matches(e){return Q_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Q_(s){return s.op==="and"}function F_(s){return HA(s)&&Q_(s)}function HA(s){for(const e of s.filters)if(e instanceof On)return!1;return!0}function zf(s){if(s instanceof ge)return s.field.canonicalString()+s.op.toString()+fs(s.value);if(F_(s))return s.filters.map(e=>zf(e)).join(",");{const e=s.filters.map(i=>zf(i)).join(",");return`${s.op}(${e})`}}function Y_(s,e){return s instanceof ge?function(a,u){return u instanceof ge&&a.op===u.op&&a.field.isEqual(u.field)&&Jn(a.value,u.value)}(s,e):s instanceof On?function(a,u){return u instanceof On&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce((h,d,p)=>h&&Y_(d,u.filters[p]),!0):!1}(s,e):void dt()}function K_(s){return s instanceof ge?function(i){return`${i.field.canonicalString()} ${i.op} ${fs(i.value)}`}(s):s instanceof On?function(i){return i.op.toString()+" {"+i.getFilters().map(K_).join(" ,")+"}"}(s):"Filter"}class jA extends ge{constructor(e,i,a){super(e,i,a),this.key=ut.fromName(a.referenceValue)}matches(e){const i=ut.comparator(e.key,this.key);return this.matchesComparison(i)}}class GA extends ge{constructor(e,i){super(e,"in",i),this.keys=X_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class QA extends ge{constructor(e,i){super(e,"not-in",i),this.keys=X_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function X_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ut.fromName(a.referenceValue))}class FA extends ge{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return ed(i)&&Fl(i.arrayValue,this.value)}}class YA extends ge{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Fl(this.value.arrayValue,i)}}class KA extends ge{constructor(e,i){super(e,"not-in",i)}matches(e){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Fl(this.value.arrayValue,i)}}class XA extends ge{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!ed(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Fl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,i=null,a=[],u=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=h,this.startAt=d,this.endAt=p,this.le=null}}function Vy(s,e=null,i=[],a=[],u=null,h=null,d=null){return new ZA(s,e,i,a,u,h,d)}function nd(s){const e=yt(s);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>zf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),tc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>fs(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>fs(a)).join(",")),e.le=i}return e.le}function id(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!kA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Y_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Cy(s.startAt,e.startAt)&&Cy(s.endAt,e.endAt)}function Lf(s){return ut.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,i=null,a=[],u=[],h=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=_,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function $A(s,e,i,a,u,h,d,p){return new Es(s,e,i,a,u,h,d,p)}function rd(s){return new Es(s)}function Iy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Z_(s){return s.collectionGroup!==null}function Ll(s){const e=yt(s);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ae(Le.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(p=p.add(v.field))})}),p})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new Yl(h,a))}),i.has(Le.keyField().canonicalString())||e.he.push(new Yl(Le.keyField(),a))}return e.he}function Zn(s){const e=yt(s);return e.Pe||(e.Pe=JA(e,Ll(s))),e.Pe}function JA(s,e){if(s.limitType==="F")return Vy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new Yl(u.field,h)});const i=s.endAt?new Qo(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Qo(s.startAt.position,s.startAt.inclusive):null;return Vy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Pf(s,e){const i=s.filters.concat([e]);return new Es(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Bf(s,e,i){return new Es(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function nc(s,e){return id(Zn(s),Zn(e))&&s.limitType===e.limitType}function $_(s){return`${nd(Zn(s))}|lt:${s.limitType}`}function rs(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>K_(u)).join(", ")}]`),tc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>fs(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>fs(u)).join(",")),`Target(${a})`}(Zn(s))}; limitType=${s.limitType})`}function ic(s,e){return e.isFoundDocument()&&function(a,u){const h=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ut.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,u){for(const h of Ll(a))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,u){for(const h of a.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(a,u){return!(a.startAt&&!function(d,p,_){const v=Dy(d,p,_);return d.inclusive?v<=0:v<0}(a.startAt,Ll(a),u)||a.endAt&&!function(d,p,_){const v=Dy(d,p,_);return d.inclusive?v>=0:v>0}(a.endAt,Ll(a),u))}(s,e)}function WA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function J_(s){return(e,i)=>{let a=!1;for(const u of Ll(s)){const h=tS(u,e,i);if(h!==0)return h;a=a||u.field.isKeyField()}return 0}}function tS(s,e,i){const a=s.field.isKeyField()?ut.comparator(e.key,i.key):function(h,d,p){const _=d.data.field(h),v=p.data.field(h);return _!==null&&v!==null?hs(_,v):dt()}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return dt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,h]of a)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){aa(this.inner,(i,a)=>{for(const[u,h]of a)e(u,h)})}isEmpty(){return x_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=new ee(ut.comparator);function Ci(){return eS}const W_=new ee(ut.comparator);function Ml(...s){let e=W_;for(const i of s)e=e.insert(i.key,i);return e}function tv(s){let e=W_;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function ta(){return Pl()}function ev(){return Pl()}function Pl(){return new sa(s=>s.toString(),(s,e)=>s.isEqual(e))}const nS=new ee(ut.comparator),iS=new Ae(ut.comparator);function Ct(...s){let e=iS;for(const i of s)e=e.add(i);return e}const rS=new Ae(St);function aS(){return rS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ho(e)?"-0":e}}function nv(s){return{integerValue:""+s}}function sS(s,e){return MA(e)?nv(e):ad(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this._=void 0}}function lS(s,e,i){return s instanceof Kl?function(u,h){const d={fields:{[P_]:{stringValue:L_},[q_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&td(h)&&(h=ec(h)),h&&(d.fields[B_]=h),{mapValue:d}}(i,e):s instanceof Xl?rv(s,e):s instanceof Zl?av(s,e):function(u,h){const d=iv(u,h),p=Oy(d)+Oy(u.Ie);return xf(d)&&xf(u.Ie)?nv(p):ad(u.serializer,p)}(s,e)}function uS(s,e,i){return s instanceof Xl?rv(s,e):s instanceof Zl?av(s,e):i}function iv(s,e){return s instanceof Fo?function(a){return xf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class Kl extends rc{}class Xl extends rc{constructor(e){super(),this.elements=e}}function rv(s,e){const i=sv(e);for(const a of s.elements)i.some(u=>Jn(u,a))||i.push(a);return{arrayValue:{values:i}}}class Zl extends rc{constructor(e){super(),this.elements=e}}function av(s,e){let i=sv(e);for(const a of s.elements)i=i.filter(u=>!Jn(u,a));return{arrayValue:{values:i}}}class Fo extends rc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function Oy(s){return oe(s.integerValue||s.doubleValue)}function sv(s){return ed(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,i){this.field=e,this.transform=i}}function cS(s,e){return s.field.isEqual(e.field)&&function(a,u){return a instanceof Xl&&u instanceof Xl||a instanceof Zl&&u instanceof Zl?cs(a.elements,u.elements,Jn):a instanceof Fo&&u instanceof Fo?Jn(a.Ie,u.Ie):a instanceof Kl&&u instanceof Kl}(s.transform,e.transform)}class hS{constructor(e,i){this.version=e,this.transformResults=i}}class Ri{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ri}static exists(e){return new Ri(void 0,e)}static updateTime(e){return new Ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class ac{}function lv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new ov(s.key,Ri.none()):new $l(s.key,s.data,Ri.none());{const i=s.data,a=Sn.empty();let u=new Ae(Le.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),u=u.add(h)}return new la(s.key,a,new In(u.toArray()),Ri.none())}}function fS(s,e,i){s instanceof $l?function(u,h,d){const p=u.value.clone(),_=My(u.fieldTransforms,h,d.transformResults);p.setAll(_),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,e,i):s instanceof la?function(u,h,d){if(!xo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const p=My(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(uv(u)),_.setAll(p),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Bl(s,e,i,a){return s instanceof $l?function(h,d,p,_){if(!xo(h.precondition,d))return p;const v=h.value.clone(),A=Uy(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof la?function(h,d,p,_){if(!xo(h.precondition,d))return p;const v=Uy(h.fieldTransforms,_,d),A=d.data;return A.setAll(uv(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(V=>V.field))}(s,e,i,a):function(h,d,p){return xo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(s,e,i)}function dS(s,e){let i=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),h=iv(a.transform,u||null);h!=null&&(i===null&&(i=Sn.empty()),i.set(a.field,h))}return i||null}function Ny(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&cs(a,u,(h,d)=>cS(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class $l extends ac{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class la extends ac{constructor(e,i,a,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function uv(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function My(s,e,i){const a=new Map;qt(s.length===i.length);for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,p=e.data.field(h.field);a.set(h.field,uS(d,p,i[u]))}return a}function Uy(s,e,i){const a=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);a.set(u.field,lS(h,d,e))}return a}class ov extends ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mS extends ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&fS(h,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Bl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Bl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=ev();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(u.key)?null:p;const _=lv(d,p);_!==null&&a.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(pt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Ct())}isEqual(e){return this.batchId===e.batchId&&cs(this.mutations,e.mutations,(i,a)=>Ny(i,a))&&cs(this.baseMutations,e.baseMutations,(i,a)=>Ny(i,a))}}class sd{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){qt(e.mutations.length===a.length);let u=function(){return nS}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,a[d].version);return new sd(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me,Nt;function _S(s){switch(s){case K.OK:return dt();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return dt()}}function cv(s){if(s===void 0)return Di("GRPC error has no .code"),K.UNKNOWN;switch(s){case me.OK:return K.OK;case me.CANCELLED:return K.CANCELLED;case me.UNKNOWN:return K.UNKNOWN;case me.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case me.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case me.INTERNAL:return K.INTERNAL;case me.UNAVAILABLE:return K.UNAVAILABLE;case me.UNAUTHENTICATED:return K.UNAUTHENTICATED;case me.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case me.NOT_FOUND:return K.NOT_FOUND;case me.ALREADY_EXISTS:return K.ALREADY_EXISTS;case me.PERMISSION_DENIED:return K.PERMISSION_DENIED;case me.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case me.ABORTED:return K.ABORTED;case me.OUT_OF_RANGE:return K.OUT_OF_RANGE;case me.UNIMPLEMENTED:return K.UNIMPLEMENTED;case me.DATA_LOSS:return K.DATA_LOSS;default:return dt()}}(Nt=me||(me={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=new lr([4294967295,4294967295],0);function xy(s){const e=N_().encode(s),i=new R_;return i.update(e),new Uint8Array(i.digest())}function zy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new lr([i,a],0),new lr([u,h],0)]}class ld{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Ul(`Invalid padding: ${i}`);if(a<0)throw new Ul(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=lr.fromNumber(this.Ee)}Ae(e,i,a){let u=e.add(i.multiply(lr.fromNumber(a)));return u.compare(vS)===1&&(u=new lr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=xy(e),[a,u]=zy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,u,h);if(!this.Re(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new ld(h,u,i);return a.forEach(p=>d.insert(p)),d}insert(e){if(this.Ee===0)return;const i=xy(e),[a,u]=zy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,u,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i,a,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new sc(pt.min(),u,new ee(St),Ci(),Ct())}}class Jl{constructor(e,i,a,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Jl(a,i,Ct(),Ct(),Ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,i,a,u){this.me=e,this.removedTargetIds=i,this.key=a,this.fe=u}}class hv{constructor(e,i){this.targetId=e,this.ge=i}}class fv{constructor(e,i,a=Pe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class Ly{constructor(){this.pe=0,this.ye=Py(),this.we=Pe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ct(),i=Ct(),a=Ct();return this.ye.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:dt()}}),new Jl(this.we,this.Se,e,i,a)}Me(){this.be=!1,this.ye=Py()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,qt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class ES{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ci(),this.$e=Vo(),this.Ue=Vo(),this.Ke=new ee(St)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const a=this.He(i);switch(e.state){case 0:this.Je(i)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(i);break;case 3:this.Je(i)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),a.Ce(e.resumeToken));break;default:dt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((a,u)=>{this.Je(u)&&i(u)})}Ze(e){const i=e.targetId,a=e.ge.count,u=this.Xe(i);if(u){const h=u.target;if(Lf(h))if(a===0){const d=new ut(h.path);this.ze(i,d,Ge.newNoDocument(d,pt.min()))}else qt(a===1);else{const d=this.et(i);if(d!==a){const p=this.tt(e),_=p?this.nt(p,e,d):1;if(_!==0){this.Ye(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,v)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=i;let d,p;try{d=hr(a).toUint8Array()}catch(_){if(_ instanceof z_)return os("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new ld(d,u,h)}catch(_){return os(_ instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.Ee===0?null:p}nt(e,i,a){return i.ge.count===a-this.st(e,i.targetId)?0:2}st(e,i){const a=this.ke.getRemoteKeysForTarget(i);let u=0;return a.forEach(h=>{const d=this.ke.it(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.ze(i,h,null),u++)}),u}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const p=this.Xe(d);if(p){if(h.current&&Lf(p.target)){const _=new ut(p.target.path);this._t(_).has(d)||this.ut(d,_)||this.ze(d,_,Ge.newNoDocument(_,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let a=Ct();this.Ue.forEach((h,d)=>{let p=!0;d.forEachWhile(_=>{const v=this.Xe(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(a=a.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const u=new sc(e,i,this.Ke,this.Qe,a);return this.Qe=Ci(),this.$e=Vo(),this.Ue=Vo(),this.Ke=new ee(St),u}Ge(e,i){if(!this.Je(e))return;const a=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,a),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,a){if(!this.Je(e))return;const u=this.He(e);this.ut(e,i)?u.xe(i,1):u.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),a&&(this.Qe=this.Qe.insert(i,a))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new Ly,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new Ae(St),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new Ae(St),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Ly),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Vo(){return new ee(ut.comparator)}function Py(){return new ee(ut.comparator)}const TS={asc:"ASCENDING",desc:"DESCENDING"},AS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SS={and:"AND",or:"OR"};class bS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function qf(s,e){return s.useProto3Json||tc(e)?e:{value:e}}function Yo(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function RS(s,e){return Yo(s,e.toTimestamp())}function $n(s){return qt(!!s),pt.fromTimestamp(function(i){const a=cr(i);return new Te(a.seconds,a.nanos)}(s))}function ud(s,e){return kf(s,e).canonicalString()}function kf(s,e){const i=function(u){return new $t(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function mv(s){const e=$t.fromString(s);return qt(vv(e)),e}function Hf(s,e){return ud(s.databaseId,e.path)}function Sf(s,e){const i=mv(e);if(i.get(1)!==s.databaseId.projectId)throw new at(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new at(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ut(pv(i))}function gv(s,e){return ud(s.databaseId,e)}function wS(s){const e=mv(s);return e.length===4?$t.emptyPath():pv(e)}function jf(s){return new $t(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function pv(s){return qt(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function By(s,e,i){return{name:Hf(s,e),fields:i.value.mapValue.fields}}function DS(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:dt()}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(qt(A===void 0||typeof A=="string"),Pe.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array),Pe.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(v){const A=v.code===void 0?K.UNKNOWN:cv(v.code);return new at(A,v.message||"")}(d);i=new fv(a,u,h,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=Sf(s,a.document.name),h=$n(a.document.updateTime),d=a.document.createTime?$n(a.document.createTime):pt.min(),p=new Sn({mapValue:{fields:a.document.fields}}),_=Ge.newFoundDocument(u,h,d,p),v=a.targetIds||[],A=a.removedTargetIds||[];i=new zo(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=Sf(s,a.document),h=a.readTime?$n(a.readTime):pt.min(),d=Ge.newNoDocument(u,h),p=a.removedTargetIds||[];i=new zo([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=Sf(s,a.document),h=a.removedTargetIds||[];i=new zo([],h,u,null)}else{if(!("filter"in e))return dt();{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:h}=a,d=new yS(u,h),p=a.targetId;i=new hv(p,d)}}return i}function CS(s,e){let i;if(e instanceof $l)i={update:By(s,e.key,e.value)};else if(e instanceof ov)i={delete:Hf(s,e.key)};else if(e instanceof la)i={update:By(s,e.key,e.data),updateMask:LS(e.fieldMask)};else{if(!(e instanceof mS))return dt();i={verify:Hf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const p=d.transform;if(p instanceof Kl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Xl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Zl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Fo)return{fieldPath:d.field.canonicalString(),increment:p.Ie};throw dt()}(0,a))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:RS(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:dt()}(s,e.precondition)),i}function VS(s,e){return s&&s.length>0?(qt(e!==void 0),s.map(i=>function(u,h){let d=u.updateTime?$n(u.updateTime):$n(h);return d.isEqual(pt.min())&&(d=$n(h)),new hS(d,u.transformResults||[])}(i,e))):[]}function IS(s,e){return{documents:[gv(s,e.path)]}}function OS(s,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=gv(s,u);const h=function(v){if(v.length!==0)return _v(On.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(q){return{field:as(q.field),direction:US(q.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=qf(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:i,parent:u}}function NS(s){let e=wS(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){qt(a===1);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(V){const q=yv(V);return q instanceof On&&F_(q)?q.getFilters():[q]}(i.where));let d=[];i.orderBy&&(d=function(V){return V.map(q=>function(W){return new Yl(ss(W.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(W.direction))}(q))}(i.orderBy));let p=null;i.limit&&(p=function(V){let q;return q=typeof V=="object"?V.value:V,tc(q)?null:q}(i.limit));let _=null;i.startAt&&(_=function(V){const q=!!V.before,Y=V.values||[];return new Qo(Y,q)}(i.startAt));let v=null;return i.endAt&&(v=function(V){const q=!V.before,Y=V.values||[];return new Qo(Y,q)}(i.endAt)),$A(e,u,d,h,p,"F",_,v)}function MS(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function yv(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ss(i.unaryFilter.field);return ge.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=ss(i.unaryFilter.field);return ge.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ss(i.unaryFilter.field);return ge.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ss(i.unaryFilter.field);return ge.create(d,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}(s):s.fieldFilter!==void 0?function(i){return ge.create(ss(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return On.create(i.compositeFilter.filters.map(a=>yv(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return dt()}}(i.compositeFilter.op))}(s):dt()}function US(s){return TS[s]}function xS(s){return AS[s]}function zS(s){return SS[s]}function as(s){return{fieldPath:s.canonicalString()}}function ss(s){return Le.fromServerFormat(s.fieldPath)}function _v(s){return s instanceof ge?function(i){if(i.op==="=="){if(wy(i.value))return{unaryFilter:{field:as(i.field),op:"IS_NAN"}};if(Ry(i.value))return{unaryFilter:{field:as(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(wy(i.value))return{unaryFilter:{field:as(i.field),op:"IS_NOT_NAN"}};if(Ry(i.value))return{unaryFilter:{field:as(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:as(i.field),op:xS(i.op),value:i.value}}}(s):s instanceof On?function(i){const a=i.getFilters().map(u=>_v(u));return a.length===1?a[0]:{compositeFilter:{op:zS(i.op),filters:a}}}(s):dt()}function LS(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function vv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,i,a,u,h=pt.min(),d=pt.min(),p=Pe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.Tt=e}}function BS(s){const e=NS({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Bf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this.Tn=new kS}addToCollectionParentIndex(e,i){return this.Tn.add(i),F.resolve()}getCollectionParents(e,i){return F.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return F.resolve()}deleteFieldIndex(e,i){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,i){return F.resolve()}getDocumentsMatchingTarget(e,i){return F.resolve(null)}getIndexType(e,i){return F.resolve(0)}getFieldIndexes(e,i){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,i){return F.resolve(or.min())}getMinOffsetFromCollectionGroup(e,i){return F.resolve(or.min())}updateCollectionGroup(e,i,a){return F.resolve()}updateIndexEntries(e,i){return F.resolve()}}class kS{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new Ae($t.comparator),h=!u.has(a);return this.index[i]=u.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new Ae($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ev=41943040;class Je{static withCacheSize(e){return new Je(e,Je.DEFAULT_COLLECTION_PERCENTILE,Je.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Je.DEFAULT_COLLECTION_PERCENTILE=10,Je.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Je.DEFAULT=new Je(Ev,Je.DEFAULT_COLLECTION_PERCENTILE,Je.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Je.DISABLED=new Je(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ds(0)}static Kn(){return new ds(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="LruGarbageCollector",HS=1048576;function Hy([s,e],[i,a]){const u=St(s,i);return u===0?St(e,a):u}class jS{constructor(e){this.Hn=e,this.buffer=new Ae(Hy),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Hy(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class GS{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){it(ky,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){vs(i)?it(ky,"Ignoring IndexedDB error during garbage collection: ",i):await _s(i)}await this.er(3e5)})}}class QS{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return F.resolve(Wo.ae);const a=new jS(i);return this.tr.forEachTarget(e,u=>a.Zn(u.sequenceNumber)).next(()=>this.tr.rr(e,u=>a.Zn(u))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.tr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(qy)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qy):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let a,u,h,d,p,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(V=>(V>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${V}`),u=this.params.maximumSequenceNumbersToCollect):u=V,d=Date.now(),this.nthSequenceNumber(e,u))).next(V=>(a=V,p=Date.now(),this.removeTargets(e,a,i))).next(V=>(h=V,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(V=>(v=Date.now(),is()<=Mt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(p-d)+`ms
	Removed ${h} targets in `+(_-p)+`ms
	Removed ${V} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:V})))}}function FS(s,e){return new QS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.changes=new sa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ge.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?F.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(a!==null&&Bl(a.mutation,u,In.empty(),Te.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Ct()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Ct()){const u=ta();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,a).next(h=>{let d=Ml();return h.forEach((p,_)=>{d=d.insert(p,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=ta();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Ct()))}populateOverlays(e,i,a){const u=[];return a.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,p)=>{i.set(d,p)})})}computeViews(e,i,a,u){let h=Ci();const d=Pl(),p=function(){return Pl()}();return i.forEach((_,v)=>{const A=a.get(v.key);u.has(v.key)&&(A===void 0||A.mutation instanceof la)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Bl(A.mutation,v,A.mutation.getFieldMask(),Te.now())):d.set(v.key,In.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var V;return p.set(v,new KS(A,(V=d.get(v))!==null&&V!==void 0?V:null))}),p))}recalculateAndSaveOverlays(e,i){const a=Pl();let u=new ee((d,p)=>d-p),h=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const p of d)p.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=a.get(_)||In.empty();A=p.applyToLocalView(v,A),a.set(_,A);const V=(u.get(p.batchId)||Ct()).add(_);u=u.insert(p.batchId,V)})}).next(()=>{const d=[],p=u.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,A=_.value,V=ev();A.forEach(q=>{if(!h.has(q)){const Y=lv(i.get(q),a.get(q));Y!==null&&V.set(q,Y),h=h.add(q)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,V))}return F.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,u){return function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Z_(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-h.size):F.resolve(ta());let p=jl,_=h;return d.next(v=>F.forEach(v,(A,V)=>(p<V.largestBatchId&&(p=V.largestBatchId),h.get(A)?F.resolve():this.remoteDocumentCache.getEntry(e,A).next(q=>{_=_.insert(A,q)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Ct())).next(A=>({batchId:p,changes:tv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ut(i)).next(a=>{let u=Ml();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const h=i.collectionGroup;let d=Ml();return this.indexManager.getCollectionParents(e,h).next(p=>F.forEach(p,_=>{const v=function(V,q){return new Es(q,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,u).next(A=>{A.forEach((V,q)=>{d=d.insert(V,q)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,u))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Ge.newInvalidDocument(A)))});let p=Ml();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&Bl(A.mutation,v,In.empty(),Te.now()),ic(i,v)&&(p=p.insert(_,v))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return F.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:$n(u.createTime)}}(i)),F.resolve()}getNamedQuery(e,i){return F.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(u){return{name:u.name,query:BS(u.bundledQuery),readTime:$n(u.readTime)}}(i)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.overlays=new ee(ut.comparator),this.Rr=new Map}getOverlay(e,i){return F.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ta();return F.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&a.set(u,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((u,h)=>{this.Et(e,i,h)}),F.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.Rr.get(a);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(a)),F.resolve()}getOverlaysForCollection(e,i,a){const u=ta(),h=i.length+1,d=new ut(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&u.set(_.getKey(),_)}return F.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let h=new ee((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=h.get(v.largestBatchId);A===null&&(A=ta(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const p=ta(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>p.set(v,A)),!(p.size()>=u)););return F.resolve(p)}Et(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.Rr.get(u.largestBatchId).delete(a.key);this.Rr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new pS(i,a));let h=this.Rr.get(i);h===void 0&&(h=Ct(),this.Rr.set(i,h)),this.Rr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(){this.sessionToken=Pe.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(){this.Vr=new Ae(Ve.mr),this.gr=new Ae(Ve.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const a=new Ve(e,i);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.wr(new Ve(e,i))}Sr(e,i){e.forEach(a=>this.removeReference(a,i))}br(e){const i=new ut(new $t([])),a=new Ve(i,e),u=new Ve(i,e+1),h=[];return this.gr.forEachInRange([a,u],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new ut(new $t([])),a=new Ve(i,e),u=new Ve(i,e+1);let h=Ct();return this.gr.forEachInRange([a,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ve(e,0),a=this.Vr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ve{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return ut.comparator(e.key,i.key)||St(e.Cr,i.Cr)}static pr(e,i){return St(e.Cr,i.Cr)||ut.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Ae(Ve.mr)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new gS(h,i,a,u);this.mutationQueue.push(d);for(const p of u)this.Mr=this.Mr.add(new Ve(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return F.resolve(d)}lookupMutationBatch(e,i){return F.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.Nr(a),h=u<0?0:u;return F.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Wf:this.Fr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ve(i,0),u=new Ve(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([a,u],d=>{const p=this.Or(d.Cr);h.push(p)}),F.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Ae(St);return i.forEach(u=>{const h=new Ve(u,0),d=new Ve(u,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],p=>{a=a.add(p.Cr)})}),F.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let h=a;ut.isDocumentKey(h)||(h=h.child(""));const d=new Ve(new ut(h),0);let p=new Ae(St);return this.Mr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===u&&(p=p.add(_.Cr)),!0)},d),F.resolve(this.Br(p))}Br(e){const i=[];return e.forEach(a=>{const u=this.Or(a);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){qt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return F.forEach(i.mutations,u=>{const h=new Ve(u.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,i){const a=new Ve(i,0),u=this.Mr.firstAfterOrEqual(a);return F.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e){this.kr=e,this.docs=function(){return new ee(ut.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),h=u?u.size:0,d=this.kr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return F.resolve(a?a.document.mutableCopy():Ge.newInvalidDocument(i))}getEntries(e,i){let a=Ci();return i.forEach(u=>{const h=this.docs.get(u);a=a.insert(u,h?h.document.mutableCopy():Ge.newInvalidDocument(u))}),F.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let h=Ci();const d=i.path,p=new ut(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||VA(CA(A),a)<=0||(u.has(A.key)||ic(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return F.resolve(h)}getAllFromCollectionGroup(e,i,a,u){dt()}qr(e,i){return F.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new e1(this)}getSize(e){return F.resolve(this.size)}}class e1 extends YS{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.Ir.addEntry(e,u)):this.Ir.removeEntry(a)}),F.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e){this.persistence=e,this.Qr=new sa(i=>nd(i),id),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new od,this.targetCount=0,this.Kr=ds.Un()}forEachTarget(e,i){return this.Qr.forEach((a,u)=>i(u)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.$r&&(this.$r=i),F.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new ds(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,F.resolve()}updateTargetData(e,i){return this.zn(i),F.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,i,a){let u=0;const h=[];return this.Qr.forEach((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),u++)}),F.waitFor(h).next(()=>u)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,i){const a=this.Qr.get(i)||null;return F.resolve(a)}addMatchingKeys(e,i,a){return this.Ur.yr(i,a),F.resolve()}removeMatchingKeys(e,i,a){this.Ur.Sr(i,a);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),F.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),F.resolve()}getMatchingKeysForTargetId(e,i){const a=this.Ur.vr(i);return F.resolve(a)}containsKey(e,i){return F.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new Wo(0),this.zr=!1,this.zr=!0,this.jr=new JS,this.referenceDelegate=e(this),this.Hr=new n1(this),this.indexManager=new qS,this.remoteDocumentCache=function(u){return new t1(u)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new PS(i),this.Yr=new ZS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new $S,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.Wr[e.toKey()];return a||(a=new WS(i,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,a){it("MemoryPersistence","Starting transaction:",e);const u=new i1(this.Gr.next());return this.referenceDelegate.Zr(),a(u).next(h=>this.referenceDelegate.Xr(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}ei(e,i){return F.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,i)))}}class i1 extends OA{constructor(e){super(),this.currentSequenceNumber=e}}class cd{constructor(e){this.persistence=e,this.ti=new od,this.ni=null}static ri(e){return new cd(e)}get ii(){if(this.ni)return this.ni;throw dt()}addReference(e,i,a){return this.ti.addReference(a,i),this.ii.delete(a.toString()),F.resolve()}removeReference(e,i,a){return this.ti.removeReference(a,i),this.ii.add(a.toString()),F.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),F.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(u=>this.ii.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.ii.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.ii,a=>{const u=ut.fromPath(a);return this.si(e,u).next(h=>{h||i.removeEntry(u,pt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(a=>{a?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return F.or([()=>F.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Ko{constructor(e,i){this.persistence=e,this.oi=new sa(a=>UA(a.path),(a,u)=>a.isEqual(u)),this.garbageCollector=FS(this,i)}static ri(e,i){return new Ko(e,i)}Zr(){}Xr(e){return F.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(u=>a+u))}sr(e){let i=0;return this.rr(e,a=>{i++}).next(()=>i)}rr(e,i){return F.forEach(this.oi,(a,u)=>this.ar(e,a,u).next(h=>h?F.resolve():i(u)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.qr(e,d=>this.ar(e,d,i).next(p=>{p||(a++,h.removeEntry(d,pt.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),F.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),F.resolve()}removeReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),F.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Mo(e.data.value)),i}ar(e,i,a){return F.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.oi.get(i);return F.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.Hi=a,this.Ji=u}static Yi(e,i){let a=Ct(),u=Ct();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new hd(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return J0()?8:NA(Z0())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,a,u){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,u,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new r1;return this._s(e,i,d).next(p=>{if(h.result=p,this.Xi)return this.us(e,i,d,p.size)})}).next(()=>h.result)}us(e,i,a,u){return a.documentReadCount<this.es?(is()<=Mt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",rs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),F.resolve()):(is()<=Mt.DEBUG&&it("QueryEngine","Query:",rs(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.ts*u?(is()<=Mt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",rs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(i))):F.resolve())}rs(e,i){if(Iy(i))return F.resolve(null);let a=Zn(i);return this.indexManager.getIndexType(e,a).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Bf(i,null,"F"),a=Zn(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Ct(...h);return this.ns.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.cs(i,p);return this.ls(i,v,d,_.readTime)?this.rs(e,Bf(i,null,"F")):this.hs(e,v,i,_)}))})))}ss(e,i,a,u){return Iy(i)||u.isEqual(pt.min())?F.resolve(null):this.ns.getDocuments(e,a).next(h=>{const d=this.cs(i,h);return this.ls(i,d,a,u)?F.resolve(null):(is()<=Mt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),rs(i)),this.hs(e,d,i,DA(u,jl)).next(p=>p))})}cs(e,i){let a=new Ae(J_(e));return i.forEach((u,h)=>{ic(e,h)&&(a=a.add(h))}),a}ls(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}_s(e,i,a){return is()<=Mt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",rs(i)),this.ns.getDocumentsMatchingQuery(e,i,or.min(),a)}hs(e,i,a,u){return this.ns.getDocumentsMatchingQuery(e,a,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd="LocalStore",s1=3e8;class l1{constructor(e,i,a,u){this.persistence=e,this.Ps=i,this.serializer=u,this.Ts=new ee(St),this.Is=new sa(h=>nd(h),id),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function u1(s,e,i,a){return new l1(s,e,i,a)}async function Av(s,e){const i=yt(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(h=>(u=h,i.As(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],p=[];let _=Ct();for(const v of u){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){p.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:p}))})})}function o1(s,e){const i=yt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(p,_,v,A){const V=v.batch,q=V.keys();let Y=F.resolve();return q.forEach(W=>{Y=Y.next(()=>A.getEntry(_,W)).next(nt=>{const $=v.docVersions.get(W);qt($!==null),nt.version.compareTo($)<0&&(V.applyToRemoteDocument(nt,v),nt.isValidDocument()&&(nt.setReadTime(v.commitVersion),A.addEntry(nt)))})}),Y.next(()=>p.mutationQueue.removeMutationBatch(_,V))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(p){let _=Ct();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,u))})}function Sv(s){const e=yt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function c1(s,e){const i=yt(s),a=e.snapshotVersion;let u=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});u=i.Ts;const p=[];e.targetChanges.forEach((A,V)=>{const q=u.get(V);if(!q)return;p.push(i.Hr.removeMatchingKeys(h,A.removedDocuments,V).next(()=>i.Hr.addMatchingKeys(h,A.addedDocuments,V)));let Y=q.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(V)!==null?Y=Y.withResumeToken(Pe.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):A.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(A.resumeToken,a)),u=u.insert(V,Y),function(nt,$,Et){return nt.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=s1?!0:Et.addedDocuments.size+Et.modifiedDocuments.size+Et.removedDocuments.size>0}(q,Y,A)&&p.push(i.Hr.updateTargetData(h,Y))});let _=Ci(),v=Ct();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),p.push(h1(h,d,e.documentUpdates).next(A=>{_=A.Vs,v=A.fs})),!a.isEqual(pt.min())){const A=i.Hr.getLastRemoteSnapshotVersion(h).next(V=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,a));p.push(A)}return F.waitFor(p).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ts=u,h))}function h1(s,e,i){let a=Ct(),u=Ct();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=Ci();return i.forEach((p,_)=>{const v=h.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(p)),_.isNoDocument()&&_.version.isEqual(pt.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):it(fd,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)}),{Vs:d,fs:u}})}function f1(s,e){const i=yt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Wf),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function d1(s,e){const i=yt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.Hr.getTargetData(a,e).next(h=>h?(u=h,F.resolve(u)):i.Hr.allocateTargetId(a).next(d=>(u=new rr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Hr.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.Ts.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(a.targetId,a),i.Is.set(e,a.targetId)),a})}async function Gf(s,e,i){const a=yt(s),u=a.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!vs(d))throw d;it(fd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ts=a.Ts.remove(e),a.Is.delete(u.target)}function jy(s,e,i){const a=yt(s);let u=pt.min(),h=Ct();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const V=yt(_),q=V.Is.get(A);return q!==void 0?F.resolve(V.Ts.get(q)):V.Hr.getTargetData(v,A)}(a,d,Zn(e)).next(p=>{if(p)return u=p.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(d,p.targetId).next(_=>{h=_})}).next(()=>a.Ps.getDocumentsMatchingQuery(d,e,i?u:pt.min(),i?h:Ct())).next(p=>(m1(a,WA(e),p),{documents:p,gs:h})))}function m1(s,e,i){let a=s.Es.get(e)||pt.min();i.forEach((u,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Es.set(e,a)}class Gy{constructor(){this.activeTargetIds=aS()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class g1{constructor(){this.ho=new Gy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,a){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Gy,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="ConnectivityMonitor";class Fy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){it(Qy,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){it(Qy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io=null;function Qf(){return Io===null?Io=function(){return 268435456+Math.round(2147483648*Math.random())}():Io++,"0x"+Io.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf="RestConnection",y1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _1{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${a}/databases/${u}`,this.wo=this.databaseId.database===jo?`project_id=${a}`:`project_id=${a}&database_id=${u}`}So(e,i,a,u,h){const d=Qf(),p=this.bo(e,i.toUriEncodedString());it(bf,`Sending RPC '${e}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(_,u,h),this.vo(e,p,_,a).then(v=>(it(bf,`Received RPC '${e}' ${d}: `,v),v),v=>{throw os(bf,`RPC '${e}' ${d} failed with error: `,v,"url: ",p,"request:",a),v})}Co(e,i,a,u,h,d){return this.So(e,i,a,u,h)}Do(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ys}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),a&&a.headers.forEach((u,h)=>e[h]=u)}bo(e,i){const a=y1[e];return`${this.po}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class E1 extends _1{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,a,u){const h=Qf();return new Promise((d,p)=>{const _=new w_;_.setWithCredentials(!0),_.listenOnce(D_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case No.NO_ERROR:const A=_.getResponseJson();it(He,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(A)),d(A);break;case No.TIMEOUT:it(He,`RPC '${e}' ${h} timed out`),p(new at(K.DEADLINE_EXCEEDED,"Request time out"));break;case No.HTTP_ERROR:const V=_.getStatus();if(it(He,`RPC '${e}' ${h} failed with status:`,V,"response text:",_.getResponseText()),V>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const Y=q==null?void 0:q.error;if(Y&&Y.status&&Y.message){const W=function($){const Et=$.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(Et)>=0?Et:K.UNKNOWN}(Y.status);p(new at(W,Y.message))}else p(new at(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new at(K.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{it(He,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(u);it(He,`RPC '${e}' ${h} sending request:`,u),_.send(i,"POST",v,a,15)})}Wo(e,i,a){const u=Qf(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=I_(),p=V_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Do(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=h.join("");it(He,`Creating RPC '${e}' stream ${u}: ${A}`,_);const V=d.createWebChannel(A,_);let q=!1,Y=!1;const W=new v1({Fo:$=>{Y?it(He,`Not sending because RPC '${e}' stream ${u} is closed:`,$):(q||(it(He,`Opening RPC '${e}' stream ${u} transport.`),V.open(),q=!0),it(He,`RPC '${e}' stream ${u} sending:`,$),V.send($))},Mo:()=>V.close()}),nt=($,Et,Tt)=>{$.listen(Et,gt=>{try{Tt(gt)}catch(Pt){setTimeout(()=>{throw Pt},0)}})};return nt(V,Nl.EventType.OPEN,()=>{Y||(it(He,`RPC '${e}' stream ${u} transport opened.`),W.Qo())}),nt(V,Nl.EventType.CLOSE,()=>{Y||(Y=!0,it(He,`RPC '${e}' stream ${u} transport closed`),W.Uo())}),nt(V,Nl.EventType.ERROR,$=>{Y||(Y=!0,os(He,`RPC '${e}' stream ${u} transport errored:`,$),W.Uo(new at(K.UNAVAILABLE,"The operation could not be completed")))}),nt(V,Nl.EventType.MESSAGE,$=>{var Et;if(!Y){const Tt=$.data[0];qt(!!Tt);const gt=Tt,Pt=(gt==null?void 0:gt.error)||((Et=gt[0])===null||Et===void 0?void 0:Et.error);if(Pt){it(He,`RPC '${e}' stream ${u} received error:`,Pt);const _t=Pt.status;let xt=function(w){const I=me[w];if(I!==void 0)return cv(I)}(_t),O=Pt.message;xt===void 0&&(xt=K.INTERNAL,O="Unknown error status: "+_t+" with message "+Pt.message),Y=!0,W.Uo(new at(xt,O)),V.close()}else it(He,`RPC '${e}' stream ${u} received:`,Tt),W.Ko(Tt)}}),nt(p,C_.STAT_EVENT,$=>{$.stat===Nf.PROXY?it(He,`RPC '${e}' stream ${u} detected buffering proxy`):$.stat===Nf.NOPROXY&&it(He,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{W.$o()},0),W}}function Rf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(s){return new bS(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,i,a=1e3,u=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=a,this.zo=u,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),u=Math.max(0,i-a);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,u,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="PersistentStream";class Rv{constructor(e,i,a,u,h,d,p,_){this.Ti=e,this.n_=a,this.r_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new bv(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Di(i.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.i_===i&&this.V_(a,u)},a=>{e(()=>{const u=new at(K.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(u)})})}V_(e,i){const a=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(u=>{a(()=>this.m_(u))}),this.stream.onMessage(u=>{a(()=>++this.__==1?this.g_(u):this.onNext(u))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return it(Yy,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(it(Yy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class T1 extends Rv{constructor(e,i,a,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=DS(this.serializer,e),a=function(h){if(!("targetChange"in h))return pt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?pt.min():d.readTime?$n(d.readTime):pt.min()}(e);return this.listener.p_(i,a)}y_(e){const i={};i.database=jf(this.serializer),i.addTarget=function(h,d){let p;const _=d.target;if(p=Lf(_)?{documents:IS(h,_)}:{query:OS(h,_).ht},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=dv(h,d.resumeToken);const v=qf(h,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(pt.min())>0){p.readTime=Yo(h,d.snapshotVersion.toTimestamp());const v=qf(h,d.expectedCount);v!==null&&(p.expectedCount=v)}return p}(this.serializer,e);const a=MS(this.serializer,e);a&&(i.labels=a),this.I_(i)}w_(e){const i={};i.database=jf(this.serializer),i.removeTarget=e,this.I_(i)}}class A1 extends Rv{constructor(e,i,a,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return qt(!!e.streamToken),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=VS(e.writeResults,e.commitTime),a=$n(e.commitTime);return this.listener.v_(a,i)}C_(){const e={};e.database=jf(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>CS(this.serializer,a))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{}class b1 extends S1{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.F_=!1}M_(){if(this.F_)throw new at(K.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,a,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,kf(i,a),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new at(K.UNKNOWN,h.toString())})}Co(e,i,a,u,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Co(e,kf(i,a),u,d,p,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(K.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class R1{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Di(i),this.N_=!1):it("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="RemoteStore";class w1{constructor(e,i,a,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{a.enqueueAndForget(async()=>{ua(this)&&(it(ra,"Restarting streams for network reachability change."),await async function(_){const v=yt(_);v.W_.add(4),await Wl(v),v.j_.set("Unknown"),v.W_.delete(4),await uc(v)}(this))})}),this.j_=new R1(a,u)}}async function uc(s){if(ua(s))for(const e of s.G_)await e(!0)}async function Wl(s){for(const e of s.G_)await e(!1)}function wv(s,e){const i=yt(s);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),pd(i)?gd(i):Ts(i).c_()&&md(i,e))}function dd(s,e){const i=yt(s),a=Ts(i);i.K_.delete(e),a.c_()&&Dv(i,e),i.K_.size===0&&(a.c_()?a.P_():ua(i)&&i.j_.set("Unknown"))}function md(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ts(s).y_(e)}function Dv(s,e){s.H_.Ne(e),Ts(s).w_(e)}function gd(s){s.H_=new ES({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.K_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Ts(s).start(),s.j_.B_()}function pd(s){return ua(s)&&!Ts(s).u_()&&s.K_.size>0}function ua(s){return yt(s).W_.size===0}function Cv(s){s.H_=void 0}async function D1(s){s.j_.set("Online")}async function C1(s){s.K_.forEach((e,i)=>{md(s,e)})}async function V1(s,e){Cv(s),pd(s)?(s.j_.q_(e),gd(s)):s.j_.set("Unknown")}async function I1(s,e,i){if(s.j_.set("Online"),e instanceof fv&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const p of h.targetIds)u.K_.has(p)&&(await u.remoteSyncer.rejectListen(p,d),u.K_.delete(p),u.H_.removeTarget(p))}(s,e)}catch(a){it(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Xo(s,a)}else if(e instanceof zo?s.H_.We(e):e instanceof hv?s.H_.Ze(e):s.H_.je(e),!i.isEqual(pt.min()))try{const a=await Sv(s.localStore);i.compareTo(a)>=0&&await function(h,d){const p=h.H_.ot(d);return p.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.K_.get(v);A&&h.K_.set(v,A.withResumeToken(_.resumeToken,d))}}),p.targetMismatches.forEach((_,v)=>{const A=h.K_.get(_);if(!A)return;h.K_.set(_,A.withResumeToken(Pe.EMPTY_BYTE_STRING,A.snapshotVersion)),Dv(h,_);const V=new rr(A.target,_,v,A.sequenceNumber);md(h,V)}),h.remoteSyncer.applyRemoteEvent(p)}(s,i)}catch(a){it(ra,"Failed to raise snapshot:",a),await Xo(s,a)}}async function Xo(s,e,i){if(!vs(e))throw e;s.W_.add(1),await Wl(s),s.j_.set("Offline"),i||(i=()=>Sv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{it(ra,"Retrying IndexedDB access"),await i(),s.W_.delete(1),await uc(s)})}function Vv(s,e){return e().catch(i=>Xo(s,i,e))}async function oc(s){const e=yt(s),i=dr(e);let a=e.U_.length>0?e.U_[e.U_.length-1].batchId:Wf;for(;O1(e);)try{const u=await f1(e.localStore,a);if(u===null){e.U_.length===0&&i.P_();break}a=u.batchId,N1(e,u)}catch(u){await Xo(e,u)}Iv(e)&&Ov(e)}function O1(s){return ua(s)&&s.U_.length<10}function N1(s,e){s.U_.push(e);const i=dr(s);i.c_()&&i.S_&&i.b_(e.mutations)}function Iv(s){return ua(s)&&!dr(s).u_()&&s.U_.length>0}function Ov(s){dr(s).start()}async function M1(s){dr(s).C_()}async function U1(s){const e=dr(s);for(const i of s.U_)e.b_(i.mutations)}async function x1(s,e,i){const a=s.U_.shift(),u=sd.from(a,e,i);await Vv(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await oc(s)}async function z1(s,e){e&&dr(s).S_&&await async function(a,u){if(function(d){return _S(d)&&d!==K.ABORTED}(u.code)){const h=a.U_.shift();dr(a).h_(),await Vv(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,u)),await oc(a)}}(s,e),Iv(s)&&Ov(s)}async function Ky(s,e){const i=yt(s);i.asyncQueue.verifyOperationInProgress(),it(ra,"RemoteStore received new credentials");const a=ua(i);i.W_.add(3),await Wl(i),a&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await uc(i)}async function L1(s,e){const i=yt(s);e?(i.W_.delete(2),await uc(i)):e||(i.W_.add(2),await Wl(i),i.j_.set("Unknown"))}function Ts(s){return s.J_||(s.J_=function(i,a,u){const h=yt(i);return h.M_(),new T1(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:D1.bind(null,s),No:C1.bind(null,s),Lo:V1.bind(null,s),p_:I1.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),pd(s)?gd(s):s.j_.set("Unknown")):(await s.J_.stop(),Cv(s))})),s.J_}function dr(s){return s.Y_||(s.Y_=function(i,a,u){const h=yt(i);return h.M_(),new A1(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:M1.bind(null,s),Lo:z1.bind(null,s),D_:U1.bind(null,s),v_:x1.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await oc(s)):(await s.Y_.stop(),s.U_.length>0&&(it(ra,`Stopping write stream with ${s.U_.length} pending writes`),s.U_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,i,a,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=h,this.deferred=new ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,h){const d=Date.now()+a,p=new yd(e,i,d,u,h);return p.start(a),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _d(s,e){if(Di("AsyncQueue",`${e}: ${s}`),vs(s))return new at(K.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{static emptySet(e){return new us(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ut.comparator(i.key,a.key):(i,a)=>ut.comparator(i.key,a.key),this.keyedMap=Ml(),this.sortedSet=new ee(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof us)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new us;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(){this.Z_=new ee(ut.comparator)}track(e){const i=e.doc.key,a=this.Z_.get(i);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(i):e.type===1&&a.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):dt():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,a)=>{e.push(a)}),e}}class ms{constructor(e,i,a,u,h,d,p,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,u,h){const d=[];return i.forEach(p=>{d.push({type:0,doc:p})}),new ms(e,i,us.emptySet(i),d,a,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class B1{constructor(){this.queries=Zy(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,a){const u=yt(i),h=u.queries;u.queries=Zy(),h.forEach((d,p)=>{for(const _ of p.ta)_.onError(a)})})(this,new at(K.ABORTED,"Firestore shutting down"))}}function Zy(){return new sa(s=>$_(s),nc)}async function q1(s,e){const i=yt(s);let a=3;const u=e.query;let h=i.queries.get(u);h?!h.na()&&e.ra()&&(a=2):(h=new P1,a=e.ra()?0:1);try{switch(a){case 0:h.ea=await i.onListen(u,!0);break;case 1:h.ea=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const p=_d(d,`Initialization of query '${rs(e.query)}' failed`);return void e.onError(p)}i.queries.set(u,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&vd(i)}async function k1(s,e){const i=yt(s),a=e.query;let u=3;const h=i.queries.get(a);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?u=e.ra()?0:1:!h.na()&&e.ra()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function H1(s,e){const i=yt(s);let a=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const p of d.ta)p.oa(u)&&(a=!0);d.ea=u}}a&&vd(i)}function j1(s,e,i){const a=yt(s),u=a.queries.get(e);if(u)for(const h of u.ta)h.onError(i);a.queries.delete(e)}function vd(s){s.ia.forEach(e=>{e.next()})}var Ff,$y;($y=Ff||(Ff={}))._a="default",$y.Cache="cache";class G1{constructor(e,i,a){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new ms(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const a=i!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=ms.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ff.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e){this.key=e}}class Mv{constructor(e){this.key=e}}class Q1{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ct(),this.mutatedKeys=Ct(),this.ya=J_(e),this.wa=new us(this.ya)}get Sa(){return this.fa}ba(e,i){const a=i?i.Da:new Xy,u=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,p=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((A,V)=>{const q=u.get(A),Y=ic(this.query,V)?V:null,W=!!q&&this.mutatedKeys.has(q.key),nt=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let $=!1;q&&Y?q.data.isEqual(Y.data)?W!==nt&&(a.track({type:3,doc:Y}),$=!0):this.va(q,Y)||(a.track({type:2,doc:Y}),$=!0,(_&&this.ya(Y,_)>0||v&&this.ya(Y,v)<0)&&(p=!0)):!q&&Y?(a.track({type:0,doc:Y}),$=!0):q&&!Y&&(a.track({type:1,doc:q}),$=!0,(_||v)&&(p=!0)),$&&(Y?(d=d.add(Y),h=nt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{wa:d,Da:a,ls:p,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((A,V)=>function(Y,W){const nt=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return nt(Y)-nt(W)}(A.type,V.type)||this.ya(A.doc,V.doc)),this.Ca(a),u=u!=null&&u;const p=i&&!u?this.Fa():[],_=this.pa.size===0&&this.current&&!u?1:0,v=_!==this.ga;return this.ga=_,d.length!==0||v?{snapshot:new ms(this.query,e.wa,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Xy,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ct(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const i=[];return e.forEach(a=>{this.pa.has(a)||i.push(new Mv(a))}),this.pa.forEach(a=>{e.has(a)||i.push(new Nv(a))}),i}Oa(e){this.fa=e.gs,this.pa=Ct();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return ms.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ed="SyncEngine";class F1{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class Y1{constructor(e){this.key=e,this.Ba=!1}}class K1{constructor(e,i,a,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new sa(p=>$_(p),nc),this.qa=new Map,this.Qa=new Set,this.$a=new ee(ut.comparator),this.Ua=new Map,this.Ka=new od,this.Wa={},this.Ga=new Map,this.za=ds.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function X1(s,e,i=!0){const a=Bv(s);let u;const h=a.ka.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.Na()):u=await Uv(a,e,i,!0),u}async function Z1(s,e){const i=Bv(s);await Uv(i,e,!0,!1)}async function Uv(s,e,i,a){const u=await d1(s.localStore,Zn(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let p;return a&&(p=await $1(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&wv(s.remoteStore,u),p}async function $1(s,e,i,a,u){s.Ha=(V,q,Y)=>async function(nt,$,Et,Tt){let gt=$.view.ba(Et);gt.ls&&(gt=await jy(nt.localStore,$.query,!1).then(({documents:O})=>$.view.ba(O,gt)));const Pt=Tt&&Tt.targetChanges.get($.targetId),_t=Tt&&Tt.targetMismatches.get($.targetId)!=null,xt=$.view.applyChanges(gt,nt.isPrimaryClient,Pt,_t);return Wy(nt,$.targetId,xt.Ma),xt.snapshot}(s,V,q,Y);const h=await jy(s.localStore,e,!0),d=new Q1(e,h.gs),p=d.ba(h.documents),_=Jl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",u),v=d.applyChanges(p,s.isPrimaryClient,_);Wy(s,i,v.Ma);const A=new F1(e,i,d);return s.ka.set(e,A),s.qa.has(i)?s.qa.get(i).push(e):s.qa.set(i,[e]),v.snapshot}async function J1(s,e,i){const a=yt(s),u=a.ka.get(e),h=a.qa.get(u.targetId);if(h.length>1)return a.qa.set(u.targetId,h.filter(d=>!nc(d,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await Gf(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&dd(a.remoteStore,u.targetId),Yf(a,u.targetId)}).catch(_s)):(Yf(a,u.targetId),await Gf(a.localStore,u.targetId,!0))}async function W1(s,e){const i=yt(s),a=i.ka.get(e),u=i.qa.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),dd(i.remoteStore,a.targetId))}async function tb(s,e,i){const a=lb(s);try{const u=await function(d,p){const _=yt(d),v=Te.now(),A=p.reduce((Y,W)=>Y.add(W.key),Ct());let V,q;return _.persistence.runTransaction("Locally write mutations","readwrite",Y=>{let W=Ci(),nt=Ct();return _.ds.getEntries(Y,A).next($=>{W=$,W.forEach((Et,Tt)=>{Tt.isValidDocument()||(nt=nt.add(Et))})}).next(()=>_.localDocuments.getOverlayedDocuments(Y,W)).next($=>{V=$;const Et=[];for(const Tt of p){const gt=dS(Tt,V.get(Tt.key).overlayedDocument);gt!=null&&Et.push(new la(Tt.key,gt,j_(gt.value.mapValue),Ri.exists(!0)))}return _.mutationQueue.addMutationBatch(Y,v,Et,p)}).next($=>{q=$;const Et=$.applyToLocalDocumentSet(V,nt);return _.documentOverlayCache.saveOverlays(Y,$.batchId,Et)})}).then(()=>({batchId:q.batchId,changes:tv(V)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),function(d,p,_){let v=d.Wa[d.currentUser.toKey()];v||(v=new ee(St)),v=v.insert(p,_),d.Wa[d.currentUser.toKey()]=v}(a,u.batchId,i),await tu(a,u.changes),await oc(a.remoteStore)}catch(u){const h=_d(u,"Failed to persist write");i.reject(h)}}async function xv(s,e){const i=yt(s);try{const a=await c1(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Ua.get(h);d&&(qt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?d.Ba=!0:u.modifiedDocuments.size>0?qt(d.Ba):u.removedDocuments.size>0&&(qt(d.Ba),d.Ba=!1))}),await tu(i,a,e)}catch(a){await _s(a)}}function Jy(s,e,i){const a=yt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.ka.forEach((h,d)=>{const p=d.view.sa(e);p.snapshot&&u.push(p.snapshot)}),function(d,p){const _=yt(d);_.onlineState=p;let v=!1;_.queries.forEach((A,V)=>{for(const q of V.ta)q.sa(p)&&(v=!0)}),v&&vd(_)}(a.eventManager,e),u.length&&a.La.p_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function eb(s,e,i){const a=yt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.Ua.get(e),h=u&&u.key;if(h){let d=new ee(ut.comparator);d=d.insert(h,Ge.newNoDocument(h,pt.min()));const p=Ct().add(h),_=new sc(pt.min(),new Map,new ee(St),d,p);await xv(a,_),a.$a=a.$a.remove(h),a.Ua.delete(e),Td(a)}else await Gf(a.localStore,e,!1).then(()=>Yf(a,e,i)).catch(_s)}async function nb(s,e){const i=yt(s),a=e.batch.batchId;try{const u=await o1(i.localStore,e);Lv(i,a,null),zv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await tu(i,u)}catch(u){await _s(u)}}async function ib(s,e,i){const a=yt(s);try{const u=await function(d,p){const _=yt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,p).next(V=>(qt(V!==null),A=V.keys(),_.mutationQueue.removeMutationBatch(v,V))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,p)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(a.localStore,e);Lv(a,e,i),zv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await tu(a,u)}catch(u){await _s(u)}}function zv(s,e){(s.Ga.get(e)||[]).forEach(i=>{i.resolve()}),s.Ga.delete(e)}function Lv(s,e,i){const a=yt(s);let u=a.Wa[a.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),a.Wa[a.currentUser.toKey()]=u}}function Yf(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.qa.get(e))s.ka.delete(a),i&&s.La.Ja(a,i);s.qa.delete(e),s.isPrimaryClient&&s.Ka.br(e).forEach(a=>{s.Ka.containsKey(a)||Pv(s,a)})}function Pv(s,e){s.Qa.delete(e.path.canonicalString());const i=s.$a.get(e);i!==null&&(dd(s.remoteStore,i),s.$a=s.$a.remove(e),s.Ua.delete(i),Td(s))}function Wy(s,e,i){for(const a of i)a instanceof Nv?(s.Ka.addReference(a.key,e),rb(s,a)):a instanceof Mv?(it(Ed,"Document no longer in limbo: "+a.key),s.Ka.removeReference(a.key,e),s.Ka.containsKey(a.key)||Pv(s,a.key)):dt()}function rb(s,e){const i=e.key,a=i.path.canonicalString();s.$a.get(i)||s.Qa.has(a)||(it(Ed,"New document in limbo: "+i),s.Qa.add(a),Td(s))}function Td(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const i=new ut($t.fromString(e)),a=s.za.next();s.Ua.set(a,new Y1(i)),s.$a=s.$a.insert(i,a),wv(s.remoteStore,new rr(Zn(rd(i.path)),a,"TargetPurposeLimboResolution",Wo.ae))}}async function tu(s,e,i){const a=yt(s),u=[],h=[],d=[];a.ka.isEmpty()||(a.ka.forEach((p,_)=>{d.push(a.Ha(_,e,i).then(v=>{var A;if((v||i)&&a.isPrimaryClient){const V=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(_.targetId,V?"current":"not-current")}if(v){u.push(v);const V=hd.Yi(_.targetId,v);h.push(V)}}))}),await Promise.all(d),a.La.p_(u),await async function(_,v){const A=yt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",V=>F.forEach(v,q=>F.forEach(q.Hi,Y=>A.persistence.referenceDelegate.addReference(V,q.targetId,Y)).next(()=>F.forEach(q.Ji,Y=>A.persistence.referenceDelegate.removeReference(V,q.targetId,Y)))))}catch(V){if(!vs(V))throw V;it(fd,"Failed to update sequence numbers: "+V)}for(const V of v){const q=V.targetId;if(!V.fromCache){const Y=A.Ts.get(q),W=Y.snapshotVersion,nt=Y.withLastLimboFreeSnapshotVersion(W);A.Ts=A.Ts.insert(q,nt)}}}(a.localStore,h))}async function ab(s,e){const i=yt(s);if(!i.currentUser.isEqual(e)){it(Ed,"User change. New user:",e.toKey());const a=await Av(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(p=>{p.forEach(_=>{_.reject(new at(K.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await tu(i,a.Rs)}}function sb(s,e){const i=yt(s),a=i.Ua.get(e);if(a&&a.Ba)return Ct().add(a.key);{let u=Ct();const h=i.qa.get(e);if(!h)return u;for(const d of h){const p=i.ka.get(d);u=u.unionWith(p.view.Sa)}return u}}function Bv(s){const e=yt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=xv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eb.bind(null,e),e.La.p_=H1.bind(null,e.eventManager),e.La.Ja=j1.bind(null,e.eventManager),e}function lb(s){const e=yt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ib.bind(null,e),e}class Zo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return u1(this.persistence,new a1,e.initialUser,this.serializer)}Xa(e){return new Tv(cd.ri,this.serializer)}Za(e){return new g1}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zo.provider={build:()=>new Zo};class ub extends Zo{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){qt(this.persistence.referenceDelegate instanceof Ko);const a=this.persistence.referenceDelegate.garbageCollector;return new GS(a,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?Je.withCacheSize(this.cacheSizeBytes):Je.DEFAULT;return new Tv(a=>Ko.ri(a,i),this.serializer)}}class Kf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Jy(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=ab.bind(null,this.syncEngine),await L1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new B1}()}createDatastore(e){const i=lc(e.databaseInfo.databaseId),a=function(h){return new E1(h)}(e.databaseInfo);return function(h,d,p,_){return new b1(h,d,p,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,u,h,d,p){return new w1(a,u,h,d,p)}(this.localStore,this.datastore,e.asyncQueue,i=>Jy(this.syncEngine,i,0),function(){return Fy.D()?new Fy:new p1}())}createSyncEngine(e,i){return function(u,h,d,p,_,v,A){const V=new K1(u,h,d,p,_,v);return A&&(V.ja=!0),V}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=yt(u);it(ra,"RemoteStore shutting down."),h.W_.add(5),await Wl(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Kf.provider={build:()=>new Kf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="FirestoreClient";class cb{constructor(e,i,a,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=je.UNAUTHENTICATED,this.clientId=M_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{it(mr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(it(mr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=_d(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function wf(s,e){s.asyncQueue.verifyOperationInProgress(),it(mr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async u=>{a.isEqual(u)||(await Av(e.localStore,u),a=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function t_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await hb(s);it(mr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>Ky(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,u)=>Ky(e.remoteStore,u)),s._onlineComponents=e}async function hb(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(mr,"Using user provided OfflineComponentProvider");try{await wf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===K.FAILED_PRECONDITION||u.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;os("Error using user provided cache. Falling back to memory cache: "+i),await wf(s,new Zo)}}else it(mr,"Using default OfflineComponentProvider"),await wf(s,new ub(void 0));return s._offlineComponents}async function qv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(mr,"Using user provided OnlineComponentProvider"),await t_(s,s._uninitializedComponentsProvider._online)):(it(mr,"Using default OnlineComponentProvider"),await t_(s,new Kf))),s._onlineComponents}function fb(s){return qv(s).then(e=>e.syncEngine)}async function e_(s){const e=await qv(s),i=e.eventManager;return i.onListen=X1.bind(null,e.syncEngine),i.onUnlisten=J1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Z1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=W1.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(s,e,i){if(!i)throw new at(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function db(s,e,i,a){if(e===!0&&a===!0)throw new at(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function i_(s){if(!ut.isDocumentKey(s))throw new at(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function r_(s){if(ut.isDocumentKey(s))throw new at(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function cc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":dt()}function ql(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new at(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=cc(s);throw new at(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="firestore.googleapis.com",a_=!0;class s_{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new at(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jv,this.ssl=a_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:a_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ev;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HS)throw new at(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}db("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kv((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,u){return a.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hc{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new _A;switch(a.type){case"firstParty":return new AA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new at(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=n_.get(i);a&&(it("ComponentProvider","Removing Datastore"),n_.delete(i),a.terminate())}(this),Promise.resolve()}}function mb(s,e,i,a={}){var u;const h=(s=ql(s,hc))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:s._getEmulatorOptions()}),p=`${e}:${i}`;h.host!==jv&&h.host!==p&&os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},h),{host:p,ssl:!1,emulatorOptions:a});if(!Bo(_,d)&&(s._setSettings(_),a.mockUserToken)){let v,A;if(typeof a.mockUserToken=="string")v=a.mockUserToken,A=je.MOCK_USER;else{v=X0(a.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const V=a.mockUserToken.sub||a.mockUserToken.user_id;if(!V)throw new at(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new je(V)}s._authCredentials=new vA(new O_(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new oa(this.firestore,e,this._query)}}class on{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}}class ur extends oa{constructor(e,i,a){super(e,i,rd(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new ut(e))}withConverter(e){return new ur(this.firestore,e,this._path)}}function l_(s,e,...i){if(s=na(s),Hv("collection","path",e),s instanceof hc){const a=$t.fromString(e,...i);return r_(a),new ur(s,null,a)}{if(!(s instanceof on||s instanceof ur))throw new at(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child($t.fromString(e,...i));return r_(a),new ur(s.firestore,null,a)}}function gb(s,e,...i){if(s=na(s),arguments.length===1&&(e=M_.newId()),Hv("doc","path",e),s instanceof hc){const a=$t.fromString(e,...i);return i_(a),new on(s,null,new ut(a))}{if(!(s instanceof on||s instanceof ur))throw new at(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child($t.fromString(e,...i));return i_(a),new on(s.firestore,s instanceof ur?s.converter:null,new ut(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="AsyncQueue";class o_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new bv(this,"async_queue_retry"),this.Su=()=>{const a=Rf();a&&it(u_,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=e;const i=Rf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Rf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new ea;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!vs(e))throw e;it(u_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const u=function(d){let p=d.message||"";return d.stack&&(p=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),p}(a);throw Di("INTERNAL UNHANDLED ERROR: ",u),a}).then(a=>(this.pu=!1,a))));return this.bu=i,i}enqueueAfterDelay(e,i,a){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const u=yd.createAndSchedule(this,e,i,a,h=>this.Fu(h));return this.fu.push(u),u}Du(){this.gu&&dt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}function c_(s){return function(i,a){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of a)if(h in u&&typeof u[h]=="function")return!0;return!1}(s,["next","error","complete"])}class $o extends hc{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new o_,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new o_(e),this._firestoreClient=void 0,await e}}}function pb(s,e){const i=typeof s=="object"?s:aA(),a=typeof s=="string"?s:jo,u=tA(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const h=Y0("firestore");h&&mb(u,...h)}return u}function Gv(s){if(s._terminated)throw new at(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||yb(s),s._firestoreClient}function yb(s){var e,i,a;const u=s._freezeSettings(),h=function(p,_,v,A){return new LA(p,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,kv(A.experimentalLongPollingOptions),A.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=u.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new cb(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(p){const _=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gs(Pe.fromBase64String(e))}catch(i){throw new at(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new gs(Pe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new at(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Le(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new at(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new at(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return St(this._lat,e._lat)||St(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,u){if(a.length!==u.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=/^__.*__$/;class vb{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new la(e,this.data,this.fieldMask,i,this.fieldTransforms):new $l(e,this.data,i,this.fieldTransforms)}}function Qv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class wd{constructor(e,i,a,u,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new wd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:a,Qu:!1});return u.$u(e),u}Uu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:a,Qu:!1});return u.Bu(),u}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Jo(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Qv(this.Lu)&&_b.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Eb{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||lc(e)}ju(e,i,a,u=!1){return new wd({Lu:e,methodName:i,zu:a,path:Le.emptyPath(),Qu:!1,Gu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fv(s){const e=s._freezeSettings(),i=lc(s._databaseId);return new Eb(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Tb(s,e,i,a,u,h={}){const d=s.ju(h.merge||h.mergeFields?2:0,e,i,u);Xv("Data must be an object, but it was:",d,a);const p=Yv(a,d);let _,v;if(h.merge)_=new In(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const V of h.mergeFields){const q=Sb(e,V,i);if(!d.contains(q))throw new at(K.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);Rb(A,q)||A.push(q)}_=new In(A),v=d.fieldTransforms.filter(V=>_.covers(V.field))}else _=null,v=d.fieldTransforms;return new vb(new Sn(p),_,v)}class Dd extends Sd{_toFieldTransform(e){return new oS(e.path,new Kl)}isEqual(e){return e instanceof Dd}}function Ab(s,e,i,a=!1){return Cd(i,s.ju(a?4:3,e))}function Cd(s,e){if(Kv(s=na(s)))return Xv("Unsupported field value:",e,s),Yv(s,e);if(s instanceof Sd)return function(a,u){if(!Qv(u.Lu))throw u.Wu(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Wu(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,u){const h=[];let d=0;for(const p of a){let _=Cd(p,u.Ku(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,u){if((a=na(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return sS(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Te.fromDate(a);return{timestampValue:Yo(u.serializer,h)}}if(a instanceof Te){const h=new Te(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Yo(u.serializer,h)}}if(a instanceof bd)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof gs)return{bytesValue:dv(u.serializer,a._byteString)};if(a instanceof on){const h=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw u.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:ud(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof Rd)return function(d,p){return{mapValue:{fields:{[k_]:{stringValue:H_},[Go]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw p.Wu("VectorValues must only contain numeric values.");return ad(p.serializer,v)})}}}}}}(a,u);throw u.Wu(`Unsupported field value: ${cc(a)}`)}(s,e)}function Yv(s,e){const i={};return x_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):aa(s,(a,u)=>{const h=Cd(u,e.qu(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function Kv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Te||s instanceof bd||s instanceof gs||s instanceof on||s instanceof Sd||s instanceof Rd)}function Xv(s,e,i){if(!Kv(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const a=cc(i);throw a==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+a)}}function Sb(s,e,i){if((e=na(e))instanceof Ad)return e._internalPath;if(typeof e=="string")return Zv(s,e);throw Jo("Field path arguments must be of type string or ",s,!1,void 0,i)}const bb=new RegExp("[~\\*/\\[\\]]");function Zv(s,e,i){if(e.search(bb)>=0)throw Jo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Ad(...e.split("."))._internalPath}catch{throw Jo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Jo(s,e,i,a,u){const h=a&&!a.isEmpty(),d=u!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${u}`),_+=")"),new at(K.INVALID_ARGUMENT,p+s+_)}function Rb(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,i,a,u,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Vd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class wb extends $v{data(){return super.data()}}function Vd(s,e){return typeof e=="string"?Zv(s,e):e instanceof Ad?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new at(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Id{}class Jv extends Id{}function Cb(s,e,...i){let a=[];e instanceof Id&&a.push(e),a=a.concat(i),function(h){const d=h.filter(_=>_ instanceof Nd).length,p=h.filter(_=>_ instanceof Od).length;if(d>1||d>0&&p>0)throw new at(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const u of a)s=u._apply(s);return s}class Od extends Jv{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Od(e,i,a)}_apply(e){const i=this._parse(e);return Wv(e._query,i),new oa(e.firestore,e.converter,Pf(e._query,i))}_parse(e){const i=Fv(e.firestore);return function(h,d,p,_,v,A,V){let q;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new at(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){f_(V,A);const W=[];for(const nt of V)W.push(h_(_,h,nt));q={arrayValue:{values:W}}}else q=h_(_,h,V)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||f_(V,A),q=Ab(p,d,V,A==="in"||A==="not-in");return ge.create(v,A,q)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Nd extends Id{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Nd(e,i)}_parse(e){const i=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return i.length===1?i[0]:On.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(u,h){let d=u;const p=h.getFlattenedFilters();for(const _ of p)Wv(d,_),d=Pf(d,_)}(e._query,i),new oa(e.firestore,e.converter,Pf(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Md extends Jv{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Md(e,i)}_apply(e){const i=function(u,h,d){if(u.startAt!==null)throw new at(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(u.endAt!==null)throw new at(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yl(h,d)}(e._query,this._field,this._direction);return new oa(e.firestore,e.converter,function(u,h){const d=u.explicitOrderBy.concat([h]);return new Es(u.path,u.collectionGroup,d,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,i))}}function Vb(s,e="asc"){const i=e,a=Vd("orderBy",s);return Md._create(a,i)}function h_(s,e,i){if(typeof(i=na(i))=="string"){if(i==="")throw new at(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Z_(e)&&i.indexOf("/")!==-1)throw new at(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child($t.fromString(i));if(!ut.isDocumentKey(a))throw new at(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return by(s,new ut(a))}if(i instanceof on)return by(s,i._key);throw new at(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cc(i)}.`)}function f_(s,e){if(!Array.isArray(s)||s.length===0)throw new at(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Wv(s,e){const i=function(u,h){for(const d of u)for(const p of d.getFlattenedFilters())if(h.indexOf(p.op)>=0)return p.op;return null}(s.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new at(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class Ib{convertValue(e,i="none"){switch(fr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(hr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw dt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return aa(e,(u,h)=>{a[u]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,u;const h=(u=(a=(i=e.fields)===null||i===void 0?void 0:i[Go].arrayValue)===null||a===void 0?void 0:a.values)===null||u===void 0?void 0:u.map(d=>oe(d.doubleValue));return new Rd(h)}convertGeoPoint(e){return new bd(oe(e.latitude),oe(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=ec(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){const i=cr(e);return new Te(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=$t.fromString(e);qt(vv(a));const u=new Ql(a.get(1),a.get(3)),h=new ut(a.popFirst(5));return u.isEqual(i)||Di(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(s,e,i){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tE extends $v{constructor(e,i,a,u,h,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Lo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Vd("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Lo extends tE{data(e={}){return super.data(e)}}class Nb{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new xl(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Lo(this._firestore,this._userDataWriter,a.key,a,new xl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(p=>{const _=new Lo(u._firestore,u._userDataWriter,p.doc.key,p.doc,new xl(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(p=>h||p.type!==3).map(p=>{const _=new Lo(u._firestore,u._userDataWriter,p.doc.key,p.doc,new xl(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,A=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:Mb(p.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Mb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}class eE extends Ib{constructor(e){super(),this.firestore=e}convertBytes(e){return new gs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,i)}}function Ub(s,e){const i=ql(s.firestore,$o),a=gb(s),u=Ob(s.converter,e);return zb(i,[Tb(Fv(s.firestore),"addDoc",a._key,u,s.converter!==null,{}).toMutation(a._key,Ri.exists(!1))]).then(()=>a)}function xb(s,...e){var i,a,u;s=na(s);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||c_(e[d])||(h=e[d],d++);const p={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(c_(e[d])){const V=e[d];e[d]=(i=V.next)===null||i===void 0?void 0:i.bind(V),e[d+1]=(a=V.error)===null||a===void 0?void 0:a.bind(V),e[d+2]=(u=V.complete)===null||u===void 0?void 0:u.bind(V)}let _,v,A;if(s instanceof on)v=ql(s.firestore,$o),A=rd(s._key.path),_={next:V=>{e[d]&&e[d](Lb(v,s,V))},error:e[d+1],complete:e[d+2]};else{const V=ql(s,oa);v=ql(V.firestore,$o),A=V._query;const q=new eE(v);_={next:Y=>{e[d]&&e[d](new Nb(v,q,V,Y))},error:e[d+1],complete:e[d+2]},Db(s._query)}return function(q,Y,W,nt){const $=new ob(nt),Et=new G1(Y,$,W);return q.asyncQueue.enqueueAndForget(async()=>q1(await e_(q),Et)),()=>{$.su(),q.asyncQueue.enqueueAndForget(async()=>k1(await e_(q),Et))}}(Gv(v),A,p,_)}function zb(s,e){return function(a,u){const h=new ea;return a.asyncQueue.enqueueAndForget(async()=>tb(await fb(a),u,h)),h.promise}(Gv(s),e)}function Lb(s,e,i){const a=i.docs.get(e._key),u=new eE(s);return new tE(s,u,e._key,a,new xl(i.hasPendingWrites,i.fromCache),e.converter)}function Pb(){return new Dd("serverTimestamp")}(function(e,i=!0){(function(u){ys=u})(rA),ko(new kl("firestore",(a,{instanceIdentifier:u,options:h})=>{const d=a.getProvider("app").getImmediate(),p=new $o(new EA(a.getProvider("auth-internal")),new SA(d,a.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new at(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(v.options.projectId,A)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),p._setSettings(h),p},"PUBLIC").setMultipleInstances(!0)),ls(fy,dy,e),ls(fy,dy,"esm2017")})();var ns={};const Bb={apiKey:ns.REACT_APP_FIREBASE_API_KEY,authDomain:ns.REACT_APP_FIREBASE_AUTH_DOMAIN,projectId:ns.REACT_APP_FIREBASE_PROJECT_ID,storageBucket:ns.REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:ns.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:ns.REACT_APP_FIREBASE_APP_ID},qb=A_(Bb),d_=pb(qb);var kb=function(s,e,i,a){function u(h){return h instanceof i?h:new i(function(d){d(h)})}return new(i||(i=Promise))(function(h,d){function p(A){try{v(a.next(A))}catch(V){d(V)}}function _(A){try{v(a.throw(A))}catch(V){d(V)}}function v(A){A.done?h(A.value):u(A.value).then(p,_)}v((a=a.apply(s,e||[])).next())})};const Hb=()=>{const[s,e]=Oo.useState([]),[i,a]=Oo.useState("");Oo.useEffect(()=>{const h=Cb(l_(d_,"retro-items"),Vb("createdAt")),d=xb(h,p=>{const _=p.docs.map(v=>v.data().text);e(_)});return()=>d()},[]);const u=()=>kb(void 0,void 0,void 0,function*(){i.trim()&&(yield Ub(l_(d_,"retro-items"),{text:i,createdAt:Pb()}),a(""))});return Jr.createElement("div",null,Jr.createElement("h1",null,"Retro Board"),Jr.createElement("input",{type:"text",value:i,onChange:h=>a(h.target.value),placeholder:"Write a note..."}),Jr.createElement("button",{onClick:u,disabled:!i.trim()},"Send"),Jr.createElement("ul",null,s.map((h,d)=>Jr.createElement("li",{key:d},h))))};z0.createRoot(document.getElementById("root")).render(Fp.jsx(Jr.StrictMode,{children:Fp.jsx(Hb,{})}));
